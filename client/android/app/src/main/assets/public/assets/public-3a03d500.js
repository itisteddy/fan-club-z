import{B as R,aT as K,aV as Jt,aW as se,an as $e,ap as Xt,aX as Ya,am as ut,ak as z,au as ge,af as ie,ag as Ue,aY as je,aj as Ja,aZ as Xa,ai as Fn,aQ as at,al as dr,a_ as Qa,a$ as Zs,b0 as ei,av as Z,b1 as Qt,aP as gt,ae as It,b2 as jn,ar as we,aw as lr,b3 as ti,b4 as Ws,ax as Le,a0 as ve,aS as yt,b5 as ni,b6 as ri,b7 as Lt,b8 as Ln,b9 as Kr,ba as Yr,bb as Jr,bc as Xr,bd as Qr,be as es,bf as ts,bg as ns,bh as Dn,V as en,bi as rs,bj as si,bk as oi,bl as Ks,_ as Ys,bm as ai,aR as qe,bn as ii,bo as Js,bp as ci,bq as ui,br as fi,bs as di,bt as li,bu as bi,ay as Re,j as Xs,bv as pi,bw as hi,aH as yi,bx as mi,by as gi,bz as ss,aB as wi,aG as vi,aE as xi,aI as Qs,aJ as qt,bA as eo,bB as Ei,bC as to,az as no,bD as Ai,bE as os,as as Pi,bF as Bi,at as as,bG as ro,bH as $i}from"./index-6112b649.js";const Ht=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],Un=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],so=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],oo=[...so,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Si=[...so,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],is=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],cs=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],ao=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],us=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Al=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}];function ce(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Li(e.type);return`${e.name}(${tn(e.inputs,{includeName:t})})`}function tn(e,{includeName:t=!1}={}){return e?e.map(n=>Ii(n,{includeName:t})).join(t?", ":","):""}function Ii(e,{includeName:t}){return e.type.startsWith("tuple")?`(${tn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class ki extends R{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class fs extends R{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class io extends R{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${tn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class kt extends R{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Ni extends R{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Ti extends R{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${K(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Ri extends R{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Ci extends R{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class ds extends R{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class co extends R{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class _i extends R{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class uo extends R{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class ls extends R{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class it extends R{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class fo extends R{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Oi extends R{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class zi extends R{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${ce(t.abiItem)}\`, and`,`\`${n.type}\` in \`${ce(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Mi=class extends R{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class wt extends R{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${tn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class nn extends R{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ce(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Fi extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class ji extends R{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let lo=class extends R{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Li extends R{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class $l extends R{constructor(t){super(`Type "${t}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}function Di(e,t={}){typeof t.size<"u"&&Jt(e,{size:t.size});const n=se(e,t);return $e(n,t)}function Ui(e,t={}){let n=e;if(typeof t.size<"u"&&(Jt(n,{size:t.size}),n=Xt(n)),n.length>1||n[0]>1)throw new Ya(n);return!!n[0]}function Pe(e,t={}){typeof t.size<"u"&&Jt(e,{size:t.size});const n=se(e,t);return ut(n,t)}function qi(e,t={}){let n=e;return typeof t.size<"u"&&(Jt(n,{size:t.size}),n=Xt(n,{dir:"right"})),new TextDecoder().decode(n)}const Sl=/^(.*)\[([0-9]*)\]$/,Hi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bo=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ze(e,t){if(e.length!==t.length)throw new Ri({expectedLength:e.length,givenLength:t.length});const n=Gi({params:e,values:t}),r=pr(n);return r.length===0?"0x":r}function Gi({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(br({param:e[r],value:t[r]}));return n}function br({param:e,value:t}){const n=hr(e.type);if(n){const[r,s]=n;return Zi(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Xi(t,{param:e});if(e.type==="address")return Vi(t);if(e.type==="bool")return Ki(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=bo.exec(e.type)??[];return Yi(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return Wi(t,{param:e});if(e.type==="string")return Ji(t);throw new Fi(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function pr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=K(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(z(t+s,{size:32})),r.push(i),s+=K(i)):n.push(i)}return ge([...n,...r])}function Vi(e){if(!ie(e))throw new Ue({address:e});return{dynamic:!1,encoded:je(e.toLowerCase())}}function Zi(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new lo(e);if(!r&&e.length!==t)throw new Ni({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let a=0;a<e.length;a++){const i=br({param:n,value:e[a]});i.dynamic&&(s=!0),o.push(i)}if(r||s){const a=pr(o);if(r){const i=z(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ge([i,a]):i}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:ge(o.map(({encoded:a})=>a))}}function Wi(e,{param:t}){const[,n]=t.type.split("bytes"),r=K(e);if(!n){let s=e;return r%32!==0&&(s=je(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:ge([je(z(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new Ti({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:je(e,{dir:"right"})}}function Ki(e){if(typeof e!="boolean")throw new R(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:je(Ja(e))}}function Yi(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Xa({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:z(e,{size:32,signed:t})}}function Ji(e){const t=Fn(e),n=Math.ceil(K(t)/32),r=[];for(let s=0;s<n;s++)r.push(je(at(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:ge([je(z(K(t),{size:32})),...r])}}function Xi(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],a=Array.isArray(e)?s:o.name,i=br({param:o,value:e[a]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?pr(r):ge(r.map(({encoded:s})=>s))}}function hr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Nt(e,t){const n=typeof t=="string"?dr(t):t,r=Qa(n);if(K(n)===0&&e.length>0)throw new kt;if(K(t)&&K(t)<32)throw new io({data:typeof t=="string"?t:se(t),params:e,size:K(t)});let s=0;const o=[];for(let a=0;a<e.length;++a){const i=e[a];r.setPosition(s);const[c,u]=rt(r,i,{staticPosition:0});s+=u,o.push(c)}return o}function rt(e,t,{staticPosition:n}){const r=hr(t.type);if(r){const[s,o]=r;return e0(e,{...t,type:o},{length:s,staticPosition:n})}if(t.type==="tuple")return s0(e,t,{staticPosition:n});if(t.type==="address")return Qi(e);if(t.type==="bool")return t0(e);if(t.type.startsWith("bytes"))return n0(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return r0(e,t);if(t.type==="string")return o0(e,{staticPosition:n});throw new ji(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const bs=32,qn=32;function Qi(e){const t=e.readBytes(32);return[Zs(se(ei(t,-20))),32]}function e0(e,t,{length:n,staticPosition:r}){if(!n){const a=Pe(e.readBytes(qn)),i=r+a,c=i+bs;e.setPosition(i);const u=Pe(e.readBytes(bs)),f=vt(t);let d=0;const l=[];for(let b=0;b<u;++b){e.setPosition(c+(f?b*32:d));const[y,p]=rt(e,t,{staticPosition:c});d+=p,l.push(y)}return e.setPosition(r+32),[l,32]}if(vt(t)){const a=Pe(e.readBytes(qn)),i=r+a,c=[];for(let u=0;u<n;++u){e.setPosition(i+u*32);const[f]=rt(e,t,{staticPosition:i});c.push(f)}return e.setPosition(r+32),[c,32]}let s=0;const o=[];for(let a=0;a<n;++a){const[i,c]=rt(e,t,{staticPosition:r+s});s+=c,o.push(i)}return[o,s]}function t0(e){return[Ui(e.readBytes(32),{size:32}),32]}function n0(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=Pe(e.readBytes(32));e.setPosition(n+a);const i=Pe(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[se(c),32]}return[se(e.readBytes(Number.parseInt(s,10),32)),32]}function r0(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Di(s,{signed:n}):Pe(s,{signed:n}),32]}function s0(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:a})=>!a),s=r?[]:{};let o=0;if(vt(t)){const a=Pe(e.readBytes(qn)),i=n+a;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(i+o);const[f,d]=rt(e,u,{staticPosition:i});o+=d,s[r?c:u?.name]=f}return e.setPosition(n+32),[s,32]}for(let a=0;a<t.components.length;++a){const i=t.components[a],[c,u]=rt(e,i,{staticPosition:n});s[r?a:i?.name]=c,o+=u}return[s,o]}function o0(e,{staticPosition:t}){const n=Pe(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Pe(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=qi(Xt(o));return e.setPosition(t+32),[a,32]}function vt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(vt);const n=hr(e.type);return!!(n&&vt({...e,type:n[1]}))}const a0=e=>Z(Qt(e));function i0(e){return a0(e)}const c0="1.1.0";let Q=class Hn extends Error{constructor(t,n={}){const r=n.cause instanceof Hn?n.cause.details:n.cause?.message?n.cause.message:n.details,s=n.cause instanceof Hn&&n.cause.docsPath||n.docsPath,o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${c0}`].join(`
`);super(o),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function Ie(e,t){return e.exec(t)?.groups}const po=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ho=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yo=/^\(.+?\).*?$/,ps=/^tuple(?<array>(\[(\d*)\])*)$/;function Gn(e){let t=e.type;if(ps.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const o=e.components[s];t+=Gn(o),s<n-1&&(t+=", ")}const r=Ie(ps,e.type);return t+=`)${r?.array??""}`,Gn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function tt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Gn(s),r!==n-1&&(t+=", ")}return t}function Gt(e){return e.type==="function"?`function ${e.name}(${tt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs?.length?` returns (${tt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${tt(e.inputs)})`:e.type==="error"?`error ${e.name}(${tt(e.inputs)})`:e.type==="constructor"?`constructor(${tt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const mo=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function u0(e){return mo.test(e)}function f0(e){return Ie(mo,e)}const go=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function d0(e){return go.test(e)}function l0(e){return Ie(go,e)}const wo=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function b0(e){return wo.test(e)}function p0(e){return Ie(wo,e)}const vo=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function rn(e){return vo.test(e)}function h0(e){return Ie(vo,e)}const xo=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function y0(e){return xo.test(e)}function m0(e){return Ie(xo,e)}const Eo=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function g0(e){return Eo.test(e)}function w0(e){return Ie(Eo,e)}const v0=/^receive\(\) external payable$/;function x0(e){return v0.test(e)}const hs=new Set(["memory","indexed","storage","calldata"]),E0=new Set(["indexed"]),Vn=new Set(["calldata","memory","storage"]);class A0 extends Q{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class P0 extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class B0 extends Q{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class $0 extends Q{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class S0 extends Q{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class I0 extends Q{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class k0 extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class N0 extends Q{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class T0 extends Q{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class ft extends Q{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class R0 extends Q{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class C0 extends Q{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class _0 extends Q{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class O0 extends Q{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function z0(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let o="";for(const a of s[1])o+=`[${a.type}${a.name?`:${a.name}`:""}]`;r+=`(${s[0]}{${o}})`}return t?`${t}:${e}${r}`:e}const En=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Zn(e,t={}){if(b0(e))return M0(e,t);if(d0(e))return F0(e,t);if(u0(e))return j0(e,t);if(y0(e))return L0(e,t);if(g0(e))return D0(e);if(x0(e))return{type:"receive",stateMutability:"payable"};throw new R0({signature:e})}function M0(e,t={}){const n=p0(e);if(!n)throw new ft({signature:e,type:"function"});const r=ee(n.parameters),s=[],o=r.length;for(let i=0;i<o;i++)s.push(Se(r[i],{modifiers:Vn,structs:t,type:"function"}));const a=[];if(n.returns){const i=ee(n.returns),c=i.length;for(let u=0;u<c;u++)a.push(Se(i[u],{modifiers:Vn,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:a}}function F0(e,t={}){const n=l0(e);if(!n)throw new ft({signature:e,type:"event"});const r=ee(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Se(r[a],{modifiers:E0,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function j0(e,t={}){const n=f0(e);if(!n)throw new ft({signature:e,type:"error"});const r=ee(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Se(r[a],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function L0(e,t={}){const n=m0(e);if(!n)throw new ft({signature:e,type:"constructor"});const r=ee(n.parameters),s=[],o=r.length;for(let a=0;a<o;a++)s.push(Se(r[a],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function D0(e){const t=w0(e);if(!t)throw new ft({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const U0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,q0=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,H0=/^u?int$/;function Se(e,t){const n=z0(e,t?.type,t?.structs);if(En.has(n))return En.get(n);const r=yo.test(e),s=Ie(r?q0:U0,e);if(!s)throw new S0({param:e});if(s.name&&V0(s.name))throw new I0({param:e,name:s.name});const o=s.name?{name:s.name}:{},a=s.modifier==="indexed"?{indexed:!0}:{},i=t?.structs??{};let c,u={};if(r){c="tuple";const d=ee(s.type),l=[],b=d.length;for(let y=0;y<b;y++)l.push(Se(d[y],{structs:i}));u={components:l}}else if(s.type in i)c="tuple",u={components:i[s.type]};else if(H0.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,t?.type!=="struct"&&!Ao(c))throw new B0({type:c});if(s.modifier){if(!t?.modifiers?.has?.(s.modifier))throw new k0({param:e,type:t?.type,modifier:s.modifier});if(Vn.has(s.modifier)&&!Z0(c,!!s.array))throw new N0({param:e,type:t?.type,modifier:s.modifier})}const f={type:`${c}${s.array??""}`,...o,...a,...u};return En.set(n,f),f}function ee(e,t=[],n="",r=0){const s=e.trim().length;for(let o=0;o<s;o++){const a=e[o],i=e.slice(o+1);switch(a){case",":return r===0?ee(i,[...t,n.trim()]):ee(i,t,`${n}${a}`,r);case"(":return ee(i,t,`${n}${a}`,r+1);case")":return ee(i,t,`${n}${a}`,r-1);default:return ee(i,t,`${n}${a}`,r)}}if(n==="")return t;if(r!==0)throw new O0({current:n,depth:r});return t.push(n.trim()),t}function Ao(e){return e==="address"||e==="bool"||e==="function"||e==="string"||po.test(e)||ho.test(e)}const G0=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function V0(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||po.test(e)||ho.test(e)||G0.test(e)}function Z0(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function yr(e){const t={},n=e.length;for(let a=0;a<n;a++){const i=e[a];if(!rn(i))continue;const c=h0(i);if(!c)throw new ft({signature:i,type:"struct"});const u=c.properties.split(";"),f=[],d=u.length;for(let l=0;l<d;l++){const y=u[l].trim();if(!y)continue;const p=Se(y,{type:"struct"});f.push(p)}if(!f.length)throw new C0({signature:i});t[c.name]=f}const r={},s=Object.entries(t),o=s.length;for(let a=0;a<o;a++){const[i,c]=s[a];r[i]=Po(c,t)}return r}const W0=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Po(e,t,n=new Set){const r=[],s=e.length;for(let o=0;o<s;o++){const a=e[o];if(yo.test(a.type))r.push(a);else{const c=Ie(W0,a.type);if(!c?.type)throw new T0({abiParameter:a});const{array:u,type:f}=c;if(f in t){if(n.has(f))throw new _0({type:f});r.push({...a,type:`tuple${u??""}`,components:Po(t[f]??[],t,new Set([...n,f]))})}else if(Ao(f))r.push(a);else throw new P0({type:f})}}return r}function Bo(e){const t=yr(e),n=[],r=e.length;for(let s=0;s<r;s++){const o=e[s];rn(o)||n.push(Zn(o,t))}return n}function ys(e){let t;if(typeof e=="string")t=Zn(e);else{const n=yr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(!rn(o)){t=Zn(o,n);break}}}if(!t)throw new A0({signature:e});return t}function ms(e){const t=[];if(typeof e=="string"){const n=ee(e),r=n.length;for(let s=0;s<r;s++)t.push(Se(n[s],{modifiers:hs}))}else{const n=yr(e),r=e.length;for(let s=0;s<r;s++){const o=e[s];if(rn(o))continue;const a=ee(o),i=a.length;for(let c=0;c<i;c++)t.push(Se(a[c],{modifiers:hs,structs:n}))}}if(t.length===0)throw new $0({params:e});return t}function K0(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new R("Unable to normalize signature.");return s}const Y0=e=>{const t=(()=>typeof e=="string"?e:Gt(e))();return K0(t)};function $o(e){return i0(Y0(e))}const sn=$o,Tt=e=>at($o(e),0,4);function We(e){const{abi:t,args:n=[],name:r}=e,s=gt(r,{strict:!1}),o=t.filter(i=>s?i.type==="function"?Tt(i)===r:i.type==="event"?sn(i)===r:!1:"name"in i&&i.name===r);if(o.length===0)return;if(o.length===1)return o[0];let a;for(const i of o){if(!("inputs"in i))continue;if(!n||n.length===0){if(!i.inputs||i.inputs.length===0)return i;continue}if(!i.inputs||i.inputs.length===0||i.inputs.length!==n.length)continue;if(n.every((u,f)=>{const d="inputs"in i&&i.inputs[f];return d?Wn(u,d):!1})){if(a&&"inputs"in a&&a.inputs){const u=So(i.inputs,a.inputs,n);if(u)throw new zi({abiItem:i,type:u[0]},{abiItem:a,type:u[1]})}a=i}}return a||o[0]}function Wn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return ie(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>Wn(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Wn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function So(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return So(s.components,o.components,n[r]);const a=[s.type,o.type];if((()=>a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ie(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?ie(n[r],{strict:!1}):!1)())return a}}const An="/docs/contract/decodeFunctionResult";function Ke(e){const{abi:t,args:n,functionName:r,data:s}=e;let o=t[0];if(r){const i=We({abi:t,args:n,name:r});if(!i)throw new it(r,{docsPath:An});o=i}if(o.type!=="function")throw new it(void 0,{docsPath:An});if(!o.outputs)throw new fo(o.name,{docsPath:An});const a=Nt(o.outputs,s);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const gs="/docs/contract/encodeFunctionData";function J0(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const o=We({abi:t,args:n,name:r});if(!o)throw new it(r,{docsPath:gs});s=o}if(s.type!=="function")throw new it(void 0,{docsPath:gs});return{abi:[s],functionName:Tt(ce(s))}}function le(e){const{args:t}=e,{abi:n,functionName:r}=(()=>e.abi.length===1&&e.functionName?.startsWith("0x")?e:J0(e))(),s=n[0],o=r,a="inputs"in s&&s.inputs?Ze(s.inputs,t??[]):void 0;return It([o,a??"0x"])}function dt({blockNumber:e,chain:t,contract:n}){const r=t?.contracts?.[n];if(!r)throw new jn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new jn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const X0={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Io={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Q0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function ec(e){const{abi:t,data:n}=e,r=at(n,0,4);if(r==="0x")throw new kt;const o=[...t||[],Io,Q0].find(a=>a.type==="error"&&r===Tt(ce(a)));if(!o)throw new co(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:o,args:"inputs"in o&&o.inputs&&o.inputs.length>0?Nt(o.inputs,at(n,4)):void 0,errorName:o.name}}function ko({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?we(t[o]):t[o]}`).join(", ")})`}class tc extends R{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class nc extends R{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function ws(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function rc(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=ws(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=ws(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}class No extends R{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l,stateOverride:b}){const y=n?ve(n):void 0;let p=lr({from:y?.address,to:d,value:typeof l<"u"&&`${Ws(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Le(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Le(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Le(u)} gwei`,nonce:f});b&&(p+=`
${rc(b)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class To extends R{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:a,sender:i}){const c=We({abi:n,args:r,name:a}),u=c?ko({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,f=c?ce(c,{includeName:!0}):void 0,d=lr({address:s&&ti(s),function:f,args:u&&u!=="()"&&`${[...Array(a?.length??0).keys()].map(()=>" ").join("")}${u}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=a,this.sender=i}}class Kn extends R{constructor({abi:t,data:n,functionName:r,message:s}){let o,a,i,c;if(n&&n!=="0x")try{a=ec({abi:t,data:n});const{abiItem:f,errorName:d,args:l}=a;if(d==="Error")c=l[0];else if(d==="Panic"){const[b]=l;c=X0[b]}else{const b=f?ce(f,{includeName:!0}):void 0,y=f&&l?ko({abiItem:f,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[b?`Error: ${b}`:"",y&&y!=="()"?`       ${[...Array(d?.length??0).keys()].map(()=>" ").join("")}${y}`:""]}}catch(f){o=f}else s&&(c=s);let u;o instanceof co&&(u=o.signature,i=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:o,metaMessages:i,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=n,this.reason=c,this.signature=u}}class sc extends R{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class oc extends R{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class on extends R{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}function mr(e){if(!(e instanceof R))return!1;const t=e.walk(n=>n instanceof Kn);return t instanceof Kn?t.data?.errorName==="HttpError"||t.data?.errorName==="ResolverError"||t.data?.errorName==="ResolverNotContract"||t.data?.errorName==="ResolverNotFound"||t.data?.errorName==="ReverseAddressMismatch"||t.data?.errorName==="UnsupportedResolverProfile":!1}function ac(e){const{abi:t,data:n}=e,r=at(n,0,4),s=t.find(o=>o.type==="function"&&r===Tt(ce(o)));if(!s)throw new Oi(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Nt(s.inputs,at(n,4)):void 0}}const Pn="/docs/contract/encodeErrorResult";function vs(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=We({abi:t,args:r,name:n});if(!c)throw new ds(n,{docsPath:Pn});s=c}if(s.type!=="error")throw new ds(void 0,{docsPath:Pn});const o=ce(s),a=Tt(o);let i="0x";if(r&&r.length>0){if(!s.inputs)throw new Ci(s.name,{docsPath:Pn});i=Ze(s.inputs,r)}return It([a,i])}const Bn="/docs/contract/encodeFunctionResult";function ic(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const a=We({abi:t,name:n});if(!a)throw new it(n,{docsPath:Bn});s=a}if(s.type!=="function")throw new it(void 0,{docsPath:Bn});if(!s.outputs)throw new fo(s.name,{docsPath:Bn});const o=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new lo(r)})();return Ze(s.outputs,o)}const an="x-batch-gateway:true";async function cc(e){const{data:t,ccipRequest:n}=e,{args:[r]}=ac({abi:Un,data:t}),s=[],o=[];return await Promise.all(r.map(async(a,i)=>{try{o[i]=a.urls.includes(an)?await cc({data:a.data,ccipRequest:n}):await n(a),s[i]=!1}catch(c){s[i]=!0,o[i]=uc(c)}})),ic({abi:Un,functionName:"query",result:[s,o]})}function uc(e){return e.name==="HttpRequestError"&&e.status?vs({abi:Un,errorName:"HttpError",args:[e.status,e.shortMessage]}):vs({abi:[Io],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function Ro(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return gt(t)?t:null}function Yn(e){let t=new Uint8Array(32).fill(0);if(!e)return se(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=Ro(n[r]),o=s?Qt(s):Z(yt(n[r]),"bytes");t=Z(ge([t,o]),"bytes")}return se(t)}function fc(e){return`[${e.slice(2)}]`}function dc(e){const t=new Uint8Array(32).fill(0);return e?Ro(e)||Z(yt(e)):se(t)}function gr(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(yt(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let a=yt(s[o]);a.byteLength>255&&(a=yt(fc(dc(s[o])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}function M(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:o=>t(e,o)}const lc=3;function ct(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:a}){const i=e instanceof on?e:e instanceof R?e.walk(y=>"data"in y)||e.walk():{},{code:c,data:u,details:f,message:d,shortMessage:l}=i,b=(()=>e instanceof kt?new sc({functionName:o}):[lc,ni.code].includes(c)&&(u||f||d||l)?new Kn({abi:t,data:typeof u=="object"?u.data:u,functionName:o,message:i instanceof ri?f:l??d}):e)();return new To(b,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:a})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wr=BigInt(0),Jn=BigInt(1);function Rt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ce(e){if(!Rt(e))throw new Error("Uint8Array expected")}function xt(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function Dt(e){const t=e.toString(16);return t.length&1?"0"+t:t}function Co(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?wr:BigInt("0x"+e)}const _o=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Et(e){if(Ce(e),_o)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=bc[e[n]];return t}const xe={_0:48,_9:57,A:65,F:70,a:97,f:102};function xs(e){if(e>=xe._0&&e<=xe._9)return e-xe._0;if(e>=xe.A&&e<=xe.F)return e-(xe.A-10);if(e>=xe.a&&e<=xe.f)return e-(xe.a-10)}function Vt(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(_o)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,o=0;s<n;s++,o+=2){const a=xs(e.charCodeAt(o)),i=xs(e.charCodeAt(o+1));if(a===void 0||i===void 0){const c=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+o)}r[s]=a*16+i}return r}function ye(e){return Co(Et(e))}function Oo(e){return Ce(e),Co(Et(Uint8Array.from(e).reverse()))}function Ye(e,t){return Vt(e.toString(16).padStart(t*2,"0"))}function zo(e,t){return Ye(e,t).reverse()}function G(e,t,n){let r;if(typeof t=="string")try{r=Vt(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(Rt(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function re(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];Ce(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const o=e[r];n.set(o,s),s+=o.length}return n}function vr(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}const $n=e=>typeof e=="bigint"&&wr<=e;function At(e,t,n){return $n(e)&&$n(t)&&$n(n)&&t<=e&&e<n}function De(e,t,n,r){if(!At(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function pc(e){let t;for(t=0;e>wr;e>>=Jn,t+=1);return t}const cn=e=>(Jn<<BigInt(e))-Jn,Sn=e=>new Uint8Array(e),Es=e=>Uint8Array.from(e);function hc(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Sn(e),s=Sn(e),o=0;const a=()=>{r.fill(1),s.fill(0),o=0},i=(...d)=>n(s,r,...d),c=(d=Sn(0))=>{s=i(Es([0]),d),r=i(),d.length!==0&&(s=i(Es([1]),d),r=i())},u=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const l=[];for(;d<t;){r=i();const b=r.slice();l.push(b),d+=r.length}return re(...l)};return(d,l)=>{a(),c(d);let b;for(;!(b=l(u()));)c();return a(),b}}const yc={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Rt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Ct(e,t,n={}){const r=(s,o,a)=>{const i=yc[o];if(typeof i!="function")throw new Error("invalid validator function");const c=e[s];if(!(a&&c===void 0)&&!i(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+o+", got "+c)};for(const[s,o]of Object.entries(t))r(s,o,!1);for(const[s,o]of Object.entries(n))r(s,o,!0);return e}function As(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const o=e(n,...r);return t.set(n,o),o}}const mc="0.1.1";function gc(){return mc}class j extends Error{constructor(t,n={}){const r=(()=>{if(n.cause instanceof j){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:n.cause?.message?n.cause.message:n.details})(),s=(()=>n.cause instanceof j&&n.cause.docsPath||n.docsPath)(),a=`https://oxlib.sh${s??""}`,i=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${a}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${gc()}`}),this.cause=n.cause,this.details=r,this.docs=a,this.docsPath=s,this.shortMessage=t}walk(t){return Mo(this,t)}}function Mo(e,t){return t?.(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?Mo(e.cause,t):t?null:e}function _t(e,t){if(pe(e)>t)throw new Mc({givenSize:pe(e),maxSize:t})}function wc(e,t){if(typeof t=="number"&&t>0&&t>pe(e)-1)throw new qo({offset:t,position:"start",size:pe(e)})}function vc(e,t,n){if(typeof t=="number"&&typeof n=="number"&&pe(e)!==n-t)throw new qo({offset:n,position:"end",size:pe(e)})}const Ee={zero:48,nine:57,A:65,F:70,a:97,f:102};function Ps(e){if(e>=Ee.zero&&e<=Ee.nine)return e-Ee.zero;if(e>=Ee.A&&e<=Ee.F)return e-(Ee.A-10);if(e>=Ee.a&&e<=Ee.f)return e-(Ee.a-10)}function xc(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Fc({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let o=0;o<r;o++){const a=n==="right";s[a?o:r-o-1]=e[a?o:e.length-o-1]}return s}function Fo(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let o=0;o<r.length-1&&r[n==="left"?o:r.length-o-1].toString()==="0";o++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function un(e,t){if(te(e)>t)throw new Hc({givenSize:te(e),maxSize:t})}function Ec(e,t){if(typeof t=="number"&&t>0&&t>te(e)-1)throw new Wo({offset:t,position:"start",size:te(e)})}function Ac(e,t,n){if(typeof t=="number"&&typeof n=="number"&&te(e)!==n-t)throw new Wo({offset:n,position:"end",size:te(e)})}function jo(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Gc({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Pc="#__bigint";function Lo(e,t,n){return JSON.stringify(e,(r,s)=>typeof t=="function"?t(r,s):typeof s=="bigint"?s.toString()+Pc:s,n)}const Bc=new TextDecoder,$c=new TextEncoder;function Sc(e){return e instanceof Uint8Array?e:typeof e=="string"?Do(e):Ic(e)}function Ic(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function Do(e,t={}){const{size:n}=t;let r=e;n&&(un(e,n),r=Ge(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const o=s.length/2,a=new Uint8Array(o);for(let i=0,c=0;i<o;i++){const u=Ps(s.charCodeAt(c++)),f=Ps(s.charCodeAt(c++));if(u===void 0||f===void 0)throw new j(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);a[i]=u*16+f}return a}function kc(e,t={}){const{size:n}=t,r=$c.encode(e);return typeof n=="number"?(_t(r,n),Nc(r,n)):r}function Nc(e,t){return xc(e,{dir:"right",size:t})}function pe(e){return e.length}function Tc(e,t,n,r={}){const{strict:s}=r;wc(e,t);const o=e.slice(t,n);return s&&vc(o,t,n),o}function Rc(e,t={}){const{size:n}=t;typeof n<"u"&&_t(e,n);const r=fe(e,t);return Go(r,t)}function Cc(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(_t(r,n),r=Uo(r)),r.length>1||r[0]>1)throw new zc(r);return!!r[0]}function Be(e,t={}){const{size:n}=t;typeof n<"u"&&_t(e,n);const r=fe(e,t);return Vo(r,t)}function _c(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(_t(r,n),r=Oc(r)),Bc.decode(r)}function Uo(e){return Fo(e,{dir:"left"})}function Oc(e){return Fo(e,{dir:"right"})}class zc extends j{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Mc=class extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},qo=class extends j{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SliceOffsetOutOfBoundsError"})}},Fc=class extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const jc=new TextEncoder,Lc=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Dc(e,t={}){const{strict:n=!1}=t;if(!e)throw new Bs(e);if(typeof e!="string")throw new Bs(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new $s(e);if(!e.startsWith("0x"))throw new $s(e)}function ue(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Uc(e){return e instanceof Uint8Array?fe(e):Array.isArray(e)?fe(new Uint8Array(e)):e}function Ho(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(un(n,t.size),He(n,t.size)):n}function fe(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Lc[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(un(r,t.size),Ge(r,t.size)):r}function W(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<a){const u=typeof e=="bigint"?"n":"";throw new Zo({max:o?`${o}${u}`:void 0,min:`${a}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?He(c,r):c}function xr(e,t={}){return fe(jc.encode(e),t)}function He(e,t){return jo(e,{dir:"left",size:t})}function Ge(e,t){return jo(e,{dir:"right",size:t})}function me(e,t,n,r={}){const{strict:s}=r;Ec(e,t);const o=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Ac(o,t,n),o}function te(e){return Math.ceil((e.length-2)/2)}function Go(e,t={}){const{signed:n}=t;t.size&&un(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n)-1n,a=o>>1n;return r<=a?r:r-o-1n}function Vo(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:Go(e,t))}function qc(e,t={}){const{strict:n=!1}=t;try{return Dc(e,{strict:n}),!0}catch{return!1}}class Zo extends j{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number \`${o}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Bs extends j{constructor(t){super(`Value \`${typeof t=="object"?Lo(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class $s extends j{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Hc extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Wo extends j{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Gc extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Vc(e){return{address:e.address,amount:W(e.amount),index:W(e.index),validatorIndex:W(e.validatorIndex)}}function Ko(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:W(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:W(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:W(e.gasLimit)},...typeof e.number=="bigint"&&{number:W(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:W(e.prevRandao)},...typeof e.time=="bigint"&&{time:W(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Vc)}}}const Zc="0x82ad56cb",Yo="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Wc="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Kc="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Er="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033",In="/docs/contract/encodeDeployData";function Ar(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(a=>"type"in a&&a.type==="constructor");if(!s)throw new ki({docsPath:In});if(!("inputs"in s))throw new fs({docsPath:In});if(!s.inputs||s.inputs.length===0)throw new fs({docsPath:In});const o=Ze(s.inputs,n);return It([r,o])}function Pr(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof R?e.walk(s=>s?.code===Lt.code):e;return r instanceof R?new Lt({cause:e,message:r.details}):Lt.nodeMessage.test(n)?new Lt({cause:e,message:e.details}):Ln.nodeMessage.test(n)?new Ln({cause:e,maxFeePerGas:t?.maxFeePerGas}):Kr.nodeMessage.test(n)?new Kr({cause:e,maxFeePerGas:t?.maxFeePerGas}):Yr.nodeMessage.test(n)?new Yr({cause:e,nonce:t?.nonce}):Jr.nodeMessage.test(n)?new Jr({cause:e,nonce:t?.nonce}):Xr.nodeMessage.test(n)?new Xr({cause:e,nonce:t?.nonce}):Qr.nodeMessage.test(n)?new Qr({cause:e}):es.nodeMessage.test(n)?new es({cause:e,gas:t?.gas}):ts.nodeMessage.test(n)?new ts({cause:e,gas:t?.gas}):ns.nodeMessage.test(n)?new ns({cause:e}):Dn.nodeMessage.test(n)?new Dn({cause:e,maxFeePerGas:t?.maxFeePerGas,maxPriorityFeePerGas:t?.maxPriorityFeePerGas}):new en({cause:e})}function Jo(e,{docsPath:t,...n}){const r=(()=>{const s=Pr(e,n);return s instanceof en?e:s})();return new No(r,{docsPath:t,...n})}function Br(e,{format:t}){if(!t)return{};const n={};function r(o){const a=Object.keys(o);for(const i of a)i in e&&(n[i]=e[i]),o[i]&&typeof o[i]=="object"&&!Array.isArray(o[i])&&r(o[i])}const s=t(e||{});return r(s),n}const Yc={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function fn(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=Jc(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>se(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=z(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=z(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=z(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=z(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=z(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=z(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=Yc[e.type]),typeof e.value<"u"&&(n.value=z(e.value)),n}function Jc(e){return e.map(t=>({address:t.address,r:t.r?z(BigInt(t.r)):t.r,s:t.s?z(BigInt(t.s)):t.s,chainId:z(t.chainId),nonce:z(t.nonce),...typeof t.yParity<"u"?{yParity:z(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:z(t.v)}:{}}))}function Ss(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new rs({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new rs({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function Xc(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:o}=e,a={};if(o!==void 0&&(a.code=o),t!==void 0&&(a.balance=z(t)),n!==void 0&&(a.nonce=z(n)),r!==void 0&&(a.state=Ss(r)),s!==void 0){if(a.state)throw new nc;a.stateDiff=Ss(s)}return a}function $r(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!ie(n,{strict:!1}))throw new Ue({address:n});if(t[n])throw new tc({address:n});t[n]=Xc(r)}return t}function Ot(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,a=t?ve(t):void 0;if(a&&!ie(a.address))throw new Ue({address:a.address});if(o&&!ie(o))throw new Ue({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new si;if(r&&r>oi)throw new Ln({maxFeePerGas:r});if(s&&r&&s>r)throw new Dn({maxFeePerGas:r,maxPriorityFeePerGas:s})}async function dn(e,t){const{account:n=e.account,authorizationList:r,batch:s=!!e.batch?.multicall,blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",accessList:i,blobs:c,blockOverrides:u,code:f,data:d,factory:l,factoryData:b,gas:y,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:w,to:h,value:v,stateOverride:A,...E}=t,S=n?ve(n):void 0;if(f&&(l||b))throw new R("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(f&&h)throw new R("Cannot provide both `code` & `to` as parameters.");const N=f&&d,k=l&&b&&h&&d,I=N||k,_=(()=>N?Xo({code:f,data:d}):k?tu({data:d,factory:l,factoryData:b,to:h}):d)();try{Ot(t);const D=(typeof o=="bigint"?z(o):void 0)||a,B=u?Ko(u):void 0,P=$r(A),C=e.chain?.formatters?.transactionRequest?.format,T=(C||fn)({...Br(E,{format:C}),accessList:i,account:S,authorizationList:r,blobs:c,data:_,gas:y,gasPrice:p,maxFeePerBlobGas:g,maxFeePerGas:m,maxPriorityFeePerGas:x,nonce:w,to:I?void 0:h,value:v},"call");if(s&&Qc({request:T})&&!P&&!B)try{return await eu(e,{...T,blockNumber:o,blockTag:a})}catch(q){if(!(q instanceof Ks)&&!(q instanceof jn))throw q}const F=(()=>{const q=[T,D];return P&&B?[...q,P,B]:P?[...q,P]:B?[...q,{},B]:q})(),L=await e.request({method:"eth_call",params:F});return L==="0x"?{data:void 0}:{data:L}}catch(O){const D=nu(O),{offchainLookup:B,offchainLookupSignature:P}=await Ys(()=>import("./ccip-5c3306fb.js"),["assets/ccip-5c3306fb.js","assets/index-6112b649.js","assets/ui-6244b3df.js","assets/vendor-499a370b.js","assets/utils-17ec81d9.js","assets/index-40a820b6.css"]);if(e.ccipRead!==!1&&D?.slice(0,10)===P&&h)return{data:await B(e,{data:D,to:h})};throw I&&D?.slice(0,10)==="0x101bb98d"?new oc({factory:l}):Jo(O,{...t,account:S,chain:e.chain})}}function Qc({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Zc)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function eu(e,t){const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},{blockNumber:o,blockTag:a=e.experimental_blockTag??"latest",data:i,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return dt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Ks})(),d=(typeof o=="bigint"?z(o):void 0)||a,{schedule:l}=ai({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(p){return p.reduce((m,{data:x})=>m+(x.length-2),0)>n*2},fn:async p=>{const g=p.map(w=>({allowFailure:!0,callData:w.data,target:w.to})),m=le({abi:Ht,args:[g],functionName:"aggregate3"}),x=await e.request({method:"eth_call",params:[{...u===null?{data:Xo({code:Er,data:m})}:{to:u,data:m}},d]});return Ke({abi:Ht,args:[g],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:b,success:y}]=await l({data:i,to:c});if(!y)throw new on({data:b});return b==="0x"?{data:void 0}:{data:b}}function Xo(e){const{code:t,data:n}=e;return Ar({abi:Bo(["constructor(bytes, bytes)"]),bytecode:Yo,args:[t,n]})}function tu(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Ar({abi:Bo(["constructor(address, bytes, address, bytes)"]),bytecode:Wc,args:[s,t,n,r]})}function nu(e){if(!(e instanceof R))return;const t=e.walk();return typeof t?.data=="object"?t.data?.data:t.data}async function de(e,t){const{abi:n,address:r,args:s,functionName:o,...a}=t,i=le({abi:n,args:s,functionName:o});try{const{data:c}=await M(e,dn,"call")({...a,data:i,to:r});return Ke({abi:n,args:s,functionName:o,data:c||"0x"})}catch(c){throw ct(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:o})}}async function ru(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:o,gatewayUrls:a,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return dt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(l=>o.endsWith(l)))return null;const d=(()=>s!=null?[Yn(o),BigInt(s)]:[Yn(o)])();try{const l=le({abi:cs,functionName:"addr",args:d}),b={address:u,abi:oo,functionName:"resolveWithGateways",args:[qe(gr(o)),l,a??[an]],blockNumber:n,blockTag:r},p=await M(e,de,"readContract")(b);if(p[0]==="0x")return null;const g=Ke({abi:cs,args:d,functionName:"addr",data:p[0]});return g==="0x"||Xt(g)==="0x00"?null:g}catch(l){if(i)throw l;if(mr(l))return null;throw l}}class su extends R{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class ht extends R{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class Sr extends R{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class ou extends R{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const au=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,iu=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,cu=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,uu=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function fu(e){try{const t=await fetch(e,{method:"HEAD"});return t.status===200?t.headers.get("content-type")?.startsWith("image/"):!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Is(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Qo({uri:e,gatewayUrls:t}){const n=cu.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Is(t?.ipfs,"https://ipfs.io"),s=Is(t?.arweave,"https://arweave.net"),o=e.match(au),{protocol:a,subpath:i,target:c,subtarget:u=""}=o?.groups||{},f=a==="ipns:/"||i==="ipns/",d=a==="ipfs:/"||i==="ipfs/"||iu.test(e);if(e.startsWith("http")&&!f&&!d){let b=e;return t?.arweave&&(b=e.replace(/https:\/\/arweave.net/g,t?.arweave)),{uri:b,isOnChain:!1,isEncoded:!1}}if((f||d)&&c)return{uri:`${r}/${f?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let l=e.replace(uu,"");if(l.startsWith("<svg")&&(l=`data:image/svg+xml;base64,${btoa(l)}`),l.startsWith("data:")||l.startsWith("{"))return{uri:l,isOnChain:!0,isEncoded:!1};throw new Sr({uri:e})}function ea(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new su({data:e});return e.image||e.image_url||e.image_data}async function du({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Ir({gatewayUrls:e,uri:ea(n)})}catch{throw new Sr({uri:t})}}async function Ir({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Qo({uri:t,gatewayUrls:e});if(r||await fu(n))return n;throw new Sr({uri:t})}function lu(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[o,a]=n.split(":"),[i,c]=r.split(":");if(!o||o.toLowerCase()!=="eip155")throw new ht({reason:"Only EIP-155 supported"});if(!a)throw new ht({reason:"Chain ID not found"});if(!c)throw new ht({reason:"Contract address not found"});if(!s)throw new ht({reason:"Token ID not found"});if(!i)throw new ht({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function bu(e,{nft:t}){if(t.namespace==="erc721")return de(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return de(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ou({namespace:t.namespace})}async function pu(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?hu(e,{gatewayUrls:t,record:n}):Ir({uri:n,gatewayUrls:t})}async function hu(e,{gatewayUrls:t,record:n}){const r=lu(n),s=await bu(e,{nft:r}),{uri:o,isOnChain:a,isEncoded:i}=Qo({uri:s,gatewayUrls:t});if(a&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=i?atob(o.replace("data:application/json;base64,","")):o,f=JSON.parse(u);return Ir({uri:ea(f),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),du({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function ta(e,t){const{blockNumber:n,blockTag:r,key:s,name:o,gatewayUrls:a,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return dt({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),f=c?.ensTlds;if(f&&!f.some(d=>o.endsWith(d)))return null;try{const d={address:u,abi:oo,args:[qe(gr(o)),le({abi:is,functionName:"text",args:[Yn(o),s]}),a??[an]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},b=await M(e,de,"readContract")(d);if(b[0]==="0x")return null;const y=Ke({abi:is,functionName:"text",data:b[0]});return y===""?null:y}catch(d){if(i)throw d;if(mr(d))return null;throw d}}async function yu(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:o,strict:a,universalResolverAddress:i}){const c=await M(e,ta,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:i,gatewayUrls:o,strict:a});if(!c)return null;try{return await pu(e,{record:c,gatewayUrls:r})}catch{return null}}async function mu(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:o=60n,gatewayUrls:a,strict:i}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return dt({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const f={address:u,abi:Si,args:[n,o,a??[an]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=M(e,de,"readContract"),[l]=await d(f);return l||null}catch(f){if(i)throw f;if(mr(f))return null;throw f}}async function gu(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:o}=e,a=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!o)throw new Error("client chain not configured. universalResolverAddress is required.");return dt({blockNumber:n,chain:o,contract:"ensUniversalResolver"})})(),i=o?.ensTlds;if(i&&!i.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${i?.join(", ")}) for chain "${o.name}" (id: ${o.id}).`);const[c]=await M(e,de,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[qe(gr(s))],blockNumber:n,blockTag:r});return c}async function na(e,t){const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:o,data:a,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b,...y}=t,p=n?ve(n):void 0;try{Ot(t);const m=(typeof r=="bigint"?z(r):void 0)||s,x=e.chain?.formatters?.transactionRequest?.format,h=(x||fn)({...Br(y,{format:x}),account:p,blobs:o,data:a,gas:i,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:f,maxPriorityFeePerGas:d,to:l,value:b},"createAccessList"),v=await e.request({method:"eth_createAccessList",params:[h,m]});return{accessList:v.accessList,gasUsed:BigInt(v.gasUsed)}}catch(g){throw Jo(g,{...t,account:p,chain:e.chain})}}function ln(e,{method:t}){const n={};return e.transport.type==="fallback"&&e.transport.onResponse?.(({method:r,response:s,status:o,transport:a})=>{o==="success"&&t===r&&(n[s]=a.request)}),r=>n[r]||e.request}async function wu(e){const t=ln(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}class vu extends R{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const ks="/docs/contract/encodeEventTopics";function zt(e){const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const c=We({abi:t,name:n});if(!c)throw new ls(n,{docsPath:ks});s=c}if(s.type!=="event")throw new ls(void 0,{docsPath:ks});const o=ce(s),a=sn(o);let i=[];if(r&&"inputs"in s){const c=s.inputs?.filter(f=>"indexed"in f&&f.indexed),u=Array.isArray(r)?r:Object.values(r).length>0?c?.map(f=>r[f.name])??[]:[];u.length>0&&(i=c?.map((f,d)=>Array.isArray(u[d])?u[d].map((l,b)=>Ns({param:f,value:u[d][b]})):typeof u[d]<"u"&&u[d]!==null?Ns({param:f,value:u[d]}):null)??[])}return[a,...i]}function Ns({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return Z(Qt(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new vu(e.type);return Ze([e],[t])}async function ra(e,t){const{address:n,abi:r,args:s,eventName:o,fromBlock:a,strict:i,toBlock:c}=t,u=ln(e,{method:"eth_newFilter"}),f=o?zt({abi:r,args:s,eventName:o}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof a=="bigint"?z(a):a,toBlock:typeof c=="bigint"?z(c):c,topics:f}]});return{abi:r,args:s,eventName:o,id:d,request:u(d),strict:!!i,type:"event"}}async function sa(e,{address:t,args:n,event:r,events:s,fromBlock:o,strict:a,toBlock:i}={}){const c=s??(r?[r]:void 0),u=ln(e,{method:"eth_newFilter"});let f=[];c&&(f=[c.flatMap(b=>zt({abi:[b],eventName:b.name,args:n}))],r&&(f=f[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?z(o):o,toBlock:typeof i=="bigint"?z(i):i,...f.length?{topics:f}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:o,id:d,request:u(d),strict:!!a,toBlock:i,type:"event"}}async function oa(e){const t=ln(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}function xu(e){const t=Z(`0x${e.substring(4)}`).substring(26);return Zs(`0x${t}`)}async function Eu({hash:e,signature:t}){const n=gt(e)?e:qe(e),{secp256k1:r}=await Ys(()=>Promise.resolve().then(()=>wd),void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:f,v:d,yParity:l}=t,b=Number(l??d),y=Ts(b);return new r.Signature($e(u),$e(f)).addRecoveryBit(y)}const a=gt(t)?t:qe(t);if(K(a)!==65)throw new Error("invalid signature length");const i=ut(`0x${a.slice(130)}`),c=Ts(i);return r.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Ts(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function aa({hash:e,signature:t}){return xu(await Eu({hash:e,signature:t}))}function Au(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,o=Z(It(["0x05",ii([t?z(t):"0x",s,n?z(n):"0x"])]));return r==="bytes"?dr(o):o}async function ia(e){const{authorization:t,signature:n}=e;return aa({hash:Au(t),signature:n??t})}class Pu extends R{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:a,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:f,to:d,value:l}){const b=lr({from:n?.address,to:d,value:typeof l<"u"&&`${Ws(l)} ${s?.nativeCurrency?.symbol||"ETH"}`,data:o,gas:a,gasPrice:typeof i<"u"&&`${Le(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${Le(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Le(u)} gwei`,nonce:f});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",b].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}function Bu(e,{docsPath:t,...n}){const r=(()=>{const s=Pr(e,n);return s instanceof en?e:s})();return new Pu(r,{docsPath:t,...n})}class $u extends R{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class kr extends R{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class Su extends R{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Le(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class ca extends R{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}async function he(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){const o=s??!1,a=n!==void 0?z(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,o]},{dedupe:!0}):i=await e.request({method:"eth_getBlockByNumber",params:[a||r,o]},{dedupe:!!a}),!i)throw new ca({blockHash:t,blockNumber:n});return(e.chain?.formatters?.block?.format||Js)(i,"getBlock")}async function Nr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Iu(e,t){return ua(e,t)}async function ua(e,t){const{block:n,chain:r=e.chain,request:s}=t||{};try{const o=r?.fees?.maxPriorityFeePerGas??r?.fees?.defaultPriorityFee;if(typeof o=="function"){const i=n||await M(e,he,"getBlock")({}),c=await o({block:i,client:e,request:s});if(c===null)throw new Error;return c}if(typeof o<"u")return o;const a=await e.request({method:"eth_maxPriorityFeePerGas"});return $e(a)}catch{const[o,a]=await Promise.all([n?Promise.resolve(n):M(e,he,"getBlock")({}),M(e,Nr,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new kr;const i=a-o.baseFeePerGas;return i<0n?0n:i}}async function ku(e,t){return Xn(e,t)}async function Xn(e,t){const{block:n,chain:r=e.chain,request:s,type:o="eip1559"}=t||{},a=await(async()=>typeof r?.fees?.baseFeeMultiplier=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):r?.fees?.baseFeeMultiplier??1.2)();if(a<1)throw new $u;const c=10**(a.toString().split(".")[1]?.length??0),u=l=>l*BigInt(Math.ceil(a*c))/BigInt(c),f=n||await M(e,he,"getBlock")({});if(typeof r?.fees?.estimateFeesPerGas=="function"){const l=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:o});if(l!==null)return l}if(o==="eip1559"){if(typeof f.baseFeePerGas!="bigint")throw new kr;const l=typeof s?.maxPriorityFeePerGas=="bigint"?s.maxPriorityFeePerGas:await ua(e,{block:f,chain:r,request:s}),b=u(f.baseFeePerGas);return{maxFeePerGas:s?.maxFeePerGas??b+l,maxPriorityFeePerGas:l}}return{gasPrice:s?.gasPrice??u(await M(e,Nr,"getGasPrice")({}))}}async function fa(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?z(r):n]},{dedupe:!!r});return ut(s)}async function da(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return ut(t)}const Nu=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Rs=new Map;async function la(e,t){const{account:n=e.account,blobs:r,chain:s,gas:o,kzg:a,nonce:i,nonceManager:c,parameters:u=Nu,type:f}=t,d=n&&ve(n),l={...t,...d?{from:d?.address}:{}};let b;async function y(){return b||(b=await M(e,he,"getBlock")({blockTag:"latest"}),b)}let p;async function g(){return p||(s?s.id:typeof t.chainId<"u"?t.chainId:(p=await M(e,da,"getChainId")({}),p))}if(u.includes("nonce")&&typeof i>"u"&&d)if(c){const m=await g();l.nonce=await c.consume({address:d.address,chainId:m,client:e})}else l.nonce=await M(e,fa,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&a){const m=ci({blobs:r,kzg:a});if(u.includes("blobVersionedHashes")){const x=ui({commitments:m,to:"hex"});l.blobVersionedHashes=x}if(u.includes("sidecars")){const x=fi({blobs:r,commitments:m,kzg:a}),w=di({blobs:r,commitments:m,proofs:x,to:"hex"});l.sidecars=w}}if(u.includes("chainId")&&(l.chainId=await g()),(u.includes("fees")||u.includes("type"))&&typeof f>"u")try{l.type=li(l)}catch{let m=Rs.get(e.uid);typeof m>"u"&&(m=typeof(await y())?.baseFeePerGas=="bigint",Rs.set(e.uid,m)),l.type=m?"eip1559":"legacy"}if(u.includes("fees"))if(l.type!=="legacy"&&l.type!=="eip2930"){if(typeof l.maxFeePerGas>"u"||typeof l.maxPriorityFeePerGas>"u"){const m=await y(),{maxFeePerGas:x,maxPriorityFeePerGas:w}=await Xn(e,{block:m,chain:s,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<w)throw new Su({maxPriorityFeePerGas:w});l.maxPriorityFeePerGas=w,l.maxFeePerGas=x}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new kr;if(typeof t.gasPrice>"u"){const m=await y(),{gasPrice:x}=await Xn(e,{block:m,chain:s,request:l,type:"legacy"});l.gasPrice=x}}return u.includes("gas")&&typeof o>"u"&&(l.gas=await M(e,Tr,"estimateGas")({...l,account:d,prepare:d?.type==="local"?[]:["blobVersionedHashes"]})),Ot(l),delete l.parameters,l}async function Tr(e,t){const{account:n=e.account,prepare:r=!0}=t,s=n?ve(n):void 0,o=(()=>{if(Array.isArray(r))return r;if(s?.type!=="local")return["blobVersionedHashes"]})();try{const{accessList:a,authorizationList:i,blobs:c,blobVersionedHashes:u,blockNumber:f,blockTag:d,data:l,gas:b,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:x,value:w,stateOverride:h,...v}=r?await la(e,{...t,parameters:o}):t,E=(typeof f=="bigint"?z(f):void 0)||d,S=$r(h),N=await(async()=>{if(v.to)return v.to;if(i&&i.length>0)return await ia({authorization:i[0]}).catch(()=>{throw new R("`to` is required. Could not infer from `authorizationList`")})})();Ot(t);const k=e.chain?.formatters?.transactionRequest?.format,_=(k||fn)({...Br(v,{format:k}),account:s,accessList:a,authorizationList:i,blobs:c,blobVersionedHashes:u,data:l,gas:b,gasPrice:y,maxFeePerBlobGas:p,maxFeePerGas:g,maxPriorityFeePerGas:m,nonce:x,to:N,value:w},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:S?[_,E??e.experimental_blockTag??"latest",S]:E?[_,E]:[_]}))}catch(a){throw Bu(a,{...t,account:s,chain:e.chain})}}async function Tu(e,t){const{abi:n,address:r,args:s,functionName:o,dataSuffix:a,...i}=t,c=le({abi:n,args:s,functionName:o});try{return await M(e,Tr,"estimateGas")({data:`${c}${a?a.replace("0x",""):""}`,to:r,...i})}catch(u){const f=i.account?ve(i.account):void 0;throw ct(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:o,sender:f?.address})}}async function Ru(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?z(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function Cu(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}const _u=new Map,Ou=new Map;function zu(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:a=>o.set(s,a)}),n=t(e,_u),r=t(e,Ou);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Mu(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=zu(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const a=await o;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const Fu=e=>`blockNumber.${e}`;async function Mt(e,{cacheTime:t=e.cacheTime}={}){const n=await Mu(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Fu(e.uid),cacheTime:t});return BigInt(n)}async function ju(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?z(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),ut(o)}async function Qn(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?z(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(o!=="0x")return o}function bn(e,t){if(!ie(e,{strict:!1}))throw new Ue({address:e});if(!ie(t,{strict:!1}))throw new Ue({address:t});return e.toLowerCase()===t.toLowerCase()}const Cs="/docs/contract/decodeEventLog";function Rr(e){const{abi:t,data:n,strict:r,topics:s}=e,o=r??!0,[a,...i]=s;if(!a)throw new _i({docsPath:Cs});const c=t.find(p=>p.type==="event"&&a===sn(ce(p)));if(!(c&&"name"in c)||c.type!=="event")throw new uo(a,{docsPath:Cs});const{name:u,inputs:f}=c,d=f?.some(p=>!("name"in p&&p.name)),l=d?[]:{},b=f.map((p,g)=>[p,g]).filter(([p])=>"indexed"in p&&p.indexed);for(let p=0;p<b.length;p++){const[g,m]=b[p],x=i[p];if(!x)throw new nn({abiItem:c,param:g});l[d?m:g.name||m]=Lu({param:g,value:x})}const y=f.filter(p=>!("indexed"in p&&p.indexed));if(y.length>0){if(n&&n!=="0x")try{const p=Nt(y,n);if(p)if(d)for(let g=0;g<f.length;g++)l[g]=l[g]??p.shift();else for(let g=0;g<y.length;g++)l[y[g].name]=p[g]}catch(p){if(o)throw p instanceof io||p instanceof bi?new wt({abiItem:c,data:n,params:y,size:K(n)}):p}else if(o)throw new wt({abiItem:c,data:"0x",params:y,size:0})}return{eventName:u,args:Object.values(l).length>0?l:void 0}}function Lu({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Nt([e],t)||[])[0]}function Cr(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,o=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(a=>{try{const i=t.find(u=>u.type==="event"&&a.topics[0]===sn(u));if(!i)return null;const c=Rr({...a,abi:[i],strict:s});return o&&!o.includes(c.eventName)||!Du({args:c.args,inputs:i.inputs,matchArgs:n})?null:{...c,...a}}catch(i){let c,u;if(i instanceof uo)return null;if(i instanceof wt||i instanceof nn){if(s)return null;c=i.abiItem.name,u=i.abiItem.inputs?.some(f=>!("name"in f&&f.name))}return{...a,args:u?[]:{},eventName:c}}}).filter(Boolean)}function Du(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(o,a,i){try{return o.type==="address"?bn(a,i):o.type==="string"||o.type==="bytes"?Z(Qt(a))===i:a===i}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((o,a)=>{if(o==null)return!0;const i=n[a];return i?(Array.isArray(o)?o:[o]).some(u=>s(i,u,t[a])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([o,a])=>{if(a==null)return!0;const i=n.find(u=>u.name===o);return i?(Array.isArray(a)?a:[a]).some(u=>s(i,u,t[o])):!1}):!1}async function _r(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,events:a,args:i,strict:c}={}){const u=c??!1,f=a??(o?[o]:void 0);let d=[];f&&(d=[f.flatMap(p=>zt({abi:[p],eventName:p.name,args:a?void 0:i}))],o&&(d=d[0]));let l;n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?z(r):r,toBlock:typeof s=="bigint"?z(s):s}]});const b=l.map(y=>Re(y));return f?Cr({abi:f,args:i,logs:b,strict:u}):b}async function ba(e,t){const{abi:n,address:r,args:s,blockHash:o,eventName:a,fromBlock:i,toBlock:c,strict:u}=t,f=a?We({abi:n,name:a}):void 0,d=f?void 0:n.filter(l=>l.type==="event");return M(e,_r,"getLogs")({address:r,args:s,blockHash:o,event:f,events:d,fromBlock:i,toBlock:c,strict:u})}class Uu extends R{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function qu(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[o,a,i,c,u,f,d]=await M(e,de,"readContract")({abi:Hu,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:a,version:i,chainId:Number(c),verifyingContract:u,salt:f},extensions:d,fields:o}}catch(o){const a=o;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new Uu({address:n}):a}}const Hu=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function Gu(e){return{baseFeePerGas:e.baseFeePerGas.map(t=>BigInt(t)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:e.reward?.map(t=>t.map(n=>BigInt(n)))}}async function Vu(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=typeof n=="bigint"?z(n):void 0,a=await e.request({method:"eth_feeHistory",params:[z(t),o||r,s]},{dedupe:!!o});return Gu(a)}async function pn(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(o=>Re(o));return!("abi"in t)||!t.abi?s:Cr({abi:t.abi,logs:s,strict:n})}async function Zu(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(o=>Re(o));return t.abi?Cr({abi:t.abi,logs:s,strict:n}):s}async function Wu({address:e,authorization:t,signature:n}){return bn(Xs(e),await ia({authorization:t,signature:n}))}const Ku=`Ethereum Signed Message:
`;function Yu(e){const t=(()=>typeof e=="string"?Fn(e):typeof e.raw=="string"?e.raw:se(e.raw))(),n=Fn(`${Ku}${K(t)}`);return ge([n,t])}function pa(e,t){return Z(Yu(e),t)}class Ju extends R{constructor({domain:t}){super(`Invalid domain "${we(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class Xu extends R{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Qu extends R{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function ef(e){const{domain:t,message:n,primaryType:r,types:s}=e,o=(a,i)=>{for(const c of a){const{name:u,type:f}=c,d=i[u],l=f.match(bo);if(l&&(typeof d=="number"||typeof d=="bigint")){const[p,g,m]=l;z(d,{signed:g==="int",size:Number.parseInt(m,10)/8})}if(f==="address"&&typeof d=="string"&&!ie(d))throw new Ue({address:d});const b=f.match(Hi);if(b){const[p,g]=b;if(g&&K(d)!==Number.parseInt(g,10))throw new Mi({expectedSize:Number.parseInt(g,10),givenSize:K(d)})}const y=s[f];y&&(nf(f),o(y,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new Ju({domain:t});o(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])o(s[r],n);else throw new Xu({primaryType:r,types:s})}function tf({domain:e}){return[typeof e?.name=="string"&&{name:"name",type:"string"},e?.version&&{name:"version",type:"string"},(typeof e?.chainId=="number"||typeof e?.chainId=="bigint")&&{name:"chainId",type:"uint256"},e?.verifyingContract&&{name:"verifyingContract",type:"address"},e?.salt&&{name:"salt",type:"bytes32"}].filter(Boolean)}function nf(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new Qu({type:e})}function rf(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:tf({domain:t}),...e.types};ef({domain:t,message:n,primaryType:r,types:s});const o=["0x1901"];return t&&o.push(sf({domain:t,types:s})),r!=="EIP712Domain"&&o.push(ha({data:n,primaryType:r,types:s})),Z(ge(o))}function sf({domain:e,types:t}){return ha({data:e,primaryType:"EIP712Domain",types:t})}function ha({data:e,primaryType:t,types:n}){const r=ya({data:e,primaryType:t,types:n});return Z(r)}function ya({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[of({primaryType:t,types:n})];for(const o of n[t]){const[a,i]=ga({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(a),s.push(i)}return Ze(r,s)}function of({primaryType:e,types:t}){const n=qe(af({primaryType:e,types:t}));return Z(n)}function af({primaryType:e,types:t}){let n="";const r=ma({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:a,type:i})=>`${i} ${a}`).join(",")})`;return n}function ma({primaryType:e,types:t},n=new Set){const s=e.match(/^\w*/u)?.[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])ma({primaryType:o.type,types:t},n);return n}function ga({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},Z(ya({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},Z(r)];if(n==="string")return[{type:"bytes32"},Z(qe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(a=>ga({name:t,type:s,types:e,value:a}));return[{type:"bytes32"},Z(Ze(o.map(([a])=>a),o.map(([,a])=>a)))]}return[{type:n},r]}class cf extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const uf={checksum:new cf(8192)},kn=uf.checksum;function wa(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=pi(Sc(e));return n==="Bytes"?r:fe(r)}const ff=/^0x[a-fA-F0-9]{40}$/;function hn(e,t={}){const{strict:n=!0}=t;if(!ff.test(e))throw new _s({address:e,cause:new df});if(n){if(e.toLowerCase()===e)return;if(va(e)!==e)throw new _s({address:e,cause:new lf})}}function va(e){if(kn.has(e))return kn.get(e);hn(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=wa(kc(t),{as:"Bytes"}),r=t.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&r[o]&&(r[o]=r[o].toUpperCase()),(n[o>>1]&15)>=8&&r[o+1]&&(r[o+1]=r[o+1].toUpperCase());const s=`0x${r.join("")}`;return kn.set(e,s),s}function er(e,t={}){const{strict:n=!0}=t??{};try{return hn(e,{strict:n}),!0}catch{return!1}}class _s extends j{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class df extends j{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class lf extends j{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const bf=/^(.*)\[([0-9]*)\]$/,pf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,xa=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Os=2n**256n-1n;function st(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=Mr(t.type);if(o){const[a,i]=o;return yf(e,{...t,type:i},{checksumAddress:r,length:a,staticPosition:s})}if(t.type==="tuple")return vf(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return hf(e,{checksum:r});if(t.type==="bool")return mf(e);if(t.type.startsWith("bytes"))return gf(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return wf(e,t);if(t.type==="string")return xf(e,{staticPosition:s});throw new jr(t.type)}const zs=32,tr=32;function hf(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(o=>n?va(o):o)(fe(Tc(r,-20))),32]}function yf(e,t,n){const{checksumAddress:r,length:s,staticPosition:o}=n;if(!s){const c=Be(e.readBytes(tr)),u=o+c,f=u+zs;e.setPosition(u);const d=Be(e.readBytes(zs)),l=Pt(t);let b=0;const y=[];for(let p=0;p<d;++p){e.setPosition(f+(l?p*32:b));const[g,m]=st(e,t,{checksumAddress:r,staticPosition:f});b+=m,y.push(g)}return e.setPosition(o+32),[y,32]}if(Pt(t)){const c=Be(e.readBytes(tr)),u=o+c,f=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[l]=st(e,t,{checksumAddress:r,staticPosition:u});f.push(l)}return e.setPosition(o+32),[f,32]}let a=0;const i=[];for(let c=0;c<s;++c){const[u,f]=st(e,t,{checksumAddress:r,staticPosition:o+a});a+=f,i.push(u)}return[i,a]}function mf(e){return[Cc(e.readBytes(32),{size:32}),32]}function gf(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const a=Be(e.readBytes(32));e.setPosition(n+a);const i=Be(e.readBytes(32));if(i===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(i);return e.setPosition(n+32),[fe(c),32]}return[fe(e.readBytes(Number.parseInt(s,10),32)),32]}function wf(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Rc(s,{signed:n}):Be(s,{signed:n}),32]}function vf(e,t,n){const{checksumAddress:r,staticPosition:s}=n,o=t.components.length===0||t.components.some(({name:c})=>!c),a=o?[]:{};let i=0;if(Pt(t)){const c=Be(e.readBytes(tr)),u=s+c;for(let f=0;f<t.components.length;++f){const d=t.components[f];e.setPosition(u+i);const[l,b]=st(e,d,{checksumAddress:r,staticPosition:u});i+=b,a[o?f:d?.name]=l}return e.setPosition(s+32),[a,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[f,d]=st(e,u,{checksumAddress:r,staticPosition:s});a[o?c:u?.name]=f,i+=d}return[a,i]}function xf(e,{staticPosition:t}){const n=Be(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Be(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const o=e.readBytes(s,32),a=_c(Uo(o));return e.setPosition(t+32),[a,32]}function Ef({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Or({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Or({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Mr(r.type);if(s){const[o,a]=s;return Pf(n,{checksumAddress:e,length:o,parameter:{...r,type:a}})}if(r.type==="tuple")return kf(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Af(n,{checksum:e});if(r.type==="bool")return $f(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const o=r.type.startsWith("int"),[,,a="256"]=xa.exec(r.type)??[];return Sf(n,{signed:o,size:Number(a)})}if(r.type.startsWith("bytes"))return Bf(n,{type:r.type});if(r.type==="string")return If(n);throw new jr(r.type)}function zr(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?t+=32:t+=te(i)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:a,encoded:i}=e[o];a?(n.push(W(t+s,{size:32})),r.push(i),s+=te(i)):n.push(i)}return ue(...n,...r)}function Af(e,t){const{checksum:n=!1}=t;return hn(e,{strict:n}),{dynamic:!1,encoded:He(e.toLowerCase())}}function Pf(e,t){const{checksumAddress:n,length:r,parameter:s}=t,o=r===null;if(!Array.isArray(e))throw new Ff(e);if(!o&&e.length!==r)throw new Mf({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let a=!1;const i=[];for(let c=0;c<e.length;c++){const u=Or({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(a=!0),i.push(u)}if(o||a){const c=zr(i);if(o){const u=W(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?ue(u,c):u}}if(a)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ue(...i.map(({encoded:c})=>c))}}function Bf(e,{type:t}){const[,n]=t.split("bytes"),r=te(e);if(!n){let s=e;return r%32!==0&&(s=Ge(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ue(He(W(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new Aa({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Ge(e)}}function $f(e){if(typeof e!="boolean")throw new j(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:He(Ho(e))}}function Sf(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new Zo({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function If(e){const t=xr(e),n=Math.ceil(te(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ge(me(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ue(Ge(W(te(t),{size:32})),...r)}}function kf(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const o=[];for(let a=0;a<r.components.length;a++){const i=r.components[a],c=Array.isArray(e)?a:i.name,u=Or({checksumAddress:n,parameter:i,value:e[c]});o.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?zr(o):ue(...o.map(({encoded:a})=>a))}}function Mr(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Pt(e){const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return e.components?.some(Pt);const n=Mr(e.type);return!!(n&&Pt({...e,type:n[1]}))}const Nf={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Cf({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new Rf({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new Ms({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new Ms({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Tf(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Nf);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class Ms extends j{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class Rf extends j{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Cf extends j{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function _f(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,o=typeof t=="string"?Do(t):t,a=Tf(o);if(pe(o)===0&&e.length>0)throw new zf;if(pe(o)&&pe(o)<32)throw new Of({data:typeof t=="string"?t:fe(t),parameters:e,size:pe(o)});let i=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const f=e[u];a.setPosition(i);const[d,l]=st(a,f,{checksumAddress:s,staticPosition:0});i+=l,r==="Array"?c.push(d):c[f.name??u]=d}return c}function Fr(e,t,n){const{checksumAddress:r=!1}=n??{};if(e.length!==t.length)throw new Pa({expectedLength:e.length,givenLength:t.length});const s=Ef({checksumAddress:r,parameters:e,values:t}),o=zr(s);return o.length===0?"0x":o}function nr(e,t){if(e.length!==t.length)throw new Pa({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],o=t[r];n.push(nr.encode(s,o))}return ue(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return hn(c),He(c.toLowerCase(),s?32:0)}if(n==="string")return xr(r);if(n==="bytes")return r;if(n==="bool")return He(Ho(r),s?32:1);const o=n.match(xa);if(o){const[c,u,f="256"]=o,d=Number.parseInt(f,10)/8;return W(r,{size:s?32:d,signed:u==="int"})}const a=n.match(pf);if(a){const[c,u]=a;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new Aa({expectedSize:Number.parseInt(u,10),value:r});return Ge(r,s?32:0)}const i=n.match(bf);if(i&&Array.isArray(r)){const[c,u]=i,f=[];for(let d=0;d<r.length;d++)f.push(t(u,r[d],!0));return f.length===0?"0x":ue(...f)}throw new jr(n)}e.encode=t})(nr||(nr={}));function Ea(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?ms(e):e}class Of extends j{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${tt(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class zf extends j{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class Mf extends j{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Aa extends j{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${te(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Pa extends j{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class Ff extends j{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class jr extends j{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class Ba extends hi{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,yi(t);const r=mi(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,o=new Uint8Array(s);o.set(r.length>s?t.create().update(r).digest():r);for(let a=0;a<o.length;a++)o[a]^=54;this.iHash.update(o),this.oHash=t.create();for(let a=0;a<o.length;a++)o[a]^=106;this.oHash.update(o),gi(o)}update(t){return ss(this),this.iHash.update(t),this}digestInto(t){ss(this),wi(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:o,blockLen:a,outputLen:i}=this;return t=t,t.finished=s,t.destroyed=o,t.blockLen=a,t.outputLen=i,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const $a=(e,t,n)=>new Ba(e,t).update(n).digest();$a.create=(e,t)=>new Ba(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const X=BigInt(0),Y=BigInt(1),Fe=BigInt(2),jf=BigInt(3),Sa=BigInt(4),Ia=BigInt(5),ka=BigInt(8);function H(e,t){const n=e%t;return n>=X?n:t+n}function ne(e,t,n){let r=e;for(;t-- >X;)r*=r,r%=n;return r}function rr(e,t){if(e===X)throw new Error("invert: expected non-zero number");if(t<=X)throw new Error("invert: expected positive modulus, got "+t);let n=H(e,t),r=t,s=X,o=Y;for(;n!==X;){const i=r/n,c=r%n,u=s-o*i;r=n,n=c,s=o,o=u}if(r!==Y)throw new Error("invert: does not exist");return H(s,t)}function Na(e,t){const n=(e.ORDER+Y)/Sa,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function Lf(e,t){const n=(e.ORDER-Ia)/ka,r=e.mul(t,Fe),s=e.pow(r,n),o=e.mul(t,s),a=e.mul(e.mul(o,Fe),s),i=e.mul(o,e.sub(a,e.ONE));if(!e.eql(e.sqr(i),t))throw new Error("Cannot find square root");return i}function Df(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Y,n=0;for(;t%Fe===X;)t/=Fe,n++;let r=Fe;const s=Lr(e);for(;Fs(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Na;let o=s.pow(r,t);const a=(t+Y)/Fe;return function(c,u){if(c.is0(u))return u;if(Fs(c,u)!==1)throw new Error("Cannot find square root");let f=n,d=c.mul(c.ONE,o),l=c.pow(u,t),b=c.pow(u,a);for(;!c.eql(l,c.ONE);){if(c.is0(l))return c.ZERO;let y=1,p=c.sqr(l);for(;!c.eql(p,c.ONE);)if(y++,p=c.sqr(p),y===f)throw new Error("Cannot find square root");const g=Y<<BigInt(f-y-1),m=c.pow(d,g);f=y,d=c.sqr(m),l=c.mul(l,d),b=c.mul(b,m)}return b}}function Uf(e){return e%Sa===jf?Na:e%ka===Ia?Lf:Df(e)}const qf=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ta(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=qf.reduce((r,s)=>(r[s]="function",r),t);return Ct(e,n)}function Hf(e,t,n){if(n<X)throw new Error("invalid exponent, negatives unsupported");if(n===X)return e.ONE;if(n===Y)return t;let r=e.ONE,s=t;for(;n>X;)n&Y&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Y;return r}function yn(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((a,i,c)=>e.is0(i)?a:(r[c]=a,e.mul(a,i)),e.ONE),o=e.inv(s);return t.reduceRight((a,i,c)=>e.is0(i)?a:(r[c]=e.mul(a,r[c]),e.mul(a,i)),o),r}function Fs(e,t){const n=(e.ORDER-Y)/Fe,r=e.pow(t,n),s=e.eql(r,e.ONE),o=e.eql(r,e.ZERO),a=e.eql(r,e.neg(e.ONE));if(!s&&!o&&!a)throw new Error("invalid Legendre symbol result");return s?1:o?0:-1}function Ra(e,t){t!==void 0&&vi(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Lr(e,t,n=!1,r={}){if(e<=X)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:o}=Ra(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const i=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:o,MASK:cn(s),ZERO:X,ONE:Y,create:c=>H(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return X<=c&&c<e},is0:c=>c===X,isOdd:c=>(c&Y)===Y,neg:c=>H(-c,e),eql:(c,u)=>c===u,sqr:c=>H(c*c,e),add:(c,u)=>H(c+u,e),sub:(c,u)=>H(c-u,e),mul:(c,u)=>H(c*u,e),pow:(c,u)=>Hf(i,c,u),div:(c,u)=>H(c*rr(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>rr(c,e),sqrt:r.sqrt||(c=>(a||(a=Uf(e)),a(i,c))),toBytes:c=>n?zo(c,o):Ye(c,o),fromBytes:c=>{if(c.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+c.length);return n?Oo(c):ye(c)},invertBatch:c=>yn(i,c),cmov:(c,u,f)=>f?u:c});return Object.freeze(i)}function Ca(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function _a(e){const t=Ca(e);return t+Math.ceil(t/2)}function Gf(e,t,n=!1){const r=e.length,s=Ca(t),o=_a(t);if(r<16||r<o||r>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+r);const a=n?Oo(e):ye(e),i=H(a,t-Y)+Y;return n?zo(i,s):Ye(i,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const js=BigInt(0),sr=BigInt(1);function Nn(e,t){const n=t.negate();return e?n:t}function Oa(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Tn(e,t){Oa(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,o=cn(e),a=BigInt(e);return{windows:n,windowSize:r,mask:o,maxNumber:s,shiftBy:a}}function Ls(e,t,n){const{windowSize:r,mask:s,maxNumber:o,shiftBy:a}=n;let i=Number(e&s),c=e>>a;i>r&&(i-=o,c+=sr);const u=t*r,f=u+Math.abs(i)-1,d=i===0,l=i<0,b=t%2!==0;return{nextN:c,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:u}}function Vf(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Zf(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const Rn=new WeakMap,za=new WeakMap;function Cn(e){return za.get(e)||1}function Wf(e,t){return{constTimeNegate:Nn,hasPrecomputes(n){return Cn(n)!==1},unsafeLadder(n,r,s=e.ZERO){let o=n;for(;r>js;)r&sr&&(s=s.add(o)),o=o.double(),r>>=sr;return s},precomputeWindow(n,r){const{windows:s,windowSize:o}=Tn(r,t),a=[];let i=n,c=i;for(let u=0;u<s;u++){c=i,a.push(c);for(let f=1;f<o;f++)c=c.add(i),a.push(c);i=c.double()}return a},wNAF(n,r,s){let o=e.ZERO,a=e.BASE;const i=Tn(n,t);for(let c=0;c<i.windows;c++){const{nextN:u,offset:f,isZero:d,isNeg:l,isNegF:b,offsetF:y}=Ls(s,c,i);s=u,d?a=a.add(Nn(b,r[y])):o=o.add(Nn(l,r[f]))}return{p:o,f:a}},wNAFUnsafe(n,r,s,o=e.ZERO){const a=Tn(n,t);for(let i=0;i<a.windows&&s!==js;i++){const{nextN:c,offset:u,isZero:f,isNeg:d}=Ls(s,i,a);if(s=c,!f){const l=r[u];o=o.add(d?l.negate():l)}}return o},getPrecomputes(n,r,s){let o=Rn.get(r);return o||(o=this.precomputeWindow(r,n),n!==1&&Rn.set(r,s(o))),o},wNAFCached(n,r,s){const o=Cn(n);return this.wNAF(o,this.getPrecomputes(o,n,s),r)},wNAFCachedUnsafe(n,r,s,o){const a=Cn(n);return a===1?this.unsafeLadder(n,r,o):this.wNAFUnsafe(a,this.getPrecomputes(a,n,s),r,o)},setWindowSize(n,r){Oa(r,t),za.set(n,r),Rn.delete(n)}}}function Kf(e,t,n,r){Vf(n,e),Zf(r,t);const s=n.length,o=r.length;if(s!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,i=pc(BigInt(s));let c=1;i>12?c=i-3:i>4?c=i-2:i>0&&(c=2);const u=cn(c),f=new Array(Number(u)+1).fill(a),d=Math.floor((t.BITS-1)/c)*c;let l=a;for(let b=d;b>=0;b-=c){f.fill(a);for(let p=0;p<o;p++){const g=r[p],m=Number(g>>BigInt(b)&u);f[m]=f[m].add(n[p])}let y=a;for(let p=f.length-1,g=a;p>0;p--)g=g.add(f[p]),y=y.add(g);if(l=l.add(y),b!==0)for(let p=0;p<c;p++)l=l.double()}return l}function Ma(e){return Ta(e.Fp),Ct(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ra(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ds(e){e.lowS!==void 0&&xt("lowS",e.lowS),e.prehash!==void 0&&xt("prehash",e.prehash)}function Yf(e){const t=Ma(e);Ct(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Jf extends Error{constructor(t=""){super(t)}}const Ae={Err:Jf,_tlv:{encode:(e,t)=>{const{Err:n}=Ae;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=Dt(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const o=r>127?Dt(s.length/2|128):"";return Dt(e)+o+s+t},decode(e,t){const{Err:n}=Ae;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],o=!!(s&128);let a=0;if(!o)a=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const f of u)a=a<<8|f;if(r+=c,a<128)throw new n("tlv.decode(long): not minimal encoding")}const i=t.subarray(r,r+a);if(i.length!==a)throw new n("tlv.decode: wrong value length");return{v:i,l:t.subarray(r+a)}}},_int:{encode(e){const{Err:t}=Ae;if(e<ae)throw new t("integer: negative integers are not allowed");let n=Dt(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ae;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return ye(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ae,s=G("signature",e),{v:o,l:a}=r.decode(48,s);if(a.length)throw new t("invalid signature: left bytes after parsing");const{v:i,l:c}=r.decode(2,o),{v:u,l:f}=r.decode(2,c);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(i),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ae,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),o=r+s;return t.encode(48,o)}};function _n(e,t){return Et(Ye(e,t))}const ae=BigInt(0),U=BigInt(1),Ne=BigInt(2),mt=BigInt(3),or=BigInt(4);function Xf(e){const t=Yf(e),{Fp:n}=t,r=Lr(t.n,t.nBitLength),s=t.toBytes||((w,h,v)=>{const A=h.toAffine();return re(Uint8Array.from([4]),n.toBytes(A.x),n.toBytes(A.y))}),o=t.fromBytes||(w=>{const h=w.subarray(1),v=n.fromBytes(h.subarray(0,n.BYTES)),A=n.fromBytes(h.subarray(n.BYTES,2*n.BYTES));return{x:v,y:A}});function a(w){const{a:h,b:v}=t,A=n.sqr(w),E=n.mul(A,w);return n.add(n.add(E,n.mul(w,h)),v)}function i(w,h){const v=n.sqr(h),A=a(w);return n.eql(v,A)}if(!i(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,mt),or),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function f(w){return At(w,U,t.n)}function d(w){const{allowedPrivateKeyLengths:h,nByteLength:v,wrapPrivateKey:A,n:E}=t;if(h&&typeof w!="bigint"){if(Rt(w)&&(w=Et(w)),typeof w!="string"||!h.includes(w.length))throw new Error("invalid private key");w=w.padStart(v*2,"0")}let S;try{S=typeof w=="bigint"?w:ye(G("private key",w,v))}catch{throw new Error("invalid private key, expected hex or "+v+" bytes, got "+typeof w)}return A&&(S=H(S,E)),De("private key",S,U,E),S}function l(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}const b=As((w,h)=>{const{px:v,py:A,pz:E}=w;if(n.eql(E,n.ONE))return{x:v,y:A};const S=w.is0();h==null&&(h=S?n.ONE:n.inv(E));const N=n.mul(v,h),k=n.mul(A,h),I=n.mul(E,h);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(I,n.ONE))throw new Error("invZ was invalid");return{x:N,y:k}}),y=As(w=>{if(w.is0()){if(t.allowInfinityPoint&&!n.is0(w.py))return;throw new Error("bad point: ZERO")}const{x:h,y:v}=w.toAffine();if(!n.isValid(h)||!n.isValid(v))throw new Error("bad point: x or y not FE");if(!i(h,v))throw new Error("bad point: equation left != right");if(!w.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(h,v,A){if(h==null||!n.isValid(h))throw new Error("x required");if(v==null||!n.isValid(v)||n.is0(v))throw new Error("y required");if(A==null||!n.isValid(A))throw new Error("z required");this.px=h,this.py=v,this.pz=A,Object.freeze(this)}static fromAffine(h){const{x:v,y:A}=h||{};if(!h||!n.isValid(v)||!n.isValid(A))throw new Error("invalid affine point");if(h instanceof p)throw new Error("projective point not allowed");const E=S=>n.eql(S,n.ZERO);return E(v)&&E(A)?p.ZERO:new p(v,A,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(h){const v=yn(n,h.map(A=>A.pz));return h.map((A,E)=>A.toAffine(v[E])).map(p.fromAffine)}static fromHex(h){const v=p.fromAffine(o(G("pointHex",h)));return v.assertValidity(),v}static fromPrivateKey(h){return p.BASE.multiply(d(h))}static msm(h,v){return Kf(p,r,h,v)}_setWindowSize(h){x.setWindowSize(this,h)}assertValidity(){y(this)}hasEvenY(){const{y:h}=this.toAffine();if(n.isOdd)return!n.isOdd(h);throw new Error("Field doesn't support isOdd")}equals(h){l(h);const{px:v,py:A,pz:E}=this,{px:S,py:N,pz:k}=h,I=n.eql(n.mul(v,k),n.mul(S,E)),_=n.eql(n.mul(A,k),n.mul(N,E));return I&&_}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:h,b:v}=t,A=n.mul(v,mt),{px:E,py:S,pz:N}=this;let k=n.ZERO,I=n.ZERO,_=n.ZERO,O=n.mul(E,E),D=n.mul(S,S),B=n.mul(N,N),P=n.mul(E,S);return P=n.add(P,P),_=n.mul(E,N),_=n.add(_,_),k=n.mul(h,_),I=n.mul(A,B),I=n.add(k,I),k=n.sub(D,I),I=n.add(D,I),I=n.mul(k,I),k=n.mul(P,k),_=n.mul(A,_),B=n.mul(h,B),P=n.sub(O,B),P=n.mul(h,P),P=n.add(P,_),_=n.add(O,O),O=n.add(_,O),O=n.add(O,B),O=n.mul(O,P),I=n.add(I,O),B=n.mul(S,N),B=n.add(B,B),O=n.mul(B,P),k=n.sub(k,O),_=n.mul(B,D),_=n.add(_,_),_=n.add(_,_),new p(k,I,_)}add(h){l(h);const{px:v,py:A,pz:E}=this,{px:S,py:N,pz:k}=h;let I=n.ZERO,_=n.ZERO,O=n.ZERO;const D=t.a,B=n.mul(t.b,mt);let P=n.mul(v,S),C=n.mul(A,N),$=n.mul(E,k),T=n.add(v,A),F=n.add(S,N);T=n.mul(T,F),F=n.add(P,C),T=n.sub(T,F),F=n.add(v,E);let L=n.add(S,k);return F=n.mul(F,L),L=n.add(P,$),F=n.sub(F,L),L=n.add(A,E),I=n.add(N,k),L=n.mul(L,I),I=n.add(C,$),L=n.sub(L,I),O=n.mul(D,F),I=n.mul(B,$),O=n.add(I,O),I=n.sub(C,O),O=n.add(C,O),_=n.mul(I,O),C=n.add(P,P),C=n.add(C,P),$=n.mul(D,$),F=n.mul(B,F),C=n.add(C,$),$=n.sub(P,$),$=n.mul(D,$),F=n.add(F,$),P=n.mul(C,F),_=n.add(_,P),P=n.mul(L,F),I=n.mul(T,I),I=n.sub(I,P),P=n.mul(T,C),O=n.mul(L,O),O=n.add(O,P),new p(I,_,O)}subtract(h){return this.add(h.negate())}is0(){return this.equals(p.ZERO)}wNAF(h){return x.wNAFCached(this,h,p.normalizeZ)}multiplyUnsafe(h){const{endo:v,n:A}=t;De("scalar",h,ae,A);const E=p.ZERO;if(h===ae)return E;if(this.is0()||h===U)return this;if(!v||x.hasPrecomputes(this))return x.wNAFCachedUnsafe(this,h,p.normalizeZ);let{k1neg:S,k1:N,k2neg:k,k2:I}=v.splitScalar(h),_=E,O=E,D=this;for(;N>ae||I>ae;)N&U&&(_=_.add(D)),I&U&&(O=O.add(D)),D=D.double(),N>>=U,I>>=U;return S&&(_=_.negate()),k&&(O=O.negate()),O=new p(n.mul(O.px,v.beta),O.py,O.pz),_.add(O)}multiply(h){const{endo:v,n:A}=t;De("scalar",h,U,A);let E,S;if(v){const{k1neg:N,k1:k,k2neg:I,k2:_}=v.splitScalar(h);let{p:O,f:D}=this.wNAF(k),{p:B,f:P}=this.wNAF(_);O=x.constTimeNegate(N,O),B=x.constTimeNegate(I,B),B=new p(n.mul(B.px,v.beta),B.py,B.pz),E=O.add(B),S=D.add(P)}else{const{p:N,f:k}=this.wNAF(h);E=N,S=k}return p.normalizeZ([E,S])[0]}multiplyAndAddUnsafe(h,v,A){const E=p.BASE,S=(k,I)=>I===ae||I===U||!k.equals(E)?k.multiplyUnsafe(I):k.multiply(I),N=S(this,v).add(S(h,A));return N.is0()?void 0:N}toAffine(h){return b(this,h)}isTorsionFree(){const{h,isTorsionFree:v}=t;if(h===U)return!0;if(v)return v(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h,clearCofactor:v}=t;return h===U?this:v?v(p,this):this.multiplyUnsafe(t.h)}toRawBytes(h=!0){return xt("isCompressed",h),this.assertValidity(),s(p,this,h)}toHex(h=!0){return xt("isCompressed",h),Et(this.toRawBytes(h))}}p.BASE=new p(t.Gx,t.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:g,nBitLength:m}=t,x=Wf(p,g?Math.ceil(m/2):m);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:a,isWithinCurveOrder:f}}function Qf(e){const t=Ma(e);return Ct(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function ed(e){const t=Qf(e),{Fp:n,n:r,nByteLength:s,nBitLength:o}=t,a=n.BYTES+1,i=2*n.BYTES+1;function c(B){return H(B,r)}function u(B){return rr(B,r)}const{ProjectivePoint:f,normPrivateKeyToScalar:d,weierstrassEquation:l,isWithinCurveOrder:b}=Xf({...t,toBytes(B,P,C){const $=P.toAffine(),T=n.toBytes($.x),F=re;return xt("isCompressed",C),C?F(Uint8Array.from([P.hasEvenY()?2:3]),T):F(Uint8Array.from([4]),T,n.toBytes($.y))},fromBytes(B){const P=B.length,C=B[0],$=B.subarray(1);if(P===a&&(C===2||C===3)){const T=ye($);if(!At(T,U,n.ORDER))throw new Error("Point is not on curve");const F=l(T);let L;try{L=n.sqrt(F)}catch(J){const V=J instanceof Error?": "+J.message:"";throw new Error("Point is not on curve"+V)}const q=(L&U)===U;return(C&1)===1!==q&&(L=n.neg(L)),{x:T,y:L}}else if(P===i&&C===4){const T=n.fromBytes($.subarray(0,n.BYTES)),F=n.fromBytes($.subarray(n.BYTES,2*n.BYTES));return{x:T,y:F}}else{const T=a,F=i;throw new Error("invalid Point, expected length of "+T+", or uncompressed "+F+", got "+P)}}});function y(B){const P=r>>U;return B>P}function p(B){return y(B)?c(-B):B}const g=(B,P,C)=>ye(B.slice(P,C));class m{constructor(P,C,$){De("r",P,U,r),De("s",C,U,r),this.r=P,this.s=C,$!=null&&(this.recovery=$),Object.freeze(this)}static fromCompact(P){const C=s;return P=G("compactSignature",P,C*2),new m(g(P,0,C),g(P,C,2*C))}static fromDER(P){const{r:C,s:$}=Ae.toSig(G("DER",P));return new m(C,$)}assertValidity(){}addRecoveryBit(P){return new m(this.r,this.s,P)}recoverPublicKey(P){const{r:C,s:$,recovery:T}=this,F=E(G("msgHash",P));if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");const L=T===2||T===3?C+t.n:C;if(L>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const q=T&1?"03":"02",oe=f.fromHex(q+_n(L,n.BYTES)),J=u(L),V=c(-F*J),Je=c($*J),ke=f.BASE.multiplyAndAddUnsafe(oe,V,Je);if(!ke)throw new Error("point at infinify");return ke.assertValidity(),ke}hasHighS(){return y(this.s)}normalizeS(){return this.hasHighS()?new m(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Vt(this.toDERHex())}toDERHex(){return Ae.hexFromSig(this)}toCompactRawBytes(){return Vt(this.toCompactHex())}toCompactHex(){const P=s;return _n(this.r,P)+_n(this.s,P)}}const x={isValidPrivateKey(B){try{return d(B),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const B=_a(t.n);return Gf(t.randomBytes(B),t.n)},precompute(B=8,P=f.BASE){return P._setWindowSize(B),P.multiply(BigInt(3)),P}};function w(B,P=!0){return f.fromPrivateKey(B).toRawBytes(P)}function h(B){if(typeof B=="bigint")return!1;if(B instanceof f)return!0;const C=G("key",B).length,$=n.BYTES,T=$+1,F=2*$+1;if(!(t.allowedPrivateKeyLengths||s===T))return C===T||C===F}function v(B,P,C=!0){if(h(B)===!0)throw new Error("first arg must be private key");if(h(P)===!1)throw new Error("second arg must be public key");return f.fromHex(P).multiply(d(B)).toRawBytes(C)}const A=t.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const P=ye(B),C=B.length*8-o;return C>0?P>>BigInt(C):P},E=t.bits2int_modN||function(B){return c(A(B))},S=cn(o);function N(B){return De("num < 2^"+o,B,ae,S),Ye(B,s)}function k(B,P,C=I){if(["recovered","canonical"].some(ze=>ze in C))throw new Error("sign() legacy options not supported");const{hash:$,randomBytes:T}=t;let{lowS:F,prehash:L,extraEntropy:q}=C;F==null&&(F=!0),B=G("msgHash",B),Ds(C),L&&(B=G("prehashed msgHash",$(B)));const oe=E(B),J=d(P),V=[N(J),N(oe)];if(q!=null&&q!==!1){const ze=q===!0?T(n.BYTES):q;V.push(G("extraEntropy",ze))}const Je=re(...V),ke=oe;function vn(ze){const Xe=A(ze);if(!b(Xe))return;const xn=u(Xe),bt=f.BASE.multiply(Xe).toAffine(),Me=c(bt.x);if(Me===ae)return;const pt=c(xn*c(ke+Me*J));if(pt===ae)return;let Qe=(bt.x===Me?0:2)|Number(bt.y&U),Wr=pt;return F&&y(pt)&&(Wr=p(pt),Qe^=1),new m(Me,Wr,Qe)}return{seed:Je,k2sig:vn}}const I={lowS:t.lowS,prehash:!1},_={lowS:t.lowS,prehash:!1};function O(B,P,C=I){const{seed:$,k2sig:T}=k(B,P,C),F=t;return hc(F.hash.outputLen,F.nByteLength,F.hmac)($,T)}f.BASE._setWindowSize(8);function D(B,P,C,$=_){const T=B;P=G("msgHash",P),C=G("publicKey",C);const{lowS:F,prehash:L,format:q}=$;if(Ds($),"strict"in $)throw new Error("options.strict was renamed to lowS");if(q!==void 0&&q!=="compact"&&q!=="der")throw new Error("format must be compact or der");const oe=typeof T=="string"||Rt(T),J=!oe&&!q&&typeof T=="object"&&T!==null&&typeof T.r=="bigint"&&typeof T.s=="bigint";if(!oe&&!J)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let V,Je;try{if(J&&(V=new m(T.r,T.s)),oe){try{q!=="compact"&&(V=m.fromDER(T))}catch(Qe){if(!(Qe instanceof Ae.Err))throw Qe}!V&&q!=="der"&&(V=m.fromCompact(T))}Je=f.fromHex(C)}catch{return!1}if(!V||F&&V.hasHighS())return!1;L&&(P=t.hash(P));const{r:ke,s:vn}=V,ze=E(P),Xe=u(vn),xn=c(ze*Xe),bt=c(ke*Xe),Me=f.BASE.multiplyAndAddUnsafe(Je,xn,bt)?.toAffine();return Me?c(Me.x)===ke:!1}return{CURVE:t,getPublicKey:w,getSharedSecret:v,sign:O,verify:D,ProjectivePoint:f,Signature:m,utils:x}}function td(e,t){const n=e.ORDER;let r=ae;for(let y=n-U;y%Ne===ae;y/=Ne)r+=U;const s=r,o=Ne<<s-U-U,a=o*Ne,i=(n-U)/a,c=(i-U)/Ne,u=a-U,f=o,d=e.pow(t,i),l=e.pow(t,(i+U)/Ne);let b=(y,p)=>{let g=d,m=e.pow(p,u),x=e.sqr(m);x=e.mul(x,p);let w=e.mul(y,x);w=e.pow(w,c),w=e.mul(w,m),m=e.mul(w,p),x=e.mul(w,y);let h=e.mul(x,m);w=e.pow(h,f);let v=e.eql(w,e.ONE);m=e.mul(x,l),w=e.mul(h,g),x=e.cmov(m,x,v),h=e.cmov(w,h,v);for(let A=s;A>U;A--){let E=A-Ne;E=Ne<<E-U;let S=e.pow(h,E);const N=e.eql(S,e.ONE);m=e.mul(x,g),g=e.mul(g,g),S=e.mul(h,g),x=e.cmov(m,x,N),h=e.cmov(S,h,N)}return{isValid:v,value:x}};if(e.ORDER%or===mt){const y=(e.ORDER-mt)/or,p=e.sqrt(e.neg(t));b=(g,m)=>{let x=e.sqr(m);const w=e.mul(g,m);x=e.mul(x,w);let h=e.pow(x,y);h=e.mul(h,w);const v=e.mul(h,p),A=e.mul(e.sqr(h),m),E=e.eql(A,g);let S=e.cmov(v,h,E);return{isValid:E,value:S}}}return b}function nd(e,t){if(Ta(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=td(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let s,o,a,i,c,u,f,d;s=e.sqr(r),s=e.mul(s,t.Z),o=e.sqr(s),o=e.add(o,s),a=e.add(o,e.ONE),a=e.mul(a,t.B),i=e.cmov(t.Z,e.neg(o),!e.eql(o,e.ZERO)),i=e.mul(i,t.A),o=e.sqr(a),u=e.sqr(i),c=e.mul(u,t.A),o=e.add(o,c),o=e.mul(o,a),u=e.mul(u,i),c=e.mul(u,t.B),o=e.add(o,c),f=e.mul(s,a);const{isValid:l,value:b}=n(o,u);d=e.mul(s,r),d=e.mul(d,b),f=e.cmov(f,a,l),d=e.cmov(d,b,l);const y=e.isOdd(r)===e.isOdd(d);d=e.cmov(e.neg(d),d,y);const p=yn(e,[i],!0)[0];return f=e.mul(f,p),{x:f,y:d}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rd(e){return{hash:e,hmac:(t,...n)=>$a(e,t,xi(...n)),randomBytes:Qs}}function sd(e,t){const n=r=>ed({...e,...rd(r)});return{...n(t),create:n}}const od=ye;function Te(e,t){if(Bt(e),Bt(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const n=Array.from({length:t}).fill(0);for(let r=t-1;r>=0;r--)n[r]=e&255,e>>>=8;return new Uint8Array(n)}function ad(e,t){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r]^t[r];return n}function Bt(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function id(e,t,n,r){Ce(e),Ce(t),Bt(n),t.length>255&&(t=r(re(vr("H2C-OVERSIZE-DST-"),t)));const{outputLen:s,blockLen:o}=r,a=Math.ceil(n/s);if(n>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const i=re(t,Te(t.length,1)),c=Te(0,o),u=Te(n,2),f=new Array(a),d=r(re(c,e,u,Te(0,1),i));f[0]=r(re(d,Te(1,1),i));for(let b=1;b<=a;b++){const y=[ad(d,f[b-1]),Te(b+1,1),i];f[b]=r(re(...y))}return re(...f).slice(0,n)}function cd(e,t,n,r,s){if(Ce(e),Ce(t),Bt(n),t.length>255){const o=Math.ceil(2*r/8);t=s.create({dkLen:o}).update(vr("H2C-OVERSIZE-DST-")).update(t).digest()}if(n>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return s.create({dkLen:n}).update(e).update(Te(n,2)).update(t).update(Te(t.length,1)).digest()}function Us(e,t,n){Ct(n,{DST:"stringOrUint8Array",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:s,m:o,hash:a,expand:i,DST:c}=n;Ce(e),Bt(t);const u=typeof c=="string"?vr(c):c,f=r.toString(2).length,d=Math.ceil((f+s)/8),l=t*o*d;let b;if(i==="xmd")b=id(e,u,l,a);else if(i==="xof")b=cd(e,u,l,s,a);else if(i==="_internal_pass")b=e;else throw new Error('expand must be "xmd" or "xof"');const y=new Array(t);for(let p=0;p<t;p++){const g=new Array(o);for(let m=0;m<o;m++){const x=d*(m+p*o),w=b.subarray(x,x+d);g[m]=H(od(w),r)}y[p]=g}return y}function ud(e,t){const n=t.map(r=>Array.from(r).reverse());return(r,s)=>{const[o,a,i,c]=n.map(d=>d.reduce((l,b)=>e.add(e.mul(l,r),b))),[u,f]=yn(e,[a,c],!0);return r=e.mul(o,u),s=e.mul(s,e.mul(i,f)),{x:r,y:s}}}function fd(e,t,n){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function r(o){return e.fromAffine(t(o))}function s(o){const a=o.clearCofactor();return a.equals(e.ZERO)?e.ZERO:(a.assertValidity(),a)}return{defaults:n,hashToCurve(o,a){const i=Us(o,2,{...n,DST:n.DST,...a}),c=r(i[0]),u=r(i[1]);return s(c.add(u))},encodeToCurve(o,a){const i=Us(o,1,{...n,DST:n.encodeDST,...a});return s(r(i[0]))},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return s(r(o))}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ft=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Zt=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Dr=BigInt(0),$t=BigInt(1),Wt=BigInt(2),qs=(e,t)=>(e+t/Wt)/t;function Fa(e){const t=Ft,n=BigInt(3),r=BigInt(6),s=BigInt(11),o=BigInt(22),a=BigInt(23),i=BigInt(44),c=BigInt(88),u=e*e*e%t,f=u*u*e%t,d=ne(f,n,t)*f%t,l=ne(d,n,t)*f%t,b=ne(l,Wt,t)*u%t,y=ne(b,s,t)*b%t,p=ne(y,o,t)*y%t,g=ne(p,i,t)*p%t,m=ne(g,c,t)*g%t,x=ne(m,i,t)*p%t,w=ne(x,n,t)*f%t,h=ne(w,a,t)*y%t,v=ne(h,r,t)*u%t,A=ne(v,Wt,t);if(!_e.eql(_e.sqr(A),e))throw new Error("Cannot find square root");return A}const _e=Lr(Ft,void 0,void 0,{sqrt:Fa}),lt=sd({a:Dr,b:BigInt(7),Fp:_e,n:Zt,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Zt,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-$t*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=n,a=BigInt("0x100000000000000000000000000000000"),i=qs(o*e,t),c=qs(-r*e,t);let u=H(e-i*n-c*s,t),f=H(-i*r-c*o,t);const d=u>a,l=f>a;if(d&&(u=t-u),l&&(f=t-f),u>a||f>a)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:l,k2:f}}}},qt),Hs={};function Kt(e,...t){let n=Hs[e];if(n===void 0){const r=qt(Uint8Array.from(e,s=>s.charCodeAt(0)));n=re(r,r),Hs[e]=n}return qt(re(n,...t))}const Ur=e=>e.toRawBytes(!0).slice(1),ar=e=>Ye(e,32),On=e=>H(e,Ft),St=e=>H(e,Zt),qr=(()=>lt.ProjectivePoint)(),dd=(e,t,n)=>qr.BASE.multiplyAndAddUnsafe(e,t,n);function ir(e){let t=lt.utils.normPrivateKeyToScalar(e),n=qr.fromPrivateKey(t);return{scalar:n.hasEvenY()?t:St(-t),bytes:Ur(n)}}function ja(e){De("x",e,$t,Ft);const t=On(e*e),n=On(t*e+BigInt(7));let r=Fa(n);r%Wt!==Dr&&(r=On(-r));const s=new qr(e,r,$t);return s.assertValidity(),s}const ot=ye;function La(...e){return St(ot(Kt("BIP0340/challenge",...e)))}function ld(e){return ir(e).bytes}function bd(e,t,n=Qs(32)){const r=G("message",e),{bytes:s,scalar:o}=ir(t),a=G("auxRand",n,32),i=ar(o^ot(Kt("BIP0340/aux",a))),c=Kt("BIP0340/nonce",i,s,r),u=St(ot(c));if(u===Dr)throw new Error("sign failed: k is zero");const{bytes:f,scalar:d}=ir(u),l=La(f,s,r),b=new Uint8Array(64);if(b.set(f,0),b.set(ar(St(d+l*o)),32),!Da(b,r,s))throw new Error("sign: Invalid signature produced");return b}function Da(e,t,n){const r=G("signature",e,64),s=G("message",t),o=G("publicKey",n,32);try{const a=ja(ot(o)),i=ot(r.subarray(0,32));if(!At(i,$t,Ft))return!1;const c=ot(r.subarray(32,64));if(!At(c,$t,Zt))return!1;const u=La(ar(i),Ur(a),s),f=dd(a,c,St(-u));return!(!f||!f.hasEvenY()||f.toAffine().x!==i)}catch{return!1}}const pd=(()=>({getPublicKey:ld,sign:bd,verify:Da,utils:{randomPrivateKey:lt.utils.randomPrivateKey,lift_x:ja,pointToBytes:Ur,numberToBytesBE:Ye,bytesToNumberBE:ye,taggedHash:Kt,mod:H}}))(),hd=(()=>ud(_e,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))))(),yd=(()=>nd(_e,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:_e.create(BigInt("-11"))}))(),Hr=(()=>fd(lt.ProjectivePoint,e=>{const{x:t,y:n}=yd(_e.create(e[0]));return hd(t,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:_e.ORDER,m:1,k:128,expand:"xmd",hash:qt}))(),md=(()=>Hr.hashToCurve)(),gd=(()=>Hr.encodeToCurve)(),wd=Object.freeze(Object.defineProperty({__proto__:null,encodeToCurve:gd,hashToCurve:md,schnorr:pd,secp256k1:lt,secp256k1_hasher:Hr},Symbol.toStringTag,{value:"Module"}));function Ua(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new zn({signature:e});if(typeof e.s>"u")throw new zn({signature:e});if(n&&typeof e.yParity>"u")throw new zn({signature:e});if(e.r<0n||e.r>Os)throw new $d({value:e.r});if(e.s<0n||e.s>Os)throw new Sd({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Vr({value:e.yParity})}function vd(e){return qa(fe(e))}function qa(e){if(e.length!==130&&e.length!==132)throw new Bd({signature:e});const t=BigInt(me(e,0,32)),n=BigInt(me(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Gr(s)}catch{throw new Vr({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function xd(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return Ed(e)}function Ed(e){const t=(()=>typeof e=="string"?qa(e):e instanceof Uint8Array?vd(e):typeof e.r=="string"?Pd(e):e.v?Ad(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}})();return Ua(t),t}function Ad(e){return{r:e.r,s:e.s,yParity:Gr(e.v)}}function Pd(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Gr(n)),typeof r!="number")throw new Vr({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Gr(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new Id({value:e})}class Bd extends j{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${te(Uc(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class zn extends j{constructor({signature:t}){super(`Signature \`${Lo(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class $d extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Sd extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Vr extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class Id extends j{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function kd(e,t={}){return typeof e.chainId=="string"?Nd(e):{...e,...t.signature}}function Nd(e){const{address:t,chainId:n,nonce:r}=e,s=xd(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const Td="0x8010801080108010801080108010801080108010801080108010801080108010",Rd=Ea("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function Ha(e){if(typeof e=="string"){if(me(e,-32)!==Td)throw new Od(e)}else Ua(e.authorization)}function Cd(e){Ha(e);const t=Vo(me(e,-64,-32)),n=me(e,-t-64,-64),r=me(e,0,-t-64),[s,o,a]=_f(Rd,n);return{authorization:kd({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...a&&a!=="0x"?{data:a,to:o}:{}}}function _d(e){try{return Ha(e),!0}catch{return!1}}let Od=class extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function zd(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Md(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?ut(e.nonce):void 0,storageProof:e.storageProof?zd(e.storageProof):void 0}}async function Fd(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const o=r??"latest",a=n!==void 0?z(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,a||o]});return Md(i)}async function jd(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?z(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function Zr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){const a=r||"latest",i=n!==void 0?z(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,z(o)]},{dedupe:!0}):(i||a)&&(c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||a,z(o)]},{dedupe:!!i})),!c)throw new eo({blockHash:t,blockNumber:n,blockTag:a,hash:s,index:o});return(e.chain?.formatters?.transaction?.format||Ei)(c,"getTransaction")}async function Ld(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([M(e,Mt,"getBlockNumber")({}),t?M(e,Zr,"getTransaction")({hash:t}):void 0]),o=n?.blockNumber||s?.blockNumber;return o?r-o+1n:0n}async function Ut(e,{hash:t}){const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new to({hash:t});return(e.chain?.formatters?.transactionReceipt?.format||no)(n,"getTransactionReceipt")}async function Dd(e,t){const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:o,blockOverrides:a,blockTag:i,stateOverride:c}=t,u=t.contracts,{batchSize:f=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof e.batch?.multicall=="object"?e.batch.multicall:{},l=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return dt({blockNumber:o,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),b=[[]];let y=0,p=0;for(let x=0;x<u.length;x++){const{abi:w,address:h,args:v,functionName:A}=u[x];try{const E=le({abi:w,args:v,functionName:A});p+=(E.length-2)/2,f>0&&p>f&&b[y].length>0&&(y++,p=(E.length-2)/2,b[y]=[]),b[y]=[...b[y],{allowFailure:!0,callData:E,target:h}]}catch(E){const S=ct(E,{abi:w,address:h,args:v,docsPath:"/docs/contract/multicall",functionName:A,sender:n});if(!s)throw S;b[y]=[...b[y],{allowFailure:!0,callData:"0x",target:h}]}}const g=await Promise.allSettled(b.map(x=>M(e,de,"readContract")({...l===null?{code:Er}:{address:l},abi:Ht,account:n,args:[x],authorizationList:r,blockNumber:o,blockOverrides:a,blockTag:i,functionName:"aggregate3",stateOverride:c}))),m=[];for(let x=0;x<g.length;x++){const w=g[x];if(w.status==="rejected"){if(!s)throw w.reason;for(let v=0;v<b[x].length;v++)m.push({status:"failure",error:w.reason,result:void 0});continue}const h=w.value;for(let v=0;v<h.length;v++){const{returnData:A,success:E}=h[v],{callData:S}=b[x][v],{abi:N,address:k,functionName:I,args:_}=u[m.length];try{if(S==="0x")throw new kt;if(!E)throw new on({data:A});const O=Ke({abi:N,args:_,data:A,functionName:I});m.push(s?{result:O,status:"success"}:O)}catch(O){const D=ct(O,{abi:N,address:k,args:_,docsPath:"/docs/contract/multicall",functionName:I});if(!s)throw D;m.push({error:D,result:void 0,status:"failure"})}}}if(m.length!==u.length)throw new R("multicall results mismatch");return m}async function cr(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:o,traceTransfers:a,validation:i}=t;try{const c=[];for(const l of s){const b=l.blockOverrides?Ko(l.blockOverrides):void 0,y=l.calls.map(g=>{const m=g,x=m.account?ve(m.account):void 0,w=m.abi?le(m):m.data,h={...m,account:x,data:m.dataSuffix?ge([w||"0x",m.dataSuffix]):w,from:m.from??x?.address};return Ot(h),fn(h)}),p=l.stateOverrides?$r(l.stateOverrides):void 0;c.push({blockOverrides:b,calls:y,stateOverrides:p})}const f=(typeof n=="bigint"?z(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:o,traceTransfers:a,validation:i},f]})).map((l,b)=>({...Js(l),calls:l.calls.map((y,p)=>{const{abi:g,args:m,functionName:x,to:w}=s[b].calls[p],h=y.error?.data??y.returnData,v=BigInt(y.gasUsed),A=y.logs?.map(k=>Re(k)),E=y.status==="0x1"?"success":"failure",S=g&&E==="success"&&h!=="0x"?Ke({abi:g,data:h,functionName:x}):null,N=(()=>{if(E==="success")return;let k;if(y.error?.data==="0x"?k=new kt:y.error&&(k=new on(y.error)),!!k)return ct(k,{abi:g??[],address:w??"0x",args:m,functionName:x??"<unknown>"})})();return{data:h,gasUsed:v,logs:A,status:E,...E==="success"?{result:S}:{error:N}}})}))}catch(c){const u=c,f=Pr(u,{});throw f instanceof en?u:f}}function ur(e){let t=!0,n="",r=0,s="",o=!1;for(let a=0;a<e.length;a++){const i=e[a];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function","error",""].includes(s))s="";else if(s+=i,i===")"){o=!0;break}continue}if(i===" "){e[a-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!o)throw new j("Unable to normalize signature.");return s}function fr(e,t){const n=typeof e,r=t.type;switch(r){case"address":return er(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>fr(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>fr(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ga(e,t,n){for(const r in e){const s=e[r],o=t[r];if(s.type==="tuple"&&o.type==="tuple"&&"components"in s&&"components"in o)return Ga(s.components,o.components,n[r]);const a=[s.type,o.type];if((()=>a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?er(n[r],{strict:!1}):a.includes("address")&&a.includes("bytes")?er(n[r],{strict:!1}):!1)())return a}}function Va(e,t={}){const{prepare:n=!0}=t,r=(()=>Array.isArray(e)||typeof e=="string"?ys(e):e)();return{...r,...n?{hash:nt(r)}:{}}}function mn(e,t,n){const{args:r=[],prepare:s=!0}=n??{},o=qc(t,{strict:!1}),a=e.filter(u=>o?u.type==="function"||u.type==="error"?Za(u)===me(t,0,4):u.type==="event"?nt(u)===t:!1:"name"in u&&u.name===t);if(a.length===0)throw new Yt({name:t});if(a.length===1)return{...a[0],...s?{hash:nt(a[0])}:{}};let i;for(const u of a){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:nt(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,l)=>{const b="inputs"in u&&u.inputs[l];return b?fr(d,b):!1})){if(i&&"inputs"in i&&i.inputs){const d=Ga(u.inputs,i.inputs,r);if(d)throw new qd({abiItem:u,type:d[0]},{abiItem:i,type:d[1]})}i=u}}const c=(()=>{if(i)return i;const[u,...f]=a;return{...u,overloads:f}})();if(!c)throw new Yt({name:t});return{...c,...s?{hash:nt(c)}:{}}}function Za(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return mn(n,r)}return e[0]})();return me(nt(t),0,4)}function Ud(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return mn(r,s)}return e[0]})(),n=(()=>typeof t=="string"?t:Gt(t))();return ur(n)}function nt(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return mn(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:wa(xr(Ud(t)))}class qd extends j{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${ur(Gt(t.abiItem))}\`, and`,`\`${n.type}\` in \`${ur(Gt(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Yt extends j{constructor({name:t,data:n,type:r="item"}){const s=(()=>t?` with name "${t}"`:n?` with data "${n}"`:"")();super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function Hd(...e){const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[Vd(o),a]}return e})(),{bytecode:r,args:s}=n;return ue(r,t.inputs?.length&&s?.length?Fr(t.inputs,s):"0x")}function Gd(e){return Va(e)}function Vd(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Yt({name:"constructor"});return t}function Zd(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,f,d]=e;return[Gs(u,f,{args:d}),d]}const[i,c]=e;return[i,c]})(),{overloads:r}=t,s=r?Gs([t,...r],t.name,{args:n}):t,o=Wd(s),a=n.length>0?Fr(s.inputs,n):void 0;return a?ue(o,a):o}function et(e,t={}){return Va(e,t)}function Gs(e,t,n){const r=mn(e,t,n);if(r.type!=="function")throw new Yt({name:t,type:"function"});return r}function Wd(e){return Za(e)}const Kd="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",be="0x0000000000000000000000000000000000000000",Yd="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Jd(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:o,traceAssetChanges:a,traceTransfers:i,validation:c}=t,u=t.account?ve(t.account):void 0;if(a&&!u)throw new R("`account` is required when `traceAssetChanges` is true");const f=u?Hd(Gd("constructor(bytes, bytes)"),{bytecode:Yo,args:[Yd,Zd(et("function getBalance(address)"),[u.address])]}):void 0,d=a?await Promise.all(t.calls.map(async $=>{if(!$.data&&!$.abi)return;const{accessList:T}=await na(e,{account:u.address,...$,data:$.abi?le($):$.data});return T.map(({address:F,storageKeys:L})=>L.length>0?F:null)})).then($=>$.flat().filter(Boolean)):[],l=await cr(e,{blockNumber:n,blockTag:r,blocks:[...a?[{calls:[{data:f}],stateOverrides:o},{calls:d.map(($,T)=>({abi:[et("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:be,nonce:T})),stateOverrides:[{address:be,nonce:0}]}]:[],{calls:[...s,{}].map($=>({...$,from:u?.address})),stateOverrides:o},...a?[{calls:[{data:f}]},{calls:d.map(($,T)=>({abi:[et("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:$,from:be,nonce:T})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,T)=>({to:$,abi:[et("function decimals() returns (uint256)")],functionName:"decimals",from:be,nonce:T})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,T)=>({to:$,abi:[et("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:be,nonce:T})),stateOverrides:[{address:be,nonce:0}]},{calls:d.map(($,T)=>({to:$,abi:[et("function symbol() returns (string)")],functionName:"symbol",from:be,nonce:T})),stateOverrides:[{address:be,nonce:0}]}]:[]],traceTransfers:i,validation:c}),b=a?l[2]:l[0],[y,p,,g,m,x,w,h]=a?l:[],{calls:v,...A}=b,E=v.slice(0,-1)??[],S=y?.calls??[],N=p?.calls??[],k=[...S,...N].map($=>$.status==="success"?$e($.data):null),I=g?.calls??[],_=m?.calls??[],O=[...I,..._].map($=>$.status==="success"?$e($.data):null),D=(x?.calls??[]).map($=>$.status==="success"?$.result:null),B=(h?.calls??[]).map($=>$.status==="success"?$.result:null),P=(w?.calls??[]).map($=>$.status==="success"?$.result:null),C=[];for(const[$,T]of O.entries()){const F=k[$];if(typeof T!="bigint"||typeof F!="bigint")continue;const L=D[$-1],q=B[$-1],oe=P[$-1],J=(()=>$===0?{address:Kd,decimals:18,symbol:"ETH"}:{address:d[$-1],decimals:oe||L?Number(L??1):void 0,symbol:q??void 0})();C.some(V=>V.token.address===J.address)||C.push({token:J,value:{pre:F,post:T,diff:T-F}})}return{assetChanges:C,block:A,results:E}}async function Xd(e,t){const{abi:n,address:r,args:s,dataSuffix:o,functionName:a,...i}=t,c=i.account?ve(i.account):e.account,u=le({abi:n,args:s,functionName:a});try{const{data:f}=await M(e,dn,"call")({batch:!1,data:`${u}${o?o.replace("0x",""):""}`,to:r,...i,account:c}),d=Ke({abi:n,args:s,functionName:a,data:f||"0x"}),l=n.filter(b=>"name"in b&&b.name===t.functionName);return{result:d,request:{abi:l,address:r,args:s,dataSuffix:o,functionName:a,...i,account:c}}}catch(f){throw ct(f,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:a,sender:c?.address})}}async function gn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}const Wa="0x6492649264926492649264926492649264926492649264926492649264926492";function Qd(e){if(me(e,-32)!==Wa)throw new nl(e)}function el(e){const{data:t,signature:n,to:r}=e;return ue(Fr(Ea("address, bytes, bytes"),[r,t,n]),Wa)}function tl(e){try{return Qd(e),!0}catch{return!1}}class nl extends j{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function rl({r:e,s:t,to:n="hex",v:r,yParity:s}){const o=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new lt.Signature($e(e),$e(t)).toCompactHex()}${o===0?"1b":"1c"}`;return n==="hex"?a:dr(a)}async function wn(e,t){const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??e.chain?.contracts?.erc6492Verifier?.address,multicallAddress:o=t.multicallAddress??e.chain?.contracts?.multicall3?.address}=t,a=(()=>{const i=t.signature;return gt(i)?i:typeof i=="object"&&"r"in i&&"s"in i?rl(i):se(i)})();try{return _d(a)?await sl(e,{...t,multicallAddress:o,signature:a}):await ol(e,{...t,verifierAddress:s,signature:a})}catch(i){try{if(bn(Xs(n),await aa({hash:r,signature:a})))return!0}catch{}if(i instanceof Ve)return!1;throw i}}async function sl(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,multicallAddress:a}=t,{authorization:i,data:c,signature:u,to:f}=Cd(t.signature);if(await Qn(e,{address:n,blockNumber:r,blockTag:s})===It(["0xef0100",i.address]))return await al(e,{address:n,blockNumber:r,blockTag:s,hash:o,signature:u});const l={address:i.address,chainId:Number(i.chainId),nonce:Number(i.nonce),r:z(i.r,{size:32}),s:z(i.s,{size:32}),yParity:i.yParity};if(!await Wu({address:n,authorization:l}))throw new Ve;const y=await M(e,de,"readContract")({...a?{address:a}:{code:Er},authorizationList:[l],abi:Ht,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:f??n,callData:c}]:[],{allowFailure:!0,target:n,callData:le({abi:ao,functionName:"isValidSignature",args:[o,u]})}]]});if(y[y.length-1]?.returnData?.startsWith("0x1626ba7e"))return!0;throw new Ve}async function ol(e,t){const{address:n,factory:r,factoryData:s,hash:o,signature:a,verifierAddress:i,...c}=t,u=await(async()=>!r&&!s||tl(a)?a:el({data:s,signature:a,to:r}))(),f=i?{to:i,data:le({abi:us,functionName:"isValidSig",args:[n,o,u]}),...c}:{data:Ar({abi:us,args:[n,o,u],bytecode:Kc}),...c},{data:d}=await M(e,dn,"call")(f).catch(l=>{throw l instanceof No?new Ve:l});if(Ai(d??"0x0"))return!0;throw new Ve}async function al(e,t){const{address:n,blockNumber:r,blockTag:s,hash:o,signature:a}=t;if((await M(e,de,"readContract")({address:n,abi:ao,args:[o,a],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof To?new Ve:c})).startsWith("0x1626ba7e"))return!0;throw new Ve}class Ve extends Error{}async function il(e,{address:t,message:n,factory:r,factoryData:s,signature:o,...a}){const i=pa(n);return wn(e,{address:t,factory:r,factoryData:s,hash:i,signature:o,...a})}async function cl(e,t){const{address:n,factory:r,factoryData:s,signature:o,message:a,primaryType:i,types:c,domain:u,...f}=t,d=rf({message:a,primaryType:i,types:c,domain:u});return wn(e,{address:n,factory:r,factoryData:s,hash:d,signature:o,...f})}const Mn=new Map,Vs=new Map;let ul=0;function Oe(e,t,n){const r=++ul,s=()=>Mn.get(e)||[],o=()=>{const f=s();Mn.set(e,f.filter(d=>d.id!==r))},a=()=>{const f=s();if(!f.some(l=>l.id===r))return;const d=Vs.get(e);if(f.length===1&&d){const l=d();l instanceof Promise&&l.catch(()=>{})}o()},i=s();if(Mn.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return a;const c={};for(const f in t)c[f]=(...d)=>{const l=s();if(l.length!==0)for(const b of l)b.fns[f]?.(...d)};const u=n(c);return typeof u=="function"&&Vs.set(e,u),a}function jt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:o}));const c=await n?.(i)??r;await os(c);const u=async()=>{s&&(await e({unpoll:o}),await os(r),u())};u()})(),o}function Ka(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:a=e.pollingInterval}){const i=(()=>typeof o<"u"?o:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))();let c;return i?(()=>{const d=we(["watchBlockNumber",e.uid,t,n,a]);return Oe(d,{onBlockNumber:r,onError:s},l=>jt(async()=>{try{const b=await M(e,Mt,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let y=c+1n;y<b;y++)l.onBlockNumber(y,c),c=y}(c===void 0||b>c)&&(l.onBlockNumber(b,c),c=b)}catch(b){l.onError?.(b)}},{emitOnBegin:t,interval:a}))})():(()=>{const d=we(["watchBlockNumber",e.uid,t,n]);return Oe(d,{onBlockNumber:r,onError:s},l=>{let b=!0,y=()=>b=!1;return(async()=>{try{const p=(()=>{if(e.transport.type==="fallback"){const m=e.transport.transports.find(x=>x.config.type==="webSocket"||x.config.type==="ipc");return m?m.value:e.transport}return e.transport})(),{unsubscribe:g}=await p.subscribe({params:["newHeads"],onData(m){if(!b)return;const x=$e(m.result?.number);l.onBlockNumber(x,c),c=x},onError(m){l.onError?.(m)}});y=g,b||y()}catch(p){s?.(p)}})(),()=>y()})})()}async function fl(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:o,retryCount:a=6,retryDelay:i=({count:v})=>~~(1<<v)*200,timeout:c=18e4}=t,u=we(["waitForTransactionReceipt",e.uid,s]),f=(()=>t.pollingInterval?t.pollingInterval:e.chain?.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval)();let d,l,b,y=!1,p,g;const{promise:m,resolve:x,reject:w}=Pi(),h=c?setTimeout(()=>{g?.(),p?.(),w(new Bi({hash:s}))},c):void 0;return p=Oe(u,{onReplaced:o,resolve:x,reject:w},async v=>{if(b=await M(e,Ut,"getTransactionReceipt")({hash:s}).catch(()=>{}),b&&r<=1){clearTimeout(h),v.resolve(b),p?.();return}g=M(e,Ka,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:f,async onBlockNumber(A){const E=N=>{clearTimeout(h),g?.(),N(),p?.()};let S=A;if(!y)try{if(b){if(r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;E(()=>v.resolve(b));return}if(n&&!d&&(y=!0,await as(async()=>{d=await M(e,Zr,"getTransaction")({hash:s}),d.blockNumber&&(S=d.blockNumber)},{delay:i,retryCount:a}),y=!1),b=await M(e,Ut,"getTransactionReceipt")({hash:s}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r))return;E(()=>v.resolve(b))}catch(N){if(N instanceof eo||N instanceof to){if(!d){y=!1;return}try{l=d,y=!0;const k=await as(()=>M(e,he,"getBlock")({blockNumber:S,includeTransactions:!0}),{delay:i,retryCount:a,shouldRetry:({error:O})=>O instanceof ca});y=!1;const I=k.transactions.find(({from:O,nonce:D})=>O===l.from&&D===l.nonce);if(!I||(b=await M(e,Ut,"getTransactionReceipt")({hash:I.hash}),r>1&&(!b.blockNumber||S-b.blockNumber+1n<r)))return;let _="replaced";I.to===l.to&&I.value===l.value&&I.input===l.input?_="repriced":I.from===I.to&&I.value===0n&&(_="cancelled"),E(()=>{v.onReplaced?.({reason:_,replacedTransaction:l,transaction:I,transactionReceipt:b}),v.resolve(b)})}catch(k){E(()=>v.reject(k))}}else E(()=>v.reject(N))}}})}),m}function dl(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:a,poll:i,pollingInterval:c=e.pollingInterval}){const u=(()=>typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))(),f=a??!1;let d;return u?(()=>{const y=we(["watchBlocks",e.uid,t,n,r,f,c]);return Oe(y,{onBlock:s,onError:o},p=>jt(async()=>{try{const g=await M(e,he,"getBlock")({blockTag:t,includeTransactions:f});if(g.number!==null&&d?.number!=null){if(g.number===d.number)return;if(g.number-d.number>1&&n)for(let m=d?.number+1n;m<g.number;m++){const x=await M(e,he,"getBlock")({blockNumber:m,includeTransactions:f});p.onBlock(x,d),d=x}}(d?.number==null||t==="pending"&&g?.number==null||g.number!==null&&g.number>d.number)&&(p.onBlock(g,d),d=g)}catch(g){p.onError?.(g)}},{emitOnBegin:r,interval:c}))})():(()=>{let y=!0,p=!0,g=()=>y=!1;return(async()=>{try{r&&M(e,he,"getBlock")({blockTag:t,includeTransactions:f}).then(w=>{y&&p&&(s(w,void 0),p=!1)}).catch(o);const m=(()=>{if(e.transport.type==="fallback"){const w=e.transport.transports.find(h=>h.config.type==="webSocket"||h.config.type==="ipc");return w?w.value:e.transport}return e.transport})(),{unsubscribe:x}=await m.subscribe({params:["newHeads"],async onData(w){if(!y)return;const h=await M(e,he,"getBlock")({blockNumber:w.result?.number,includeTransactions:f}).catch(()=>{});y&&(s(h,d),p=!1,d=h)},onError(w){o?.(w)}});g=x,y||g()}catch(m){o?.(m)}})(),()=>g()})()}function ll(e,t){const{abi:n,address:r,args:s,batch:o=!0,eventName:a,fromBlock:i,onError:c,onLogs:u,poll:f,pollingInterval:d=e.pollingInterval,strict:l}=t;return(()=>typeof f<"u"?f:typeof i=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))()?(()=>{const g=l??!1,m=we(["watchContractEvent",r,s,o,e.uid,a,d,g,i]);return Oe(m,{onLogs:u,onError:c},x=>{let w;i!==void 0&&(w=i-1n);let h,v=!1;const A=jt(async()=>{if(!v){try{h=await M(e,ra,"createContractEventFilter")({abi:n,address:r,args:s,eventName:a,strict:g,fromBlock:i})}catch{}v=!0;return}try{let E;if(h)E=await M(e,pn,"getFilterChanges")({filter:h});else{const S=await M(e,Mt,"getBlockNumber")({});w&&w<S?E=await M(e,ba,"getContractEvents")({abi:n,address:r,args:s,eventName:a,fromBlock:w+1n,toBlock:S,strict:g}):E=[],w=S}if(E.length===0)return;if(o)x.onLogs(E);else for(const S of E)x.onLogs([S])}catch(E){h&&E instanceof ro&&(v=!1),x.onError?.(E)}},{emitOnBegin:!0,interval:d});return async()=>{h&&await M(e,gn,"uninstallFilter")({filter:h}),A()}})})():(()=>{const g=l??!1,m=we(["watchContractEvent",r,s,o,e.uid,a,d,g]);let x=!0,w=()=>x=!1;return Oe(m,{onLogs:u,onError:c},h=>((async()=>{try{const v=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(N=>N.config.type==="webSocket"||N.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),A=a?zt({abi:n,eventName:a,args:s}):[],{unsubscribe:E}=await v.subscribe({params:["logs",{address:r,topics:A}],onData(S){if(!x)return;const N=S.result;try{const{eventName:k,args:I}=Rr({abi:n,data:N.data,topics:N.topics,strict:l}),_=Re(N,{args:I,eventName:k});h.onLogs([_])}catch(k){let I,_;if(k instanceof wt||k instanceof nn){if(l)return;I=k.abiItem.name,_=k.abiItem.inputs?.some(D=>!("name"in D&&D.name))}const O=Re(N,{args:_?[]:{},eventName:I});h.onLogs([O])}},onError(S){h.onError?.(S)}});w=E,x||w()}catch(v){c?.(v)}})(),()=>w()))})()}function bl(e,{address:t,args:n,batch:r=!0,event:s,events:o,fromBlock:a,onError:i,onLogs:c,poll:u,pollingInterval:f=e.pollingInterval,strict:d}){const l=(()=>typeof u<"u"?u:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))(),b=d??!1;return l?(()=>{const g=we(["watchEvent",t,n,r,e.uid,s,f,a]);return Oe(g,{onLogs:c,onError:i},m=>{let x;a!==void 0&&(x=a-1n);let w,h=!1;const v=jt(async()=>{if(!h){try{w=await M(e,sa,"createEventFilter")({address:t,args:n,event:s,events:o,strict:b,fromBlock:a})}catch{}h=!0;return}try{let A;if(w)A=await M(e,pn,"getFilterChanges")({filter:w});else{const E=await M(e,Mt,"getBlockNumber")({});x&&x!==E?A=await M(e,_r,"getLogs")({address:t,args:n,event:s,events:o,fromBlock:x+1n,toBlock:E}):A=[],x=E}if(A.length===0)return;if(r)m.onLogs(A);else for(const E of A)m.onLogs([E])}catch(A){w&&A instanceof ro&&(h=!1),m.onError?.(A)}},{emitOnBegin:!0,interval:f});return async()=>{w&&await M(e,gn,"uninstallFilter")({filter:w}),v()}})})():(()=>{let g=!0,m=()=>g=!1;return(async()=>{try{const x=(()=>{if(e.transport.type==="fallback"){const A=e.transport.transports.find(E=>E.config.type==="webSocket"||E.config.type==="ipc");return A?A.value:e.transport}return e.transport})(),w=o??(s?[s]:void 0);let h=[];w&&(h=[w.flatMap(E=>zt({abi:[E],eventName:E.name,args:n}))],s&&(h=h[0]));const{unsubscribe:v}=await x.subscribe({params:["logs",{address:t,topics:h}],onData(A){if(!g)return;const E=A.result;try{const{eventName:S,args:N}=Rr({abi:w??[],data:E.data,topics:E.topics,strict:b}),k=Re(E,{args:N,eventName:S});c([k])}catch(S){let N,k;if(S instanceof wt||S instanceof nn){if(d)return;N=S.abiItem.name,k=S.abiItem.inputs?.some(_=>!("name"in _&&_.name))}const I=Re(E,{args:k?[]:{},eventName:N});c([I])}},onError(A){i?.(A)}});m=v,g||m()}catch(x){i?.(x)}})(),()=>m()})()}function pl(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=we(["watchPendingTransactions",e.uid,t,o]);return Oe(u,{onTransactions:r,onError:n},f=>{let d;const l=jt(async()=>{try{if(!d)try{d=await M(e,oa,"createPendingTransactionFilter")({});return}catch(y){throw l(),y}const b=await M(e,pn,"getFilterChanges")({filter:d});if(b.length===0)return;if(t)f.onTransactions(b);else for(const y of b)f.onTransactions([y])}catch(b){f.onError?.(b)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await M(e,gn,"uninstallFilter")({filter:d}),l()}})})():(()=>{let u=!0,f=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(l){if(!u)return;const b=l.result;r([b])},onError(l){n?.(l)}});f=d,u||f()}catch(d){n?.(d)}})(),()=>f()})()}class Rl extends R{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class Cl extends R{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}async function hl(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}async function yl(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,z(r)]:[t]},{retryCount:0}),a=(e.chain?.formatters?.transactionReceipt?.format||no)(s);if(a.status==="reverted"&&n)throw new $i({receipt:a});return a}function ml(e){const{scheme:t,statement:n,...r}=e.match(gl)?.groups??{},{chainId:s,expirationTime:o,issuedAt:a,notBefore:i,requestId:c,...u}=e.match(wl)?.groups??{},f=e.split("Resources:")[1]?.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...o?{expirationTime:new Date(o)}:{},...a?{issuedAt:new Date(a)}:{},...i?{notBefore:new Date(i)}:{},...c?{requestId:c}:{},...f?{resources:f}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const gl=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,wl=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function vl(e){const{address:t,domain:n,message:r,nonce:s,scheme:o,time:a=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||o&&r.scheme!==o||r.expirationTime&&a>=r.expirationTime||r.notBefore&&a<r.notBefore)return!1;try{if(!r.address||!ie(r.address,{strict:!1})||t&&!bn(r.address,t))return!1}catch{return!1}return!0}async function xl(e,t){const{address:n,domain:r,message:s,nonce:o,scheme:a,signature:i,time:c=new Date,...u}=t,f=ml(s);if(!f.address||!vl({address:n,domain:r,message:f,nonce:o,scheme:a,time:c}))return!1;const l=pa(s);return wn(e,{address:f.address,hash:l,signature:i,...u})}function _l(e){return{call:t=>dn(e,t),createAccessList:t=>na(e,t),createBlockFilter:()=>wu(e),createContractEventFilter:t=>ra(e,t),createEventFilter:t=>sa(e,t),createPendingTransactionFilter:()=>oa(e),estimateContractGas:t=>Tu(e,t),estimateGas:t=>Tr(e,t),getBalance:t=>Ru(e,t),getBlobBaseFee:()=>Cu(e),getBlock:t=>he(e,t),getBlockNumber:t=>Mt(e,t),getBlockTransactionCount:t=>ju(e,t),getBytecode:t=>Qn(e,t),getChainId:()=>da(e),getCode:t=>Qn(e,t),getContractEvents:t=>ba(e,t),getEip712Domain:t=>qu(e,t),getEnsAddress:t=>ru(e,t),getEnsAvatar:t=>yu(e,t),getEnsName:t=>mu(e,t),getEnsResolver:t=>gu(e,t),getEnsText:t=>ta(e,t),getFeeHistory:t=>Vu(e,t),estimateFeesPerGas:t=>ku(e,t),getFilterChanges:t=>pn(e,t),getFilterLogs:t=>Zu(e,t),getGasPrice:()=>Nr(e),getLogs:t=>_r(e,t),getProof:t=>Fd(e,t),estimateMaxPriorityFeePerGas:t=>Iu(e,t),getStorageAt:t=>jd(e,t),getTransaction:t=>Zr(e,t),getTransactionConfirmations:t=>Ld(e,t),getTransactionCount:t=>fa(e,t),getTransactionReceipt:t=>Ut(e,t),multicall:t=>Dd(e,t),prepareTransactionRequest:t=>la(e,t),readContract:t=>de(e,t),sendRawTransaction:t=>hl(e,t),sendRawTransactionSync:t=>yl(e,t),simulate:t=>cr(e,t),simulateBlocks:t=>cr(e,t),simulateCalls:t=>Jd(e,t),simulateContract:t=>Xd(e,t),verifyHash:t=>wn(e,t),verifyMessage:t=>il(e,t),verifySiweMessage:t=>xl(e,t),verifyTypedData:t=>cl(e,t),uninstallFilter:t=>gn(e,t),waitForTransactionReceipt:t=>fl(e,t),watchBlocks:t=>dl(e,t),watchBlockNumber:t=>Ka(e,t),watchContractEvent:t=>ll(e,t),watchEvent:t=>bl(e,t),watchPendingTransactions:t=>pl(e,t)}}export{Rl as A,Mi as B,lt as C,rf as D,Bo as E,Qn as F,ec as G,sc as H,Kn as I,To as J,ku as K,$r as L,$a as M,pa as N,ac as O,Nt as P,Al as Q,an as R,cc as S,dn as T,$l as U,Ot as a,ia as b,M as c,da as d,Br as e,fn as f,Pr as g,Nu as h,hl as i,Cl as j,le as k,ct as l,_l as m,Ri as n,bo as o,la as p,Hi as q,de as r,Xd as s,Sl as t,Ze as u,fa as v,fl as w,bn as x,Oe as y,jt as z};
