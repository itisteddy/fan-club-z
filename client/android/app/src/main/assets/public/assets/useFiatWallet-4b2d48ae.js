import{a4 as l,l as h,as as b,ap as k}from"./index-78beacc5.js";import{u as c,b as m,a as T}from"./utils-617af415.js";/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=l("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),d=h(),w="v2",g=`${d}/api/${w}`,q=()=>localStorage.getItem("token"),A=()=>k.isNativePlatform(),p=t=>{if(t instanceof Headers){const e={};return t.forEach((a,r)=>{e[r]=a}),e}return Array.isArray(t)?Object.fromEntries(t):t};async function o(t,e,a){const r=`${g}${e}`,u=q(),y={...u&&{Authorization:`Bearer ${u}`},...a?.headers?p(a.headers):{}};if(A())try{const s={url:r,method:t,headers:y};a?.body&&(s.data=a.body);const n=await b.request(s);if(n.status>=200&&n.status<300){if(typeof n.data=="string")try{return JSON.parse(n.data)}catch{return n.data}return n.data}const f=`HTTP error! status: ${n.status}`;throw new Error(f)}catch(s){throw s}try{const s=await fetch(r,{method:t,headers:y,body:a?.body?JSON.stringify(a.body):void 0});if(!s.ok)throw new Error(`HTTP error! status: ${s.status}`);return s.json()}catch(s){throw s}}const i={get:async(t,e)=>{const a={...e?.headers||{}};return o("GET",t,{headers:a})},post:async(t,e,a)=>{const r={"Content-Type":"application/json",...a?.headers||{}};return o("POST",t,{body:e,headers:r})},put:async(t,e,a)=>{const r={"Content-Type":"application/json",...a?.headers||{}};return o("PUT",t,{body:e,headers:r})},patch:async(t,e,a)=>{const r={"Content-Type":"application/json",...a?.headers||{}};return o("PATCH",t,{body:e,headers:r})},delete:async(t,e)=>{const a={...e?.headers?p(e.headers):{}};return e?.body&&(a["Content-Type"]="application/json"),o("DELETE",t,{body:e?.body?typeof e.body=="string"?JSON.parse(e.body):e.body:void 0,headers:a})}};function S(){return c({queryKey:["paystack","status"],queryFn:async()=>await i.get("/fiat/paystack/status"),staleTime:5*60*1e3})}function j(t){return c({queryKey:["fiat","summary",t],queryFn:async()=>t?await(await fetch(`${d}/api/demo-wallet/fiat/summary?userId=${t}`)).json():{enabled:!1,summary:null},enabled:!!t,staleTime:15*1e3,refetchInterval:30*1e3})}function $(){const t=m();return T({mutationFn:async({amountNgn:e,userId:a,email:r})=>await i.post("/fiat/paystack/initialize",{amountNgn:e,userId:a,email:r}),onSuccess:()=>{t.invalidateQueries({queryKey:["fiat"]}),t.invalidateQueries({queryKey:["wallet"]})}})}function v(){return c({queryKey:["paystack","banks"],queryFn:async()=>(await i.get("/fiat/paystack/banks"))?.banks||[],staleTime:24*60*60*1e3})}export{P as B,j as a,i as b,$ as c,v as d,S as u};
