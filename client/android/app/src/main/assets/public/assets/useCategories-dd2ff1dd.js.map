{"version":3,"file":"useCategories-dd2ff1dd.js","sources":["../../src/hooks/useCategories.ts"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport { getApiUrl } from '@/utils/environment';\n\nexport interface Category {\n  id: string;\n  slug: string;\n  label: string;\n  icon: string | null;\n  sortOrder: number;\n}\n\nexport function useCategories() {\n  const [categories, setCategories] = useState<Category[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      try {\n        setIsLoading(true);\n        setError(null);\n        const response = await fetch(`${getApiUrl()}/api/v2/categories`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        if (!response.ok) {\n          throw new Error(`Failed to fetch categories: ${response.status}`);\n        }\n\n        const data = await response.json();\n        if (data.success && Array.isArray(data.data)) {\n          setCategories(data.data);\n        } else {\n          throw new Error('Invalid categories response format');\n        }\n      } catch (err) {\n        console.error('[useCategories] Error fetching categories:', err);\n        setError(err instanceof Error ? err : new Error('Failed to load categories'));\n        // Fallback to empty array on error\n        setCategories([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchCategories();\n  }, []);\n\n  return { categories, isLoading, error };\n}\n"],"names":["useCategories","categories","setCategories","useState","isLoading","setIsLoading","error","setError","useEffect","response","getApiUrl","data","err"],"mappings":"iFAWO,SAASA,GAAgB,CAC9B,KAAM,CAACC,EAAYC,CAAa,EAAIC,EAAA,SAAqB,CAAE,CAAA,EACrD,CAACC,EAAWC,CAAY,EAAIF,WAAS,EAAI,EACzC,CAACG,EAAOC,CAAQ,EAAIJ,WAAuB,IAAI,EAErDK,OAAAA,EAAAA,UAAU,IAAM,EACU,SAAY,CAC9B,GAAA,CACFH,EAAa,EAAI,EACjBE,EAAS,IAAI,EACb,MAAME,EAAW,MAAM,MAAM,GAAGC,EAAA,CAAW,qBAAsB,CAC/D,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,CAAA,CACD,EAEG,GAAA,CAACD,EAAS,GACZ,MAAM,IAAI,MAAM,+BAA+BA,EAAS,MAAM,EAAE,EAG5D,MAAAE,EAAO,MAAMF,EAAS,OAC5B,GAAIE,EAAK,SAAW,MAAM,QAAQA,EAAK,IAAI,EACzCT,EAAcS,EAAK,IAAI,MAEjB,OAAA,IAAI,MAAM,oCAAoC,QAE/CC,EAAK,CAEZL,EAASK,aAAe,MAAQA,EAAM,IAAI,MAAM,2BAA2B,CAAC,EAE5EV,EAAc,CAAE,CAAA,CAAA,QAChB,CACAG,EAAa,EAAK,CACpB,CAAA,IAIJ,EAAG,CAAE,CAAA,EAEE,CAAE,WAAAJ,EAAY,UAAAG,EAAW,MAAAE,EAClC"}