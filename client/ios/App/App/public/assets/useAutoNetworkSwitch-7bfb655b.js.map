{"version":3,"file":"useAutoNetworkSwitch-7bfb655b.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-right-left.js","../../node_modules/lucide-react/dist/esm/icons/building-2.js","../../node_modules/lucide-react/dist/esm/icons/credit-card.js","../../src/components/wallet/FiatDepositSheet.tsx","../../src/components/wallet/FiatWithdrawalSheet.tsx","../../src/hooks/useAutoNetworkSwitch.ts"],"sourcesContent":["/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst ArrowRightLeft = createLucideIcon(\"ArrowRightLeft\", [\n  [\"path\", { d: \"m16 3 4 4-4 4\", key: \"1x1c3m\" }],\n  [\"path\", { d: \"M20 7H4\", key: \"zbl0bi\" }],\n  [\"path\", { d: \"m8 21-4-4 4-4\", key: \"h9nckh\" }],\n  [\"path\", { d: \"M4 17h16\", key: \"g4d7ey\" }]\n]);\n\nexport { ArrowRightLeft as default };\n//# sourceMappingURL=arrow-right-left.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Building2 = createLucideIcon(\"Building2\", [\n  [\"path\", { d: \"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z\", key: \"1b4qmf\" }],\n  [\"path\", { d: \"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2\", key: \"i71pzd\" }],\n  [\"path\", { d: \"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2\", key: \"10jefs\" }],\n  [\"path\", { d: \"M10 6h4\", key: \"1itunk\" }],\n  [\"path\", { d: \"M10 10h4\", key: \"tcdvrf\" }],\n  [\"path\", { d: \"M10 14h4\", key: \"kelpxr\" }],\n  [\"path\", { d: \"M10 18h4\", key: \"1ulq68\" }]\n]);\n\nexport { Building2 as default };\n//# sourceMappingURL=building-2.js.map\n","/**\n * @license lucide-react v0.303.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst CreditCard = createLucideIcon(\"CreditCard\", [\n  [\"rect\", { width: \"20\", height: \"14\", x: \"2\", y: \"5\", rx: \"2\", key: \"ynyp8z\" }],\n  [\"line\", { x1: \"2\", x2: \"22\", y1: \"10\", y2: \"10\", key: \"1b3vmo\" }]\n]);\n\nexport { CreditCard as default };\n//# sourceMappingURL=credit-card.js.map\n","/**\n * Fiat Deposit Sheet - Phase 7A\n * Allows users to deposit NGN via Paystack\n */\n\nimport React, { useState, useCallback } from 'react';\nimport { X, Loader2, CreditCard, AlertCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { useInitializeDeposit, usePaystackStatus } from '@/hooks/useFiatWallet';\n\ninterface FiatDepositSheetProps {\n  open: boolean;\n  onClose: () => void;\n  userId: string;\n  userEmail?: string;\n  onSuccess?: () => void;\n}\n\nconst PRESET_AMOUNTS = [500, 1000, 2000, 5000, 10000];\n\nexport const FiatDepositSheet: React.FC<FiatDepositSheetProps> = ({\n  open,\n  onClose,\n  userId,\n  userEmail,\n  onSuccess,\n}) => {\n  const [amount, setAmount] = useState<string>('');\n  const { data: status } = usePaystackStatus();\n  const { mutateAsync: initializeDeposit, isPending } = useInitializeDeposit();\n\n  const minAmount = status?.minDepositNgn || 100;\n\n  const handleAmountChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.replace(/[^0-9.]/g, '');\n    setAmount(value);\n  }, []);\n\n  const handlePresetClick = useCallback((preset: number) => {\n    setAmount(preset.toString());\n  }, []);\n\n  const handleDeposit = useCallback(async () => {\n    const amountNum = parseFloat(amount);\n    \n    if (isNaN(amountNum) || amountNum < minAmount) {\n      toast.error(`Minimum deposit is ₦${minAmount}`);\n      return;\n    }\n\n    try {\n      const result = await initializeDeposit({\n        amountNgn: amountNum,\n        userId,\n        email: userEmail,\n      });\n\n      if (result.authorizationUrl) {\n        toast.success('Redirecting to Paystack...');\n        // Redirect to Paystack checkout\n        window.location.href = result.authorizationUrl;\n      } else {\n        toast.error('Failed to initialize payment');\n      }\n    } catch (err: any) {\n      console.error('[FiatDeposit] Error:', err);\n      toast.error(err?.response?.data?.message || 'Failed to start deposit');\n    }\n  }, [amount, minAmount, initializeDeposit, userId, userEmail]);\n\n  if (!open) return null;\n\n  const amountNum = parseFloat(amount) || 0;\n  const isValid = amountNum >= minAmount;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-end md:items-center justify-center\">\n      {/* Backdrop */}\n      <div \n        className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\"\n        onClick={onClose}\n      />\n      \n      {/* Sheet */}\n      <div className=\"relative w-full md:max-w-md bg-white rounded-t-3xl md:rounded-2xl shadow-2xl z-10 mb-[calc(72px+env(safe-area-inset-bottom,0px))] pb-[env(safe-area-inset-bottom,0px)] max-h-[85vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white/95 backdrop-blur px-6 pt-6 pb-4 border-b border-gray-100\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center\">\n                <CreditCard className=\"w-5 h-5 text-green-600\" />\n              </div>\n              <div>\n                <h2 className=\"text-lg font-semibold text-gray-900\">Deposit NGN</h2>\n                <p className=\"text-sm text-gray-500\">Via Paystack</p>\n              </div>\n            </div>\n            <button\n              onClick={onClose}\n              className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n              aria-label=\"Close\"\n            >\n              <X className=\"w-5 h-5 text-gray-500\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Content */}\n        <div className=\"p-6 space-y-6\">\n          {/* Amount Input */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Amount (NGN)\n            </label>\n            <div className=\"relative\">\n              <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-lg font-medium\">\n                ₦\n              </span>\n              <input\n                type=\"text\"\n                inputMode=\"decimal\"\n                value={amount}\n                onChange={handleAmountChange}\n                placeholder=\"0.00\"\n                className=\"w-full pl-10 pr-4 py-3 text-2xl font-semibold text-gray-900 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              />\n            </div>\n            <p className=\"mt-2 text-xs text-gray-500\">\n              Minimum deposit: ₦{minAmount.toLocaleString()}\n            </p>\n          </div>\n\n          {/* Preset Amounts */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Quick Select\n            </label>\n            <div className=\"flex flex-wrap gap-2\">\n              {PRESET_AMOUNTS.map((preset) => (\n                <button\n                  key={preset}\n                  onClick={() => handlePresetClick(preset)}\n                  className={`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${\n                    parseFloat(amount) === preset\n                      ? 'bg-green-600 text-white'\n                      : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n                  }`}\n                >\n                  ₦{preset.toLocaleString()}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          {/* Info */}\n          <div className=\"bg-blue-50 rounded-xl p-4 flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5\" />\n            <div className=\"text-sm text-blue-800\">\n              <p className=\"font-medium mb-1\">How it works</p>\n              <p className=\"text-blue-700\">\n                You'll be redirected to Paystack to complete your payment securely. \n                Your balance will update automatically once payment is confirmed.\n              </p>\n            </div>\n          </div>\n\n          {/* Deposit Button */}\n          <button\n            onClick={handleDeposit}\n            disabled={!isValid || isPending}\n            className=\"w-full py-4 bg-green-600 text-white rounded-xl font-semibold text-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2\"\n          >\n            {isPending ? (\n              <>\n                <Loader2 className=\"w-5 h-5 animate-spin\" />\n                Processing...\n              </>\n            ) : (\n              <>\n                Deposit ₦{amountNum > 0 ? amountNum.toLocaleString() : '0'}\n              </>\n            )}\n          </button>\n\n          {/* Powered by */}\n          <p className=\"text-center text-xs text-gray-400\">\n            Secured by Paystack\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FiatDepositSheet;\n","/**\n * Fiat Withdrawal Sheet - Phase 7C\n * Allows users to request NGN withdrawal to their bank account\n */\n\nimport React, { useState, useCallback } from 'react';\nimport { X, Loader2, Building2, AlertTriangle, CheckCircle } from 'lucide-react';\nimport toast from 'react-hot-toast';\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { apiClient } from '@/lib/api';\nimport { useNigerianBanks, type FiatSummary } from '@/hooks/useFiatWallet';\n\ninterface FiatWithdrawalSheetProps {\n  open: boolean;\n  onClose: () => void;\n  userId: string;\n  fiatSummary: FiatSummary | null;\n  onSuccess?: () => void;\n}\n\nconst MIN_WITHDRAWAL_NGN = 200;\n\nexport const FiatWithdrawalSheet: React.FC<FiatWithdrawalSheetProps> = ({\n  open,\n  onClose,\n  userId,\n  fiatSummary,\n  onSuccess,\n}) => {\n  const [amount, setAmount] = useState<string>('');\n  const [bankCode, setBankCode] = useState<string>('');\n  const [accountNumber, setAccountNumber] = useState<string>('');\n  const [accountName, setAccountName] = useState<string>('');\n  const [step, setStep] = useState<'form' | 'confirm' | 'success'>('form');\n\n  const queryClient = useQueryClient();\n  const { data: banks, isLoading: loadingBanks } = useNigerianBanks();\n\n  const createWithdrawal = useMutation({\n    mutationFn: async (data: {\n      amountNgn: number;\n      userId: string;\n      bankCode: string;\n      accountNumber: string;\n      accountName?: string;\n    }) => {\n      return await apiClient.post('/fiat/withdrawals', data);\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['fiat'] });\n      queryClient.invalidateQueries({ queryKey: ['wallet'] });\n      setStep('success');\n      onSuccess?.();\n    },\n  });\n\n  const availableNgn = fiatSummary?.availableNgn || 0;\n  const amountNum = parseFloat(amount) || 0;\n  const isValid = amountNum >= MIN_WITHDRAWAL_NGN && \n                  amountNum <= availableNgn && \n                  bankCode && \n                  accountNumber.length === 10;\n\n  const selectedBank = banks?.find(b => b.code === bankCode);\n\n  const handleAmountChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.replace(/[^0-9.]/g, '');\n    setAmount(value);\n  }, []);\n\n  const handleAccountNumberChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.replace(/[^0-9]/g, '').slice(0, 10);\n    setAccountNumber(value);\n  }, []);\n\n  const handleSubmit = useCallback(async () => {\n    if (!isValid) return;\n\n    if (step === 'form') {\n      setStep('confirm');\n      return;\n    }\n\n    try {\n      await createWithdrawal.mutateAsync({\n        amountNgn: amountNum,\n        userId,\n        bankCode,\n        accountNumber,\n        accountName: accountName || undefined,\n      });\n    } catch (err: any) {\n      console.error('[FiatWithdrawal] Error:', err);\n      toast.error(err?.response?.data?.message || 'Failed to create withdrawal request');\n    }\n  }, [isValid, step, amountNum, userId, bankCode, accountNumber, accountName, createWithdrawal]);\n\n  const handleClose = useCallback(() => {\n    setStep('form');\n    setAmount('');\n    setBankCode('');\n    setAccountNumber('');\n    setAccountName('');\n    onClose();\n  }, [onClose]);\n\n  if (!open) return null;\n\n  return (\n    <div className=\"fixed inset-0 z-50 flex items-end md:items-center justify-center\">\n      <div className=\"absolute inset-0 bg-black/60 backdrop-blur-sm\" onClick={handleClose} />\n      \n      <div className=\"relative w-full md:max-w-md bg-white rounded-t-3xl md:rounded-2xl shadow-2xl z-10 mb-[calc(72px+env(safe-area-inset-bottom,0px))] pb-[env(safe-area-inset-bottom,0px)] max-h-[85vh] overflow-y-auto\">\n        {/* Header */}\n        <div className=\"sticky top-0 bg-white/95 backdrop-blur px-6 pt-6 pb-4 border-b border-gray-100\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center\">\n                <Building2 className=\"w-5 h-5 text-amber-600\" />\n              </div>\n              <div>\n                <h2 className=\"text-lg font-semibold text-gray-900\">Withdraw NGN</h2>\n                <p className=\"text-sm text-gray-500\">\n                  Available: ₦{availableNgn.toLocaleString()}\n                </p>\n              </div>\n            </div>\n            <button onClick={handleClose} className=\"p-2 rounded-full hover:bg-gray-100\">\n              <X className=\"w-5 h-5 text-gray-500\" />\n            </button>\n          </div>\n        </div>\n\n        <div className=\"p-6 space-y-6\">\n          {step === 'success' ? (\n            <div className=\"text-center py-8\">\n              <div className=\"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n                <CheckCircle className=\"w-8 h-8 text-green-600\" />\n              </div>\n              <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Request Submitted</h3>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Your withdrawal request for ₦{amountNum.toLocaleString()} has been submitted.\n                It will be reviewed and processed shortly.\n              </p>\n              <button\n                onClick={handleClose}\n                className=\"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200\"\n              >\n                Done\n              </button>\n            </div>\n          ) : step === 'confirm' ? (\n            <>\n              <div className=\"bg-amber-50 rounded-xl p-4 flex items-start gap-3\">\n                <AlertTriangle className=\"w-5 h-5 text-amber-500 flex-shrink-0 mt-0.5\" />\n                <div className=\"text-sm text-amber-800\">\n                  <p className=\"font-medium mb-1\">Please confirm your withdrawal</p>\n                  <p>Double-check the bank details before submitting.</p>\n                </div>\n              </div>\n\n              <div className=\"bg-gray-50 rounded-xl p-4 space-y-3\">\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Amount</span>\n                  <span className=\"font-semibold\">₦{amountNum.toLocaleString()}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Bank</span>\n                  <span className=\"font-medium\">{selectedBank?.name || bankCode}</span>\n                </div>\n                <div className=\"flex justify-between\">\n                  <span className=\"text-gray-600\">Account</span>\n                  <span className=\"font-mono\">{accountNumber}</span>\n                </div>\n                {accountName && (\n                  <div className=\"flex justify-between\">\n                    <span className=\"text-gray-600\">Name</span>\n                    <span className=\"font-medium\">{accountName}</span>\n                  </div>\n                )}\n              </div>\n\n              <div className=\"flex gap-3\">\n                <button\n                  onClick={() => setStep('form')}\n                  className=\"flex-1 py-3 border border-gray-200 text-gray-700 rounded-xl font-medium hover:bg-gray-50\"\n                >\n                  Back\n                </button>\n                <button\n                  onClick={handleSubmit}\n                  disabled={createWithdrawal.isPending}\n                  className=\"flex-1 py-3 bg-amber-600 text-white rounded-xl font-semibold hover:bg-amber-700 disabled:bg-gray-300 flex items-center justify-center gap-2\"\n                >\n                  {createWithdrawal.isPending ? (\n                    <>\n                      <Loader2 className=\"w-4 h-4 animate-spin\" />\n                      Submitting...\n                    </>\n                  ) : (\n                    'Confirm Withdrawal'\n                  )}\n                </button>\n              </div>\n            </>\n          ) : (\n            <>\n              {/* Amount */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Amount (NGN)\n                </label>\n                <div className=\"relative\">\n                  <span className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 text-lg\">₦</span>\n                  <input\n                    type=\"text\"\n                    inputMode=\"decimal\"\n                    value={amount}\n                    onChange={handleAmountChange}\n                    placeholder=\"0.00\"\n                    className=\"w-full pl-10 pr-4 py-3 text-xl font-semibold border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\n                  />\n                </div>\n                <div className=\"mt-2 flex justify-between text-xs text-gray-500\">\n                  <span>Min: ₦{MIN_WITHDRAWAL_NGN.toLocaleString()}</span>\n                  <button\n                    type=\"button\"\n                    onClick={() => setAmount(availableNgn.toString())}\n                    className=\"text-amber-600 font-medium hover:underline\"\n                  >\n                    Max: ₦{availableNgn.toLocaleString()}\n                  </button>\n                </div>\n              </div>\n\n              {/* Bank Selection */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Bank\n                </label>\n                <select\n                  value={bankCode}\n                  onChange={(e) => setBankCode(e.target.value)}\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\n                  disabled={loadingBanks}\n                >\n                  <option value=\"\">Select a bank</option>\n                  {banks?.map((bank) => (\n                    <option key={bank.code} value={bank.code}>\n                      {bank.name}\n                    </option>\n                  ))}\n                </select>\n              </div>\n\n              {/* Account Number */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Account Number\n                </label>\n                <input\n                  type=\"text\"\n                  inputMode=\"numeric\"\n                  value={accountNumber}\n                  onChange={handleAccountNumberChange}\n                  placeholder=\"Enter 10-digit account number\"\n                  maxLength={10}\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent font-mono\"\n                />\n                {accountNumber.length > 0 && accountNumber.length < 10 && (\n                  <p className=\"mt-1 text-xs text-amber-600\">{10 - accountNumber.length} digits remaining</p>\n                )}\n              </div>\n\n              {/* Account Name (optional) */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Account Name <span className=\"text-gray-400\">(optional)</span>\n                </label>\n                <input\n                  type=\"text\"\n                  value={accountName}\n                  onChange={(e) => setAccountName(e.target.value)}\n                  placeholder=\"Enter account holder name\"\n                  className=\"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-amber-500 focus:border-transparent\"\n                />\n              </div>\n\n              {/* Submit */}\n              <button\n                onClick={handleSubmit}\n                disabled={!isValid}\n                className=\"w-full py-4 bg-amber-600 text-white rounded-xl font-semibold text-lg hover:bg-amber-700 disabled:bg-gray-300 disabled:cursor-not-allowed\"\n              >\n                Continue\n              </button>\n\n              <p className=\"text-center text-xs text-gray-400\">\n                Withdrawals are reviewed before processing\n              </p>\n            </>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FiatWithdrawalSheet;\n","import { useEffect } from 'react';\nimport { useAccount, useSwitchChain } from 'wagmi';\nimport { baseSepolia } from 'wagmi/chains';\nimport toast from 'react-hot-toast';\nimport { useWalletConnectSession } from './useWalletConnectSession';\nimport { useWeb3Recovery } from '@/providers/Web3Provider';\n\n/**\n * Auto-switches to Base Sepolia when wallet connects on wrong network\n */\nexport function useAutoNetworkSwitch() {\n  const { chainId, isConnected, address } = useAccount();\n  const { switchChainAsync } = useSwitchChain();\n  const { recoverFromError } = useWalletConnectSession();\n  const { sessionHealthy } = useWeb3Recovery();\n\n  useEffect(() => {\n    if (!isConnected || !address) return;\n    if (chainId === baseSepolia.id) return; // Already on correct network\n    if (sessionHealthy === false) return; // Wait for reconnect before switching\n\n    // Auto-switch to Base Sepolia\n    const switchNetwork = async () => {\n      try {\n        console.log(`[FCZ-PAY] Auto-switching from chain ${chainId} to Base Sepolia (${baseSepolia.id})`);\n        await switchChainAsync({ chainId: baseSepolia.id });\n        toast.success('Switched to Base Sepolia');\n      } catch (error: any) {\n        console.error('[FCZ-PAY] Auto network switch failed:', error);\n        const message = String(error?.message || error).toLowerCase();\n        if (message.includes('connect') && message.includes('before request')) {\n          await recoverFromError({ attemptReconnect: true, silent: true });\n          toast.error('Wallet connection lost. Please reconnect your wallet, then switch to Base Sepolia.');\n        } else {\n          toast.error('Switch network failed. Please switch to Base Sepolia in your wallet.');\n        }\n      }\n    };\n\n    // Small delay to let connection stabilize\n    const timeoutId = setTimeout(switchNetwork, 500);\n    return () => clearTimeout(timeoutId);\n  }, [chainId, isConnected, address, switchChainAsync, recoverFromError, sessionHealthy]);\n}\n"],"names":["ArrowRightLeft","createLucideIcon","Building2","CreditCard","PRESET_AMOUNTS","FiatDepositSheet","open","onClose","userId","userEmail","onSuccess","amount","setAmount","useState","status","usePaystackStatus","initializeDeposit","isPending","useInitializeDeposit","minAmount","handleAmountChange","useCallback","e","value","handlePresetClick","preset","handleDeposit","amountNum","toast","result","err","isValid","jsxs","jsx","X","AlertCircle","Fragment","Loader2","MIN_WITHDRAWAL_NGN","FiatWithdrawalSheet","fiatSummary","bankCode","setBankCode","accountNumber","setAccountNumber","accountName","setAccountName","step","setStep","queryClient","useQueryClient","banks","loadingBanks","useNigerianBanks","createWithdrawal","useMutation","data","apiClient","availableNgn","selectedBank","b","handleAccountNumberChange","handleSubmit","handleClose","CheckCircle","AlertTriangle","bank","useAutoNetworkSwitch","chainId","isConnected","address","useAccount","switchChainAsync","useSwitchChain","recoverFromError","useWalletConnectSession","sessionHealthy","useWeb3Recovery","useEffect","baseSepolia","timeoutId","error","message"],"mappings":"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","x_google_ignoreList":[0,1,2]}