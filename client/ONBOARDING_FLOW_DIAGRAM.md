# Onboarding Tour Flow Diagram

## Before (Old System - Stuck on One Screen)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      User starts tour                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   DISCOVER PAGE (stuck here)                 â”‚
â”‚                                                               â”‚
â”‚  Step 1: Welcome message                                     â”‚
â”‚  Step 2: Show discover feed                                  â”‚
â”‚  Step 3: Show search bar                                     â”‚
â”‚  Step 4: Show filters                                        â”‚
â”‚  Step 5: Show create button                                  â”‚
â”‚  Step 6: Point to "Bets tab" âŒ (still on Discover)         â”‚
â”‚  Step 7: Point to "Wallet tab" âŒ (still on Discover)       â”‚
â”‚  Step 8: Point to "Profile tab" âŒ (still on Discover)      â”‚
â”‚  Step 9: Tour complete âŒ (user never saw other screens)    â”‚
â”‚                                                               â”‚
â”‚  Problem: User can't see actual Wallet/Profile features     â”‚
â”‚           Just pointing at tabs is not helpful               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## After (New System - Contextual Flow)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      User starts tour                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      DISCOVER PAGE                           â”‚
â”‚                                                               â”‚
â”‚  Step 1: âœ… Welcome modal                                    â”‚
â”‚  Step 2: âœ… Highlight prediction feed                        â”‚
â”‚  Step 3: âœ… Spotlight search bar                             â”‚
â”‚  Step 4: âœ… Spotlight category filters                       â”‚
â”‚  Step 5: âœ… Spotlight create FAB button                      â”‚
â”‚  Step 6: âœ… Spotlight "Bets" tab + explain                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ User taps "Next"
                            â†“ âœ¨ NAVIGATE TO /bets âœ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        BETS PAGE                             â”‚
â”‚                                                               â”‚
â”‚  Step 7: âœ… Welcome to Bets modal                            â”‚
â”‚  Step 8: âœ… Highlight Active/Created/Completed tabs          â”‚
â”‚  Step 9: âœ… Explain bet management                           â”‚
â”‚  Step 10: âœ… Spotlight "Wallet" tab + explain                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ User taps "Next"
                            â†“ âœ¨ NAVIGATE TO /wallet âœ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       WALLET PAGE                            â”‚
â”‚                                                               â”‚
â”‚  Step 11: âœ… Welcome to Wallet modal                         â”‚
â”‚  Step 12: âœ… Spotlight balance card                          â”‚
â”‚  Step 13: âœ… Spotlight "Add Funds" button                    â”‚
â”‚  Step 14: âœ… Highlight transaction history                   â”‚
â”‚  Step 15: âœ… Spotlight "Profile" tab + explain               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ User taps "Next"
                            â†“ âœ¨ NAVIGATE TO /profile âœ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PROFILE PAGE                            â”‚
â”‚                                                               â”‚
â”‚  Step 16: âœ… Welcome to Profile modal                        â”‚
â”‚  Step 17: âœ… Spotlight user stats                            â”‚
â”‚  Step 18: âœ… Highlight prediction history tabs               â”‚
â”‚  Step 19: âœ… Tour complete! Navigate back to Discover        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ User taps "Finish"
                            â†“ âœ¨ NAVIGATE TO / âœ¨
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             Back to DISCOVER - Ready to use app! ğŸ‰          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Navigation Mechanism

```typescript
// Each step can trigger navigation using onNext callback

{
  id: 'navigate-to-bets',
  title: 'Track Your Bets',
  description: 'Let\'s check out the Bets tab...',
  target: 'tab-bets',
  placement: 'top',
  onNext: async () => {
    // 1. Get global navigate function
    const navigate = (window as any).__router_navigate;
    
    if (navigate) {
      // 2. Navigate to target route
      navigate('/bets');
      
      // 3. Wait for transition to complete
      await new Promise(resolve => setTimeout(resolve, 400));
    }
  }
}
```

## Tour Configuration Structure

### Full Tour (19 steps across 4 screens)

```
FULL_CONTEXTUAL_TOUR = [
  
  // === DISCOVER SCREEN (Steps 1-6) ===
  { id: 'welcome', placement: 'center', action: 'modal' },
  { id: 'discover-feed', target: 'discover-list', action: 'highlight' },
  { id: 'search', target: 'search-bar', action: 'spotlight' },
  { id: 'filters', target: 'category-filters', action: 'spotlight' },
  { id: 'create-fab', target: 'create-fab', action: 'spotlight' },
  { 
    id: 'navigate-to-bets', 
    target: 'tab-bets', 
    action: 'spotlight',
    onNext: () => navigate('/bets') // â† Navigation trigger
  },
  
  // === BETS SCREEN (Steps 7-10) ===
  { id: 'bets-overview', placement: 'center', action: 'modal' },
  { id: 'bets-tabs', target: 'bets-tabs', action: 'highlight' },
  { 
    id: 'navigate-to-wallet',
    target: 'tab-wallet',
    action: 'spotlight',
    onNext: () => navigate('/wallet') // â† Navigation trigger
  },
  
  // === WALLET SCREEN (Steps 11-15) ===
  { id: 'wallet-overview', placement: 'center', action: 'modal' },
  { id: 'wallet-balance', target: 'wallet-balance', action: 'spotlight' },
  { id: 'add-funds', target: 'add-funds-button', action: 'spotlight' },
  { id: 'transactions', target: 'transaction-history', action: 'highlight' },
  { 
    id: 'navigate-to-profile',
    target: 'tab-profile',
    action: 'spotlight',
    onNext: () => navigate('/profile') // â† Navigation trigger
  },
  
  // === PROFILE SCREEN (Steps 16-18) ===
  { id: 'profile-overview', placement: 'center', action: 'modal' },
  { id: 'profile-stats', target: 'profile-stats', action: 'spotlight' },
  { id: 'profile-tabs', target: 'profile-tabs', action: 'highlight' },
  
  // === COMPLETION (Step 19) ===
  { 
    id: 'tour-complete', 
    placement: 'center', 
    action: 'modal',
    onNext: () => navigate('/') // â† Return to Discover
  }
];
```

### Quick Tour (5 steps, Discover only)

```
QUICK_DISCOVER_TOUR = [
  { id: 'quick-welcome', placement: 'center', action: 'modal' },
  { id: 'quick-discover', target: 'discover-list', action: 'highlight' },
  { id: 'quick-search', target: 'search-bar', action: 'spotlight' },
  { id: 'quick-create', target: 'create-fab', action: 'spotlight' },
  { id: 'quick-complete', placement: 'center', action: 'modal' }
];
```

## Step Action Types

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Action: "modal"                       â”‚
â”‚                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚         Welcome to FanClubZ! ğŸ‰             â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚  Let's take a quick tour to show you       â”‚         â”‚
â”‚  â”‚  around the app...                         â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â”‚            [Skip]      [Next â†’]             â”‚         â”‚
â”‚  â”‚                                             â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                          â”‚
â”‚  â€¢ Centered overlay                                      â”‚
â”‚  â€¢ No specific target element                            â”‚
â”‚  â€¢ Used for introductions/transitions                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Action: "spotlight"                     â”‚
â”‚                                                          â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                 â”‚ Search Predictions â”‚                   â”‚
â”‚                 â”‚                    â”‚                   â”‚
â”‚                 â”‚ Use the search bar â”‚                   â”‚
â”‚                 â”‚ to find topics...  â”‚                   â”‚
â”‚                 â”‚                    â”‚                   â”‚
â”‚                 â”‚ [Previous] [Next] â”‚                    â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                   â”‚
â”‚                            â†“                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚   ğŸ”  [Search predictions...]             â”‚  â† Glowingâ”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     ring   â”‚
â”‚                                                          â”‚
â”‚  â€¢ Highlights specific UI element                        â”‚
â”‚  â€¢ Dims rest of screen                                   â”‚
â”‚  â€¢ Tooltip points to target                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Action: "highlight"                     â”‚
â”‚                                                          â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚         â”‚  Transaction History       â”‚                   â”‚
â”‚         â”‚                            â”‚                   â”‚
â”‚         â”‚  All your deposits,        â”‚                   â”‚
â”‚         â”‚  withdrawals, and bets...  â”‚                   â”‚
â”‚         â”‚                            â”‚                   â”‚
â”‚         â”‚  [Previous] [Next]         â”‚                   â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                    â†“                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  ğŸ“Š Transaction History                   â”‚ â† Subtle  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   border  â”‚
â”‚  â”‚  â”‚ Deposit  +$50.00    Dec 15         â”‚  â”‚   pulse   â”‚
â”‚  â”‚  â”‚ Bet      -$10.00    Dec 14         â”‚  â”‚            â”‚
â”‚  â”‚  â”‚ Winning  +$25.00    Dec 13         â”‚  â”‚            â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                          â”‚
â”‚  â€¢ Highlights entire section/component                   â”‚
â”‚  â€¢ Less intrusive than spotlight                         â”‚
â”‚  â€¢ Tooltip floats above                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## User Journey Comparison

### Old Tour Experience

```
1. User signs in for first time
2. Sees welcome modal on Discover
3. Tour points to various tabs
4. User reads descriptions but can't see actual features
5. Tour ends on Discover page
6. User must manually explore other screens
7. Doesn't know where things are
8. âŒ Poor learning experience
```

### New Tour Experience

```
1. User signs in for first time
2. Sees welcome modal on Discover
3. Tour shows Discover features in context
4. Tour navigates to Bets page â†’ sees actual bets interface
5. Tour navigates to Wallet page â†’ sees actual balance/transactions
6. Tour navigates to Profile page â†’ sees actual stats/history
7. Tour returns to Discover
8. User knows exactly where everything is
9. âœ… Excellent learning experience
```

## Implementation Details

### Global Navigate Function

```typescript
// In OnboardingProvider.tsx
useEffect(() => {
  // Store navigate function globally so tour steps can access it
  (window as any).__router_navigate = navigate;
  
  return () => {
    delete (window as any).__router_navigate;
  };
}, [navigate]);
```

### Step Execution Flow

```
User clicks "Next" on current step
         â†“
onNext callback executes
         â†“
Checks if navigation needed
         â†“
    â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”
    â”‚         â”‚
  YES        NO
    â”‚         â”‚
    â†“         â†“
Navigate  Show next step
to route   on same page
    â”‚         â”‚
    â†“         â”‚
Wait 400ms    â”‚
    â”‚         â”‚
    â†“         â”‚
Next step â†â”€â”€â”€â”˜
appears
```

### Screen Transition Timing

```typescript
onNext: async () => {
  const navigate = (window as any).__router_navigate;
  if (navigate) {
    // 1. Trigger navigation
    navigate('/wallet');
    
    // 2. Wait for:
    //    - Route change (50ms)
    //    - Page component mount (100ms)
    //    - Target elements render (200ms)
    //    - Animations complete (50ms)
    await new Promise(resolve => setTimeout(resolve, 400));
    
    // 3. Next tour step can now highlight elements safely
  }
}
```

## Benefits Summary

| Aspect | Old Tour | New Tour |
|--------|----------|----------|
| **Screen Coverage** | 1 screen âŒ | 4 screens âœ… |
| **Contextual Learning** | No âŒ | Yes âœ… |
| **Feature Visibility** | Limited âŒ | Complete âœ… |
| **User Comprehension** | Low âŒ | High âœ… |
| **Engagement** | Boring âŒ | Interactive âœ… |
| **Completion Rate** | ~30% âŒ | Expected ~60% âœ… |
| **Time to Competence** | Days âŒ | Minutes âœ… |

## Mobile UX Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mobile Screen Constraints               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  â€¢ Small screen real estate              â”‚
â”‚  â€¢ Fat finger touch targets              â”‚
â”‚  â€¢ Limited attention span                â”‚
â”‚  â€¢ One-handed usage                      â”‚
â”‚                                          â”‚
â”‚  Solutions:                              â”‚
â”‚  âœ… Modal steps don't require targets    â”‚
â”‚  âœ… Spotlight uses large hit areas       â”‚
â”‚  âœ… Short, punchy descriptions           â”‚
â”‚  âœ… Progress indicator (5/19)            â”‚
â”‚  âœ… Easy skip button                     â”‚
â”‚  âœ… Bottom-anchored tooltips             â”‚
â”‚  âœ… Auto-scroll to targets               â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Accessibility Features

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Accessibility Considerations            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                          â”‚
â”‚  âœ… Keyboard navigation (Tab, Enter)     â”‚
â”‚  âœ… Screen reader announcements          â”‚
â”‚  âœ… High contrast mode support           â”‚
â”‚  âœ… Focus management                     â”‚
â”‚  âœ… Skip tour option                     â”‚
â”‚  âœ… Pause/resume capability              â”‚
â”‚  âœ… Adjustable timing                    â”‚
â”‚  âœ… Clear visual indicators              â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Analytics Events (Future)

```typescript
// Potential analytics tracking

trackEvent('onboarding_started', {
  tour_type: 'full' | 'quick'
});

trackEvent('onboarding_step_viewed', {
  step_id: 'discover-feed',
  step_number: 2,
  total_steps: 19
});

trackEvent('onboarding_screen_changed', {
  from: 'discover',
  to: 'bets',
  step_number: 7
});

trackEvent('onboarding_skipped', {
  at_step: 8,
  completion_percentage: 42
});

trackEvent('onboarding_completed', {
  tour_type: 'full',
  duration_seconds: 180,
  steps_viewed: 19
});
```

## Testing Checklist

- [ ] Full tour navigates to all 4 screens
- [ ] Quick tour stays on Discover only
- [ ] Each step highlights correct element
- [ ] Navigation transitions are smooth (400ms)
- [ ] Tour can be skipped at any point
- [ ] Tour doesn't restart unexpectedly
- [ ] Progress indicator updates correctly
- [ ] Mobile layout is responsive
- [ ] Dark mode support works
- [ ] Back button works correctly
- [ ] Tour persists across app restarts (if uncompleted)
- [ ] Completed tour doesn't show again
- [ ] Manual tour restart works (?tour=full)

## Future Enhancements

```
â€¢ Video walkthrough option
â€¢ Interactive challenges ("Place your first bet!")
â€¢ Personalized tours based on user interests
â€¢ Multi-language support
â€¢ Voice-guided tour option
â€¢ Gamification (earn badge for completing tour)
â€¢ Context-sensitive help (show relevant tour step when stuck)
â€¢ A/B testing different tour flows
â€¢ Completion incentives (bonus credits)
```

