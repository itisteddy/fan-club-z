import{d as nn,e as ee,g as Uh}from"./vendor-499a370b.js";import{aM as xa,bI as Do}from"./index-6112b649.js";import{p as Hh,a as Wh}from"./hooks.module-50742324.js";import{e as Ci}from"./events-c5734f40.js";function qh(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}const Vh=Object.freeze(Object.defineProperty({__proto__:null,EventEmitter:xa,default:xa},Symbol.toStringTag,{value:"Module"}));var xo={exports:{}},ks,ka;function zh(){if(ka)return ks;ka=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;ks=function(p,v){v=v||{};var w=typeof p;if(w==="string"&&p.length>0)return a(p);if(w==="number"&&isFinite(p))return v.long?l(p):o(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function a(p){if(p=String(p),!(p.length>100)){var v=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(v){var w=parseFloat(v[1]),k=(v[2]||"ms").toLowerCase();switch(k){case"years":case"year":case"yrs":case"yr":case"y":return w*s;case"weeks":case"week":case"w":return w*i;case"days":case"day":case"d":return w*n;case"hours":case"hour":case"hrs":case"hr":case"h":return w*r;case"minutes":case"minute":case"mins":case"min":case"m":return w*t;case"seconds":case"second":case"secs":case"sec":case"s":return w*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function o(p){var v=Math.abs(p);return v>=n?Math.round(p/n)+"d":v>=r?Math.round(p/r)+"h":v>=t?Math.round(p/t)+"m":v>=e?Math.round(p/e)+"s":p+"ms"}function l(p){var v=Math.abs(p);return v>=n?g(p,v,n,"day"):v>=r?g(p,v,r,"hour"):v>=t?g(p,v,t,"minute"):v>=e?g(p,v,e,"second"):p+" ms"}function g(p,v,w,k){var j=v>=w*1.5;return Math.round(p/w)+" "+k+(j?"s":"")}return ks}function Gh(e){r.debug=r,r.default=r,r.coerce=l,r.disable=a,r.enable=i,r.enabled=o,r.humanize=zh(),r.destroy=g,Object.keys(e).forEach(p=>{r[p]=e[p]}),r.names=[],r.skips=[],r.formatters={};function t(p){let v=0;for(let w=0;w<p.length;w++)v=(v<<5)-v+p.charCodeAt(w),v|=0;return r.colors[Math.abs(v)%r.colors.length]}r.selectColor=t;function r(p){let v,w=null,k,j;function O(...D){if(!O.enabled)return;const I=O,P=Number(new Date),B=P-(v||P);I.diff=B,I.prev=v,I.curr=P,v=P,D[0]=r.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let W=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(z,te)=>{if(z==="%%")return"%";W++;const Q=r.formatters[te];if(typeof Q=="function"){const Y=D[W];z=Q.call(I,Y),D.splice(W,1),W--}return z}),r.formatArgs.call(I,D),(I.log||r.log).apply(I,D)}return O.namespace=p,O.useColors=r.useColors(),O.color=r.selectColor(p),O.extend=n,O.destroy=r.destroy,Object.defineProperty(O,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(k!==r.namespaces&&(k=r.namespaces,j=r.enabled(p)),j),set:D=>{w=D}}),typeof r.init=="function"&&r.init(O),O}function n(p,v){const w=r(this.namespace+(typeof v>"u"?":":v)+p);return w.log=this.log,w}function i(p){r.save(p),r.namespaces=p,r.names=[],r.skips=[];const v=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const w of v)w[0]==="-"?r.skips.push(w.slice(1)):r.names.push(w)}function s(p,v){let w=0,k=0,j=-1,O=0;for(;w<p.length;)if(k<v.length&&(v[k]===p[w]||v[k]==="*"))v[k]==="*"?(j=k,O=w,k++):(w++,k++);else if(j!==-1)k=j+1,O++,w=O;else return!1;for(;k<v.length&&v[k]==="*";)k++;return k===v.length}function a(){const p=[...r.names,...r.skips.map(v=>"-"+v)].join(",");return r.enable(""),p}function o(p){for(const v of r.skips)if(s(p,v))return!1;for(const v of r.names)if(s(p,v))return!0;return!1}function l(p){return p instanceof Error?p.stack||p.message:p}function g(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}var Jh=Gh;(function(e,t){t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=a(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const g="color: "+this.color;l.splice(1,0,g,"color: inherit");let p=0,v=0;l[0].replace(/%[a-zA-Z%]/g,w=>{w!=="%%"&&(p++,w==="%c"&&(v=p))}),l.splice(v,0,g)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l={}.DEBUG),l}function a(){try{return localStorage}catch{}}e.exports=Jh(t);const{formatters:o}=e.exports;o.j=function(l){try{return JSON.stringify(l)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}}})(xo,xo.exports);var Zh=xo.exports,ko={exports:{}};const Kh="2.0.0",kl=256,Yh=Number.MAX_SAFE_INTEGER||9007199254740991,Qh=16,Xh=kl-6,ef=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ii={MAX_LENGTH:kl,MAX_SAFE_COMPONENT_LENGTH:Qh,MAX_SAFE_BUILD_LENGTH:Xh,MAX_SAFE_INTEGER:Yh,RELEASE_TYPES:ef,SEMVER_SPEC_VERSION:Kh,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const tf=typeof process=="object"&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var Ai=tf;(function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ii,s=Ai;t=e.exports={};const a=t.re=[],o=t.safeRe=[],l=t.src=[],g=t.safeSrc=[],p=t.t={};let v=0;const w="[a-zA-Z0-9-]",k=[["\\s",1],["\\d",i],[w,n]],j=D=>{for(const[I,P]of k)D=D.split(`${I}*`).join(`${I}{0,${P}}`).split(`${I}+`).join(`${I}{1,${P}}`);return D},O=(D,I,P)=>{const B=j(I),W=v++;s(D,W,I),p[D]=W,l[W]=I,g[W]=B,a[W]=new RegExp(I,P?"g":void 0),o[W]=new RegExp(B,P?"g":void 0)};O("NUMERICIDENTIFIER","0|[1-9]\\d*"),O("NUMERICIDENTIFIERLOOSE","\\d+"),O("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${w}*`),O("MAINVERSION",`(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})\\.(${l[p.NUMERICIDENTIFIER]})`),O("MAINVERSIONLOOSE",`(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})\\.(${l[p.NUMERICIDENTIFIERLOOSE]})`),O("PRERELEASEIDENTIFIER",`(?:${l[p.NONNUMERICIDENTIFIER]}|${l[p.NUMERICIDENTIFIER]})`),O("PRERELEASEIDENTIFIERLOOSE",`(?:${l[p.NONNUMERICIDENTIFIER]}|${l[p.NUMERICIDENTIFIERLOOSE]})`),O("PRERELEASE",`(?:-(${l[p.PRERELEASEIDENTIFIER]}(?:\\.${l[p.PRERELEASEIDENTIFIER]})*))`),O("PRERELEASELOOSE",`(?:-?(${l[p.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[p.PRERELEASEIDENTIFIERLOOSE]})*))`),O("BUILDIDENTIFIER",`${w}+`),O("BUILD",`(?:\\+(${l[p.BUILDIDENTIFIER]}(?:\\.${l[p.BUILDIDENTIFIER]})*))`),O("FULLPLAIN",`v?${l[p.MAINVERSION]}${l[p.PRERELEASE]}?${l[p.BUILD]}?`),O("FULL",`^${l[p.FULLPLAIN]}$`),O("LOOSEPLAIN",`[v=\\s]*${l[p.MAINVERSIONLOOSE]}${l[p.PRERELEASELOOSE]}?${l[p.BUILD]}?`),O("LOOSE",`^${l[p.LOOSEPLAIN]}$`),O("GTLT","((?:<|>)?=?)"),O("XRANGEIDENTIFIERLOOSE",`${l[p.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),O("XRANGEIDENTIFIER",`${l[p.NUMERICIDENTIFIER]}|x|X|\\*`),O("XRANGEPLAIN",`[v=\\s]*(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:\\.(${l[p.XRANGEIDENTIFIER]})(?:${l[p.PRERELEASE]})?${l[p.BUILD]}?)?)?`),O("XRANGEPLAINLOOSE",`[v=\\s]*(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[p.XRANGEIDENTIFIERLOOSE]})(?:${l[p.PRERELEASELOOSE]})?${l[p.BUILD]}?)?)?`),O("XRANGE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAIN]}$`),O("XRANGELOOSE",`^${l[p.GTLT]}\\s*${l[p.XRANGEPLAINLOOSE]}$`),O("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),O("COERCE",`${l[p.COERCEPLAIN]}(?:$|[^\\d])`),O("COERCEFULL",l[p.COERCEPLAIN]+`(?:${l[p.PRERELEASE]})?(?:${l[p.BUILD]})?(?:$|[^\\d])`),O("COERCERTL",l[p.COERCE],!0),O("COERCERTLFULL",l[p.COERCEFULL],!0),O("LONETILDE","(?:~>?)"),O("TILDETRIM",`(\\s*)${l[p.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",O("TILDE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAIN]}$`),O("TILDELOOSE",`^${l[p.LONETILDE]}${l[p.XRANGEPLAINLOOSE]}$`),O("LONECARET","(?:\\^)"),O("CARETTRIM",`(\\s*)${l[p.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",O("CARET",`^${l[p.LONECARET]}${l[p.XRANGEPLAIN]}$`),O("CARETLOOSE",`^${l[p.LONECARET]}${l[p.XRANGEPLAINLOOSE]}$`),O("COMPARATORLOOSE",`^${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]})$|^$`),O("COMPARATOR",`^${l[p.GTLT]}\\s*(${l[p.FULLPLAIN]})$|^$`),O("COMPARATORTRIM",`(\\s*)${l[p.GTLT]}\\s*(${l[p.LOOSEPLAIN]}|${l[p.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",O("HYPHENRANGE",`^\\s*(${l[p.XRANGEPLAIN]})\\s+-\\s+(${l[p.XRANGEPLAIN]})\\s*$`),O("HYPHENRANGELOOSE",`^\\s*(${l[p.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[p.XRANGEPLAINLOOSE]})\\s*$`),O("STAR","(<|>)?=?\\s*\\*"),O("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),O("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(ko,ko.exports);var Mn=ko.exports;const rf=Object.freeze({loose:!0}),nf=Object.freeze({}),sf=e=>e?typeof e!="object"?rf:e:nf;var jo=sf;const Ta=/^[0-9]+$/,Tl=(e,t)=>{if(typeof e=="number"&&typeof t=="number")return e===t?0:e<t?-1:1;const r=Ta.test(e),n=Ta.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},of=(e,t)=>Tl(t,e);var Bl={compareIdentifiers:Tl,rcompareIdentifiers:of};const ti=Ai,{MAX_LENGTH:Ba,MAX_SAFE_INTEGER:ri}=Ii,{safeRe:ni,t:ii}=Mn,af=jo,{compareIdentifiers:Ts}=Bl;let cf=class Tt{constructor(t,r){if(r=af(r),t instanceof Tt){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>Ba)throw new TypeError(`version is longer than ${Ba} characters`);ti("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=t.trim().match(r.loose?ni[ii.LOOSE]:ni[ii.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ri||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ri||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ri||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<ri)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(ti("SemVer.compare",this.version,this.options,t),!(t instanceof Tt)){if(typeof t=="string"&&t===this.version)return 0;t=new Tt(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof Tt||(t=new Tt(t,this.options)),this.major<t.major?-1:this.major>t.major?1:this.minor<t.minor?-1:this.minor>t.minor?1:this.patch<t.patch?-1:this.patch>t.patch?1:0}comparePre(t){if(t instanceof Tt||(t=new Tt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=t.prerelease[r];if(ti("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ts(n,i)}while(++r)}compareBuild(t){t instanceof Tt||(t=new Tt(t,this.options));let r=0;do{const n=this.build[r],i=t.build[r];if(ti("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return Ts(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const i=`-${r}`.match(this.options.loose?ni[ii.PRERELEASELOOSE]:ni[ii.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),Ts(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var ct=cf;const Na=ct,lf=(e,t,r=!1)=>{if(e instanceof Na)return e;try{return new Na(e,t)}catch(n){if(!r)return null;throw n}};var sn=lf;const uf=sn,hf=(e,t)=>{const r=uf(e,t);return r?r.version:null};var ff=hf;const df=sn,pf=(e,t)=>{const r=df(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};var gf=pf;const Pa=ct,mf=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new Pa(e instanceof Pa?e.version:e,r).inc(t,n,i).version}catch{return null}};var yf=mf;const La=sn,vf=(e,t)=>{const r=La(e,null,!0),n=La(t,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,a=s?r:n,o=s?n:r,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const p=l?"pre":"";return r.major!==n.major?p+"major":r.minor!==n.minor?p+"minor":r.patch!==n.patch?p+"patch":"prerelease"};var wf=vf;const bf=ct,_f=(e,t)=>new bf(e,t).major;var Ef=_f;const Sf=ct,Rf=(e,t)=>new Sf(e,t).minor;var Mf=Rf;const Cf=ct,If=(e,t)=>new Cf(e,t).patch;var Af=If;const xf=sn,kf=(e,t)=>{const r=xf(e,t);return r&&r.prerelease.length?r.prerelease:null};var Tf=kf;const Oa=ct,Bf=(e,t,r)=>new Oa(e,r).compare(new Oa(t,r));var Ct=Bf;const Nf=Ct,Pf=(e,t,r)=>Nf(t,e,r);var Lf=Pf;const Of=Ct,$f=(e,t)=>Of(e,t,!0);var Ff=$f;const $a=ct,Df=(e,t,r)=>{const n=new $a(e,r),i=new $a(t,r);return n.compare(i)||n.compareBuild(i)};var Uo=Df;const jf=Uo,Uf=(e,t)=>e.sort((r,n)=>jf(r,n,t));var Hf=Uf;const Wf=Uo,qf=(e,t)=>e.sort((r,n)=>Wf(n,r,t));var Vf=qf;const zf=Ct,Gf=(e,t,r)=>zf(e,t,r)>0;var xi=Gf;const Jf=Ct,Zf=(e,t,r)=>Jf(e,t,r)<0;var Ho=Zf;const Kf=Ct,Yf=(e,t,r)=>Kf(e,t,r)===0;var Nl=Yf;const Qf=Ct,Xf=(e,t,r)=>Qf(e,t,r)!==0;var Pl=Xf;const ed=Ct,td=(e,t,r)=>ed(e,t,r)>=0;var Wo=td;const rd=Ct,nd=(e,t,r)=>rd(e,t,r)<=0;var qo=nd;const id=Nl,sd=Pl,od=xi,ad=Wo,cd=Ho,ld=qo,ud=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return id(e,r,n);case"!=":return sd(e,r,n);case">":return od(e,r,n);case">=":return ad(e,r,n);case"<":return cd(e,r,n);case"<=":return ld(e,r,n);default:throw new TypeError(`Invalid operator: ${t}`)}};var Ll=ud;const hd=ct,fd=sn,{safeRe:si,t:oi}=Mn,dd=(e,t)=>{if(e instanceof hd)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?si[oi.COERCEFULL]:si[oi.COERCE]);else{const l=t.includePrerelease?si[oi.COERCERTLFULL]:si[oi.COERCERTL];let g;for(;(g=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||g.index+g[0].length!==r.index+r[0].length)&&(r=g),l.lastIndex=g.index+g[1].length+g[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",a=t.includePrerelease&&r[5]?`-${r[5]}`:"",o=t.includePrerelease&&r[6]?`+${r[6]}`:"";return fd(`${n}.${i}.${s}${a}${o}`,t)};var pd=dd;class gd{constructor(){this.max=1e3,this.map=new Map}get(t){const r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}}var md=gd,Bs,Fa;function It(){if(Fa)return Bs;Fa=1;const e=/\s+/g;class t{constructor(d,y){if(y=i(y),d instanceof t)return d.loose===!!y.loose&&d.includePrerelease===!!y.includePrerelease?d:new t(d.raw,y);if(d instanceof s)return this.raw=d.value,this.set=[[d]],this.formatted=void 0,this;if(this.options=y,this.loose=!!y.loose,this.includePrerelease=!!y.includePrerelease,this.raw=d.trim().replace(e," "),this.set=this.raw.split("||").map(b=>this.parseRange(b.trim())).filter(b=>b.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const b=this.set[0];if(this.set=this.set.filter(S=>!O(S[0])),this.set.length===0)this.set=[b];else if(this.set.length>1){for(const S of this.set)if(S.length===1&&D(S[0])){this.set=[S];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let d=0;d<this.set.length;d++){d>0&&(this.formatted+="||");const y=this.set[d];for(let b=0;b<y.length;b++)b>0&&(this.formatted+=" "),this.formatted+=y[b].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(d){const b=((this.options.includePrerelease&&k)|(this.options.loose&&j))+":"+d,S=n.get(b);if(S)return S;const A=this.options.loose,N=A?l[g.HYPHENRANGELOOSE]:l[g.HYPHENRANGE];d=d.replace(N,pe(this.options.includePrerelease)),a("hyphen replace",d),d=d.replace(l[g.COMPARATORTRIM],p),a("comparator trim",d),d=d.replace(l[g.TILDETRIM],v),a("tilde trim",d),d=d.replace(l[g.CARETTRIM],w),a("caret trim",d);let _=d.split(" ").map(J=>P(J,this.options)).join(" ").split(/\s+/).map(J=>oe(J,this.options));A&&(_=_.filter(J=>(a("loose invalid filter",J,this.options),!!J.match(l[g.COMPARATORLOOSE])))),a("range list",_);const h=new Map,R=_.map(J=>new s(J,this.options));for(const J of R){if(O(J))return[J];h.set(J.value,J)}h.size>1&&h.has("")&&h.delete("");const K=[...h.values()];return n.set(b,K),K}intersects(d,y){if(!(d instanceof t))throw new TypeError("a Range is required");return this.set.some(b=>I(b,y)&&d.set.some(S=>I(S,y)&&b.every(A=>S.every(N=>A.intersects(N,y)))))}test(d){if(!d)return!1;if(typeof d=="string")try{d=new o(d,this.options)}catch{return!1}for(let y=0;y<this.set.length;y++)if(x(this.set[y],d,this.options))return!0;return!1}}Bs=t;const r=md,n=new r,i=jo,s=ki(),a=Ai,o=ct,{safeRe:l,t:g,comparatorTrimReplace:p,tildeTrimReplace:v,caretTrimReplace:w}=Mn,{FLAG_INCLUDE_PRERELEASE:k,FLAG_LOOSE:j}=Ii,O=c=>c.value==="<0.0.0-0",D=c=>c.value==="",I=(c,d)=>{let y=!0;const b=c.slice();let S=b.pop();for(;y&&b.length;)y=b.every(A=>S.intersects(A,d)),S=b.pop();return y},P=(c,d)=>(c=c.replace(l[g.BUILD],""),a("comp",c,d),c=z(c,d),a("caret",c),c=W(c,d),a("tildes",c),c=Q(c,d),a("xrange",c),c=de(c,d),a("stars",c),c),B=c=>!c||c.toLowerCase()==="x"||c==="*",W=(c,d)=>c.trim().split(/\s+/).map(y=>U(y,d)).join(" "),U=(c,d)=>{const y=d.loose?l[g.TILDELOOSE]:l[g.TILDE];return c.replace(y,(b,S,A,N,_)=>{a("tilde",c,b,S,A,N,_);let h;return B(S)?h="":B(A)?h=`>=${S}.0.0 <${+S+1}.0.0-0`:B(N)?h=`>=${S}.${A}.0 <${S}.${+A+1}.0-0`:_?(a("replaceTilde pr",_),h=`>=${S}.${A}.${N}-${_} <${S}.${+A+1}.0-0`):h=`>=${S}.${A}.${N} <${S}.${+A+1}.0-0`,a("tilde return",h),h})},z=(c,d)=>c.trim().split(/\s+/).map(y=>te(y,d)).join(" "),te=(c,d)=>{a("caret",c,d);const y=d.loose?l[g.CARETLOOSE]:l[g.CARET],b=d.includePrerelease?"-0":"";return c.replace(y,(S,A,N,_,h)=>{a("caret",c,S,A,N,_,h);let R;return B(A)?R="":B(N)?R=`>=${A}.0.0${b} <${+A+1}.0.0-0`:B(_)?A==="0"?R=`>=${A}.${N}.0${b} <${A}.${+N+1}.0-0`:R=`>=${A}.${N}.0${b} <${+A+1}.0.0-0`:h?(a("replaceCaret pr",h),A==="0"?N==="0"?R=`>=${A}.${N}.${_}-${h} <${A}.${N}.${+_+1}-0`:R=`>=${A}.${N}.${_}-${h} <${A}.${+N+1}.0-0`:R=`>=${A}.${N}.${_}-${h} <${+A+1}.0.0-0`):(a("no pr"),A==="0"?N==="0"?R=`>=${A}.${N}.${_}${b} <${A}.${N}.${+_+1}-0`:R=`>=${A}.${N}.${_}${b} <${A}.${+N+1}.0-0`:R=`>=${A}.${N}.${_} <${+A+1}.0.0-0`),a("caret return",R),R})},Q=(c,d)=>(a("replaceXRanges",c,d),c.split(/\s+/).map(y=>Y(y,d)).join(" ")),Y=(c,d)=>{c=c.trim();const y=d.loose?l[g.XRANGELOOSE]:l[g.XRANGE];return c.replace(y,(b,S,A,N,_,h)=>{a("xRange",c,b,S,A,N,_,h);const R=B(A),K=R||B(N),J=K||B(_),T=J;return S==="="&&T&&(S=""),h=d.includePrerelease?"-0":"",R?S===">"||S==="<"?b="<0.0.0-0":b="*":S&&T?(K&&(N=0),_=0,S===">"?(S=">=",K?(A=+A+1,N=0,_=0):(N=+N+1,_=0)):S==="<="&&(S="<",K?A=+A+1:N=+N+1),S==="<"&&(h="-0"),b=`${S+A}.${N}.${_}${h}`):K?b=`>=${A}.0.0${h} <${+A+1}.0.0-0`:J&&(b=`>=${A}.${N}.0${h} <${A}.${+N+1}.0-0`),a("xRange return",b),b})},de=(c,d)=>(a("replaceStars",c,d),c.trim().replace(l[g.STAR],"")),oe=(c,d)=>(a("replaceGTE0",c,d),c.trim().replace(l[d.includePrerelease?g.GTE0PRE:g.GTE0],"")),pe=c=>(d,y,b,S,A,N,_,h,R,K,J,T)=>(B(b)?y="":B(S)?y=`>=${b}.0.0${c?"-0":""}`:B(A)?y=`>=${b}.${S}.0${c?"-0":""}`:N?y=`>=${y}`:y=`>=${y}${c?"-0":""}`,B(R)?h="":B(K)?h=`<${+R+1}.0.0-0`:B(J)?h=`<${R}.${+K+1}.0-0`:T?h=`<=${R}.${K}.${J}-${T}`:c?h=`<${R}.${K}.${+J+1}-0`:h=`<=${h}`,`${y} ${h}`.trim()),x=(c,d,y)=>{for(let b=0;b<c.length;b++)if(!c[b].test(d))return!1;if(d.prerelease.length&&!y.includePrerelease){for(let b=0;b<c.length;b++)if(a(c[b].semver),c[b].semver!==s.ANY&&c[b].semver.prerelease.length>0){const S=c[b].semver;if(S.major===d.major&&S.minor===d.minor&&S.patch===d.patch)return!0}return!1}return!0};return Bs}var Ns,Da;function ki(){if(Da)return Ns;Da=1;const e=Symbol("SemVer ANY");class t{static get ANY(){return e}constructor(p,v){if(v=r(v),p instanceof t){if(p.loose===!!v.loose)return p;p=p.value}p=p.trim().split(/\s+/).join(" "),a("comparator",p,v),this.options=v,this.loose=!!v.loose,this.parse(p),this.semver===e?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(p){const v=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],w=p.match(v);if(!w)throw new TypeError(`Invalid comparator: ${p}`);this.operator=w[1]!==void 0?w[1]:"",this.operator==="="&&(this.operator=""),w[2]?this.semver=new o(w[2],this.options.loose):this.semver=e}toString(){return this.value}test(p){if(a("Comparator.test",p,this.options.loose),this.semver===e||p===e)return!0;if(typeof p=="string")try{p=new o(p,this.options)}catch{return!1}return s(p,this.operator,this.semver,this.options)}intersects(p,v){if(!(p instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(p.value,v).test(this.value):p.operator===""?p.value===""?!0:new l(this.value,v).test(p.semver):(v=r(v),v.includePrerelease&&(this.value==="<0.0.0-0"||p.value==="<0.0.0-0")||!v.includePrerelease&&(this.value.startsWith("<0.0.0")||p.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&p.operator.startsWith(">")||this.operator.startsWith("<")&&p.operator.startsWith("<")||this.semver.version===p.semver.version&&this.operator.includes("=")&&p.operator.includes("=")||s(this.semver,"<",p.semver,v)&&this.operator.startsWith(">")&&p.operator.startsWith("<")||s(this.semver,">",p.semver,v)&&this.operator.startsWith("<")&&p.operator.startsWith(">")))}}Ns=t;const r=jo,{safeRe:n,t:i}=Mn,s=Ll,a=Ai,o=ct,l=It();return Ns}const yd=It(),vd=(e,t,r)=>{try{t=new yd(t,r)}catch{return!1}return t.test(e)};var Ti=vd;const wd=It(),bd=(e,t)=>new wd(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var _d=bd;const Ed=ct,Sd=It(),Rd=(e,t,r)=>{let n=null,i=null,s=null;try{s=new Sd(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new Ed(n,r))}),n};var Md=Rd;const Cd=ct,Id=It(),Ad=(e,t,r)=>{let n=null,i=null,s=null;try{s=new Id(t,r)}catch{return null}return e.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new Cd(n,r))}),n};var xd=Ad;const Ps=ct,kd=It(),ja=xi,Td=(e,t)=>{e=new kd(e,t);let r=new Ps("0.0.0");if(e.test(r)||(r=new Ps("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){const i=e.set[n];let s=null;i.forEach(a=>{const o=new Ps(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||ja(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||ja(r,s))&&(r=s)}return r&&e.test(r)?r:null};var Bd=Td;const Nd=It(),Pd=(e,t)=>{try{return new Nd(e,t).range||"*"}catch{return null}};var Ld=Pd;const Od=ct,Ol=ki(),{ANY:$d}=Ol,Fd=It(),Dd=Ti,Ua=xi,Ha=Ho,jd=qo,Ud=Wo,Hd=(e,t,r,n)=>{e=new Od(e,n),t=new Fd(t,n);let i,s,a,o,l;switch(r){case">":i=Ua,s=jd,a=Ha,o=">",l=">=";break;case"<":i=Ha,s=Ud,a=Ua,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Dd(e,t,n))return!1;for(let g=0;g<t.set.length;++g){const p=t.set[g];let v=null,w=null;if(p.forEach(k=>{k.semver===$d&&(k=new Ol(">=0.0.0")),v=v||k,w=w||k,i(k.semver,v.semver,n)?v=k:a(k.semver,w.semver,n)&&(w=k)}),v.operator===o||v.operator===l||(!w.operator||w.operator===o)&&s(e,w.semver))return!1;if(w.operator===l&&a(e,w.semver))return!1}return!0};var Vo=Hd;const Wd=Vo,qd=(e,t,r)=>Wd(e,t,">",r);var Vd=qd;const zd=Vo,Gd=(e,t,r)=>zd(e,t,"<",r);var Jd=Gd;const Wa=It(),Zd=(e,t,r)=>(e=new Wa(e,r),t=new Wa(t,r),e.intersects(t,r));var Kd=Zd;const Yd=Ti,Qd=Ct;var Xd=(e,t,r)=>{const n=[];let i=null,s=null;const a=e.sort((p,v)=>Qd(p,v,r));for(const p of a)Yd(p,t,r)?(s=p,i||(i=p)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const o=[];for(const[p,v]of n)p===v?o.push(p):!v&&p===a[0]?o.push("*"):v?p===a[0]?o.push(`<=${v}`):o.push(`${p} - ${v}`):o.push(`>=${p}`);const l=o.join(" || "),g=typeof t.raw=="string"?t.raw:String(t);return l.length<g.length?l:t};const qa=It(),zo=ki(),{ANY:Ls}=zo,gn=Ti,Go=Ct,e0=(e,t,r={})=>{if(e===t)return!0;e=new qa(e,r),t=new qa(t,r);let n=!1;e:for(const i of e.set){for(const s of t.set){const a=r0(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},t0=[new zo(">=0.0.0-0")],Va=[new zo(">=0.0.0")],r0=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Ls){if(t.length===1&&t[0].semver===Ls)return!0;r.includePrerelease?e=t0:e=Va}if(t.length===1&&t[0].semver===Ls){if(r.includePrerelease)return!0;t=Va}const n=new Set;let i,s;for(const k of e)k.operator===">"||k.operator===">="?i=za(i,k,r):k.operator==="<"||k.operator==="<="?s=Ga(s,k,r):n.add(k.semver);if(n.size>1)return null;let a;if(i&&s){if(a=Go(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const k of n){if(i&&!gn(k,String(i),r)||s&&!gn(k,String(s),r))return null;for(const j of t)if(!gn(k,String(j),r))return!1;return!0}let o,l,g,p,v=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,w=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;v&&v.prerelease.length===1&&s.operator==="<"&&v.prerelease[0]===0&&(v=!1);for(const k of t){if(p=p||k.operator===">"||k.operator===">=",g=g||k.operator==="<"||k.operator==="<=",i){if(w&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===w.major&&k.semver.minor===w.minor&&k.semver.patch===w.patch&&(w=!1),k.operator===">"||k.operator===">="){if(o=za(i,k,r),o===k&&o!==i)return!1}else if(i.operator===">="&&!gn(i.semver,String(k),r))return!1}if(s){if(v&&k.semver.prerelease&&k.semver.prerelease.length&&k.semver.major===v.major&&k.semver.minor===v.minor&&k.semver.patch===v.patch&&(v=!1),k.operator==="<"||k.operator==="<="){if(l=Ga(s,k,r),l===k&&l!==s)return!1}else if(s.operator==="<="&&!gn(s.semver,String(k),r))return!1}if(!k.operator&&(s||i)&&a!==0)return!1}return!(i&&g&&!s&&a!==0||s&&p&&!i&&a!==0||w||v)},za=(e,t,r)=>{if(!e)return t;const n=Go(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},Ga=(e,t,r)=>{if(!e)return t;const n=Go(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};var n0=e0;const Os=Mn,Ja=Ii,i0=ct,Za=Bl,s0=sn,o0=ff,a0=gf,c0=yf,l0=wf,u0=Ef,h0=Mf,f0=Af,d0=Tf,p0=Ct,g0=Lf,m0=Ff,y0=Uo,v0=Hf,w0=Vf,b0=xi,_0=Ho,E0=Nl,S0=Pl,R0=Wo,M0=qo,C0=Ll,I0=pd,A0=ki(),x0=It(),k0=Ti,T0=_d,B0=Md,N0=xd,P0=Bd,L0=Ld,O0=Vo,$0=Vd,F0=Jd,D0=Kd,j0=Xd,U0=n0;var H0={parse:s0,valid:o0,clean:a0,inc:c0,diff:l0,major:u0,minor:h0,patch:f0,prerelease:d0,compare:p0,rcompare:g0,compareLoose:m0,compareBuild:y0,sort:v0,rsort:w0,gt:b0,lt:_0,eq:E0,neq:S0,gte:R0,lte:M0,cmp:C0,coerce:I0,Comparator:A0,Range:x0,satisfies:k0,toComparators:T0,maxSatisfying:B0,minSatisfying:N0,minVersion:P0,validRange:L0,outside:O0,gtr:$0,ltr:F0,intersects:D0,simplifyRange:j0,subset:U0,SemVer:i0,re:Os.re,src:Os.src,tokens:Os.t,SEMVER_SPEC_VERSION:Ja.SEMVER_SPEC_VERSION,RELEASE_TYPES:Ja.RELEASE_TYPES,compareIdentifiers:Za.compareIdentifiers,rcompareIdentifiers:Za.rcompareIdentifiers},W0=bn;bn.default=bn;bn.stable=Dl;bn.stableStringify=Dl;var _i="[...]",$l="[Circular]",br=[],mr=[];function Fl(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function bn(e,t,r,n){typeof n>"u"&&(n=Fl()),To(e,"",0,[],void 0,0,n);var i;try{mr.length===0?i=JSON.stringify(e,t,r):i=JSON.stringify(e,jl(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;br.length!==0;){var s=br.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function qr(e,t,r,n){var i=Object.getOwnPropertyDescriptor(n,r);i.get!==void 0?i.configurable?(Object.defineProperty(n,r,{value:e}),br.push([n,r,t,i])):mr.push([t,r,e]):(n[r]=e,br.push([n,r,t]))}function To(e,t,r,n,i,s,a){s+=1;var o;if(typeof e=="object"&&e!==null){for(o=0;o<n.length;o++)if(n[o]===e){qr($l,e,t,i);return}if(typeof a.depthLimit<"u"&&s>a.depthLimit){qr(_i,e,t,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){qr(_i,e,t,i);return}if(n.push(e),Array.isArray(e))for(o=0;o<e.length;o++)To(e[o],o,o,n,e,s,a);else{var l=Object.keys(e);for(o=0;o<l.length;o++){var g=l[o];To(e[g],g,o,n,e,s,a)}}n.pop()}}function q0(e,t){return e<t?-1:e>t?1:0}function Dl(e,t,r,n){typeof n>"u"&&(n=Fl());var i=Bo(e,"",0,[],void 0,0,n)||e,s;try{mr.length===0?s=JSON.stringify(i,t,r):s=JSON.stringify(i,jl(t),r)}catch{return JSON.stringify("[unable to serialize, circular reference is too complex to analyze]")}finally{for(;br.length!==0;){var a=br.pop();a.length===4?Object.defineProperty(a[0],a[1],a[3]):a[0][a[1]]=a[2]}}return s}function Bo(e,t,r,n,i,s,a){s+=1;var o;if(typeof e=="object"&&e!==null){for(o=0;o<n.length;o++)if(n[o]===e){qr($l,e,t,i);return}try{if(typeof e.toJSON=="function")return}catch{return}if(typeof a.depthLimit<"u"&&s>a.depthLimit){qr(_i,e,t,i);return}if(typeof a.edgesLimit<"u"&&r+1>a.edgesLimit){qr(_i,e,t,i);return}if(n.push(e),Array.isArray(e))for(o=0;o<e.length;o++)Bo(e[o],o,o,n,e,s,a);else{var l={},g=Object.keys(e).sort(q0);for(o=0;o<g.length;o++){var p=g[o];Bo(e[p],p,o,n,e,s,a),l[p]=e[p]}if(typeof i<"u")br.push([i,t,e]),i[t]=l;else return l}n.pop()}}function jl(e){return e=typeof e<"u"?e:function(t,r){return r},function(t,r){if(mr.length>0)for(var n=0;n<mr.length;n++){var i=mr[n];if(i[1]===t&&i[0]===r){r=i[2],mr.splice(n,1);break}}return e.call(this,t,r)}}var Jo={},_n={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.walletLogo=void 0;const V0=(e,t)=>{let r;switch(e){case"standard":return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `;case"circle":return r=t,`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${t}' height='${r}' viewBox='0 0 999.81 999.81'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052fe;%7D.cls-2%7Bfill:%23fefefe;%7D.cls-3%7Bfill:%230152fe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M655-115.9h56c.83,1.59,2.36.88,3.56,1a478,478,0,0,1,75.06,10.42C891.4-81.76,978.33-32.58,1049.19,44q116.7,126,131.94,297.61c.38,4.14-.34,8.53,1.78,12.45v59c-1.58.84-.91,2.35-1,3.56a482.05,482.05,0,0,1-10.38,74.05c-24,106.72-76.64,196.76-158.83,268.93s-178.18,112.82-287.2,122.6c-4.83.43-9.86-.25-14.51,1.77H654c-1-1.68-2.69-.91-4.06-1a496.89,496.89,0,0,1-105.9-18.59c-93.54-27.42-172.78-77.59-236.91-150.94Q199.34,590.1,184.87,426.58c-.47-5.19.25-10.56-1.77-15.59V355c1.68-1,.91-2.7,1-4.06a498.12,498.12,0,0,1,18.58-105.9c26-88.75,72.64-164.9,140.6-227.57q126-116.27,297.21-131.61C645.32-114.57,650.35-113.88,655-115.9Zm377.92,500c0-192.44-156.31-349.49-347.56-350.15-194.13-.68-350.94,155.13-352.29,347.42-1.37,194.55,155.51,352.1,348.56,352.47C876.15,734.23,1032.93,577.84,1032.93,384.11Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-2' d='M1032.93,384.11c0,193.73-156.78,350.12-351.29,349.74-193-.37-349.93-157.92-348.56-352.47C334.43,189.09,491.24,33.28,685.37,34,876.62,34.62,1032.94,191.67,1032.93,384.11ZM683,496.81q43.74,0,87.48,0c15.55,0,25.32-9.72,25.33-25.21q0-87.48,0-175c0-15.83-9.68-25.46-25.59-25.46H595.77c-15.88,0-25.57,9.64-25.58,25.46q0,87.23,0,174.45c0,16.18,9.59,25.7,25.84,25.71Z' transform='translate(-183.1 115.9)'/%3E%3Cpath class='cls-3' d='M683,496.81H596c-16.25,0-25.84-9.53-25.84-25.71q0-87.23,0-174.45c0-15.82,9.7-25.46,25.58-25.46H770.22c15.91,0,25.59,9.63,25.59,25.46q0,87.47,0,175c0,15.49-9.78,25.2-25.33,25.21Q726.74,496.84,683,496.81Z' transform='translate(-183.1 115.9)'/%3E%3C/svg%3E`;case"text":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogo":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%230052ff;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;case"textLight":return r=(.1*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 528.15 53.64'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Ctitle%3ECoinbase_Wordmark_SubBrands_ALL%3C/title%3E%3Cpath class='cls-1' d='M164.45,15a15,15,0,0,0-11.74,5.4V0h-8.64V52.92h8.5V48a15,15,0,0,0,11.88,5.62c10.37,0,18.21-8.21,18.21-19.3S174.67,15,164.45,15Zm-1.3,30.67c-6.19,0-10.73-4.83-10.73-11.31S157,23,163.22,23s10.66,4.82,10.66,11.37S169.34,45.65,163.15,45.65Zm83.31-14.91-6.34-.93c-3-.43-5.18-1.44-5.18-3.82,0-2.59,2.8-3.89,6.62-3.89,4.18,0,6.84,1.8,7.42,4.76h8.35c-.94-7.49-6.7-11.88-15.55-11.88-9.15,0-15.2,4.68-15.2,11.3,0,6.34,4,10,12,11.16l6.33.94c3.1.43,4.83,1.65,4.83,4,0,2.95-3,4.17-7.2,4.17-5.12,0-8-2.09-8.43-5.25h-8.49c.79,7.27,6.48,12.38,16.84,12.38,9.44,0,15.7-4.32,15.7-11.74C258.12,35.28,253.58,31.82,246.46,30.74Zm-27.65-2.3c0-8.06-4.9-13.46-15.27-13.46-9.79,0-15.26,5-16.34,12.6h8.57c.43-3,2.73-5.4,7.63-5.4,4.39,0,6.55,1.94,6.55,4.32,0,3.09-4,3.88-8.85,4.39-6.63.72-14.84,3-14.84,11.66,0,6.7,5,11,12.89,11,6.19,0,10.08-2.59,12-6.7.28,3.67,3,6.05,6.84,6.05h5v-7.7h-4.25Zm-8.5,9.36c0,5-4.32,8.64-9.57,8.64-3.24,0-6-1.37-6-4.25,0-3.67,4.39-4.68,8.42-5.11s6-1.22,7.13-2.88ZM281.09,15c-11.09,0-19.23,8.35-19.23,19.36,0,11.6,8.72,19.3,19.37,19.3,9,0,16.06-5.33,17.86-12.89h-9c-1.3,3.31-4.47,5.19-8.71,5.19-5.55,0-9.72-3.46-10.66-9.51H299.3V33.12C299.3,22.46,291.53,15,281.09,15Zm-9.87,15.26c1.37-5.18,5.26-7.7,9.72-7.7,4.9,0,8.64,2.8,9.51,7.7ZM19.3,23a9.84,9.84,0,0,1,9.5,7h9.14c-1.65-8.93-9-15-18.57-15A19,19,0,0,0,0,34.34c0,11.09,8.28,19.3,19.37,19.3,9.36,0,16.85-6,18.5-15H28.8a9.75,9.75,0,0,1-9.43,7.06c-6.27,0-10.66-4.83-10.66-11.31S13,23,19.3,23Zm41.11-8A19,19,0,0,0,41,34.34c0,11.09,8.28,19.3,19.37,19.3A19,19,0,0,0,79.92,34.27C79.92,23.33,71.64,15,60.41,15Zm.07,30.67c-6.19,0-10.73-4.83-10.73-11.31S54.22,23,60.41,23s10.8,4.89,10.8,11.37S66.67,45.65,60.48,45.65ZM123.41,15c-5.62,0-9.29,2.3-11.45,5.54V15.7h-8.57V52.92H112V32.69C112,27,115.63,23,121,23c5,0,8.06,3.53,8.06,8.64V52.92h8.64V31C137.66,21.6,132.84,15,123.41,15ZM92,.36a5.36,5.36,0,0,0-5.55,5.47,5.55,5.55,0,0,0,11.09,0A5.35,5.35,0,0,0,92,.36Zm-9.72,23h5.4V52.92h8.64V15.7h-14Zm298.17-7.7L366.2,52.92H372L375.29,44H392l3.33,8.88h6L386.87,15.7ZM377,39.23l6.45-17.56h.1l6.56,17.56ZM362.66,15.7l-7.88,29h-.11l-8.14-29H341l-8,28.93h-.1l-8-28.87H319L329.82,53h5.45l8.19-29.24h.11L352,53h5.66L368.1,15.7Zm135.25,0v4.86h12.32V52.92h5.6V20.56h12.32V15.7ZM467.82,52.92h25.54V48.06H473.43v-12h18.35V31.35H473.43V20.56h19.93V15.7H467.82ZM443,15.7h-5.6V52.92h24.32V48.06H443Zm-30.45,0h-5.61V52.92h24.32V48.06H412.52Z'/%3E%3C/svg%3E`;case"textWithLogoLight":return r=(.25*t).toFixed(2),`data:image/svg+xml,%3Csvg width='${t}' height='${r}' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 308.44 77.61'%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bfill:%23fefefe;%7D%3C/style%3E%3C/defs%3E%3Cpath class='cls-1' d='M142.94,20.2l-7.88,29H135l-8.15-29h-5.55l-8,28.93h-.11l-8-28.87H99.27l10.84,37.27h5.44l8.2-29.24h.1l8.41,29.24h5.66L148.39,20.2Zm17.82,0L146.48,57.42h5.82l3.28-8.88h16.65l3.34,8.88h6L167.16,20.2Zm-3.44,23.52,6.45-17.55h.11l6.56,17.55ZM278.2,20.2v4.86h12.32V57.42h5.6V25.06h12.32V20.2ZM248.11,57.42h25.54V52.55H253.71V40.61h18.35V35.85H253.71V25.06h19.94V20.2H248.11ZM223.26,20.2h-5.61V57.42H242V52.55H223.26Zm-30.46,0h-5.6V57.42h24.32V52.55H192.8Zm-154,38A19.41,19.41,0,1,1,57.92,35.57H77.47a38.81,38.81,0,1,0,0,6.47H57.92A19.39,19.39,0,0,1,38.81,58.21Z'/%3E%3C/svg%3E`;default:return r=t,`data:image/svg+xml,%3Csvg width='${t}' height='${r}' viewBox='0 0 1024 1024' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Crect width='1024' height='1024' fill='%230052FF'/%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z' fill='white'/%3E %3C/svg%3E `}};Bi.walletLogo=V0;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});Ni.LINK_API_URL=void 0;Ni.LINK_API_URL="https://www.walletlink.org";var X={},Zo={exports:{}};const z0={},G0=Object.freeze(Object.defineProperty({__proto__:null,default:z0},Symbol.toStringTag,{value:"Module"})),Ko=nn(G0);Zo.exports;(function(e){(function(t,r){function n(x,c){if(!x)throw new Error(c||"Assertion failed")}function i(x,c){x.super_=c;var d=function(){};d.prototype=c.prototype,x.prototype=new d,x.prototype.constructor=x}function s(x,c,d){if(s.isBN(x))return x;this.negative=0,this.words=null,this.length=0,this.red=null,x!==null&&((c==="le"||c==="be")&&(d=c,c=10),this._init(x||0,c||10,d||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=Ko.Buffer}catch{}s.isBN=function(c){return c instanceof s?!0:c!==null&&typeof c=="object"&&c.constructor.wordSize===s.wordSize&&Array.isArray(c.words)},s.max=function(c,d){return c.cmp(d)>0?c:d},s.min=function(c,d){return c.cmp(d)<0?c:d},s.prototype._init=function(c,d,y){if(typeof c=="number")return this._initNumber(c,d,y);if(typeof c=="object")return this._initArray(c,d,y);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),c=c.toString().replace(/\s+/g,"");var b=0;c[0]==="-"&&(b++,this.negative=1),b<c.length&&(d===16?this._parseHex(c,b,y):(this._parseBase(c,d,b),y==="le"&&this._initArray(this.toArray(),d,y)))},s.prototype._initNumber=function(c,d,y){c<0&&(this.negative=1,c=-c),c<67108864?(this.words=[c&67108863],this.length=1):c<4503599627370496?(this.words=[c&67108863,c/67108864&67108863],this.length=2):(n(c<9007199254740992),this.words=[c&67108863,c/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},s.prototype._initArray=function(c,d,y){if(n(typeof c.length=="number"),c.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(c.length/3),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var S,A,N=0;if(y==="be")for(b=c.length-1,S=0;b>=0;b-=3)A=c[b]|c[b-1]<<8|c[b-2]<<16,this.words[S]|=A<<N&67108863,this.words[S+1]=A>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);else if(y==="le")for(b=0,S=0;b<c.length;b+=3)A=c[b]|c[b+1]<<8|c[b+2]<<16,this.words[S]|=A<<N&67108863,this.words[S+1]=A>>>26-N&67108863,N+=24,N>=26&&(N-=26,S++);return this._strip()};function o(x,c){var d=x.charCodeAt(c);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+x)}function l(x,c,d){var y=o(x,d);return d-1>=c&&(y|=o(x,d-1)<<4),y}s.prototype._parseHex=function(c,d,y){this.length=Math.ceil((c.length-d)/6),this.words=new Array(this.length);for(var b=0;b<this.length;b++)this.words[b]=0;var S=0,A=0,N;if(y==="be")for(b=c.length-1;b>=d;b-=2)N=l(c,d,b)<<S,this.words[A]|=N&67108863,S>=18?(S-=18,A+=1,this.words[A]|=N>>>26):S+=8;else{var _=c.length-d;for(b=_%2===0?d+1:d;b<c.length;b+=2)N=l(c,d,b)<<S,this.words[A]|=N&67108863,S>=18?(S-=18,A+=1,this.words[A]|=N>>>26):S+=8}this._strip()};function g(x,c,d,y){for(var b=0,S=0,A=Math.min(x.length,d),N=c;N<A;N++){var _=x.charCodeAt(N)-48;b*=y,_>=49?S=_-49+10:_>=17?S=_-17+10:S=_,n(_>=0&&S<y,"Invalid character"),b+=S}return b}s.prototype._parseBase=function(c,d,y){this.words=[0],this.length=1;for(var b=0,S=1;S<=67108863;S*=d)b++;b--,S=S/d|0;for(var A=c.length-y,N=A%b,_=Math.min(A,A-N)+y,h=0,R=y;R<_;R+=b)h=g(c,R,R+b,d),this.imuln(S),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h);if(N!==0){var K=1;for(h=g(c,R,c.length,d),R=0;R<N;R++)K*=d;this.imuln(K),this.words[0]+h<67108864?this.words[0]+=h:this._iaddn(h)}this._strip()},s.prototype.copy=function(c){c.words=new Array(this.length);for(var d=0;d<this.length;d++)c.words[d]=this.words[d];c.length=this.length,c.negative=this.negative,c.red=this.red};function p(x,c){x.words=c.words,x.length=c.length,x.negative=c.negative,x.red=c.red}if(s.prototype._move=function(c){p(c,this)},s.prototype.clone=function(){var c=new s(null);return this.copy(c),c},s.prototype._expand=function(c){for(;this.length<c;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=v}catch{s.prototype.inspect=v}else s.prototype.inspect=v;function v(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],j=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(c,d){c=c||10,d=d|0||1;var y;if(c===16||c==="hex"){y="";for(var b=0,S=0,A=0;A<this.length;A++){var N=this.words[A],_=((N<<b|S)&16777215).toString(16);S=N>>>24-b&16777215,b+=2,b>=26&&(b-=26,A--),S!==0||A!==this.length-1?y=w[6-_.length]+_+y:y=_+y}for(S!==0&&(y=S.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(c===(c|0)&&c>=2&&c<=36){var h=k[c],R=j[c];y="";var K=this.clone();for(K.negative=0;!K.isZero();){var J=K.modrn(R).toString(c);K=K.idivn(R),K.isZero()?y=J+y:y=w[h-J.length]+J+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var c=this.words[0];return this.length===2?c+=this.words[1]*67108864:this.length===3&&this.words[2]===1?c+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-c:c},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(c,d){return this.toArrayLike(a,c,d)}),s.prototype.toArray=function(c,d){return this.toArrayLike(Array,c,d)};var O=function(c,d){return c.allocUnsafe?c.allocUnsafe(d):new c(d)};s.prototype.toArrayLike=function(c,d,y){this._strip();var b=this.byteLength(),S=y||Math.max(1,b);n(b<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var A=O(c,S),N=d==="le"?"LE":"BE";return this["_toArrayLike"+N](A,b),A},s.prototype._toArrayLikeLE=function(c,d){for(var y=0,b=0,S=0,A=0;S<this.length;S++){var N=this.words[S]<<A|b;c[y++]=N&255,y<c.length&&(c[y++]=N>>8&255),y<c.length&&(c[y++]=N>>16&255),A===6?(y<c.length&&(c[y++]=N>>24&255),b=0,A=0):(b=N>>>24,A+=2)}if(y<c.length)for(c[y++]=b;y<c.length;)c[y++]=0},s.prototype._toArrayLikeBE=function(c,d){for(var y=c.length-1,b=0,S=0,A=0;S<this.length;S++){var N=this.words[S]<<A|b;c[y--]=N&255,y>=0&&(c[y--]=N>>8&255),y>=0&&(c[y--]=N>>16&255),A===6?(y>=0&&(c[y--]=N>>24&255),b=0,A=0):(b=N>>>24,A+=2)}if(y>=0)for(c[y--]=b;y>=0;)c[y--]=0},Math.clz32?s.prototype._countBits=function(c){return 32-Math.clz32(c)}:s.prototype._countBits=function(c){var d=c,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},s.prototype._zeroBits=function(c){if(c===0)return 26;var d=c,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},s.prototype.bitLength=function(){var c=this.words[this.length-1],d=this._countBits(c);return(this.length-1)*26+d};function D(x){for(var c=new Array(x.bitLength()),d=0;d<c.length;d++){var y=d/26|0,b=d%26;c[d]=x.words[y]>>>b&1}return c}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var c=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(c+=y,y!==26)break}return c},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(c){return this.negative!==0?this.abs().inotn(c).iaddn(1):this.clone()},s.prototype.fromTwos=function(c){return this.testn(c-1)?this.notn(c).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(c){for(;this.length<c.length;)this.words[this.length++]=0;for(var d=0;d<c.length;d++)this.words[d]=this.words[d]|c.words[d];return this._strip()},s.prototype.ior=function(c){return n((this.negative|c.negative)===0),this.iuor(c)},s.prototype.or=function(c){return this.length>c.length?this.clone().ior(c):c.clone().ior(this)},s.prototype.uor=function(c){return this.length>c.length?this.clone().iuor(c):c.clone().iuor(this)},s.prototype.iuand=function(c){var d;this.length>c.length?d=c:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&c.words[y];return this.length=d.length,this._strip()},s.prototype.iand=function(c){return n((this.negative|c.negative)===0),this.iuand(c)},s.prototype.and=function(c){return this.length>c.length?this.clone().iand(c):c.clone().iand(this)},s.prototype.uand=function(c){return this.length>c.length?this.clone().iuand(c):c.clone().iuand(this)},s.prototype.iuxor=function(c){var d,y;this.length>c.length?(d=this,y=c):(d=c,y=this);for(var b=0;b<y.length;b++)this.words[b]=d.words[b]^y.words[b];if(this!==d)for(;b<d.length;b++)this.words[b]=d.words[b];return this.length=d.length,this._strip()},s.prototype.ixor=function(c){return n((this.negative|c.negative)===0),this.iuxor(c)},s.prototype.xor=function(c){return this.length>c.length?this.clone().ixor(c):c.clone().ixor(this)},s.prototype.uxor=function(c){return this.length>c.length?this.clone().iuxor(c):c.clone().iuxor(this)},s.prototype.inotn=function(c){n(typeof c=="number"&&c>=0);var d=Math.ceil(c/26)|0,y=c%26;this._expand(d),y>0&&d--;for(var b=0;b<d;b++)this.words[b]=~this.words[b]&67108863;return y>0&&(this.words[b]=~this.words[b]&67108863>>26-y),this._strip()},s.prototype.notn=function(c){return this.clone().inotn(c)},s.prototype.setn=function(c,d){n(typeof c=="number"&&c>=0);var y=c/26|0,b=c%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<b:this.words[y]=this.words[y]&~(1<<b),this._strip()},s.prototype.iadd=function(c){var d;if(this.negative!==0&&c.negative===0)return this.negative=0,d=this.isub(c),this.negative^=1,this._normSign();if(this.negative===0&&c.negative!==0)return c.negative=0,d=this.isub(c),c.negative=1,d._normSign();var y,b;this.length>c.length?(y=this,b=c):(y=c,b=this);for(var S=0,A=0;A<b.length;A++)d=(y.words[A]|0)+(b.words[A]|0)+S,this.words[A]=d&67108863,S=d>>>26;for(;S!==0&&A<y.length;A++)d=(y.words[A]|0)+S,this.words[A]=d&67108863,S=d>>>26;if(this.length=y.length,S!==0)this.words[this.length]=S,this.length++;else if(y!==this)for(;A<y.length;A++)this.words[A]=y.words[A];return this},s.prototype.add=function(c){var d;return c.negative!==0&&this.negative===0?(c.negative=0,d=this.sub(c),c.negative^=1,d):c.negative===0&&this.negative!==0?(this.negative=0,d=c.sub(this),this.negative=1,d):this.length>c.length?this.clone().iadd(c):c.clone().iadd(this)},s.prototype.isub=function(c){if(c.negative!==0){c.negative=0;var d=this.iadd(c);return c.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(c),this.negative=1,this._normSign();var y=this.cmp(c);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var b,S;y>0?(b=this,S=c):(b=c,S=this);for(var A=0,N=0;N<S.length;N++)d=(b.words[N]|0)-(S.words[N]|0)+A,A=d>>26,this.words[N]=d&67108863;for(;A!==0&&N<b.length;N++)d=(b.words[N]|0)+A,A=d>>26,this.words[N]=d&67108863;if(A===0&&N<b.length&&b!==this)for(;N<b.length;N++)this.words[N]=b.words[N];return this.length=Math.max(this.length,N),b!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(c){return this.clone().isub(c)};function I(x,c,d){d.negative=c.negative^x.negative;var y=x.length+c.length|0;d.length=y,y=y-1|0;var b=x.words[0]|0,S=c.words[0]|0,A=b*S,N=A&67108863,_=A/67108864|0;d.words[0]=N;for(var h=1;h<y;h++){for(var R=_>>>26,K=_&67108863,J=Math.min(h,c.length-1),T=Math.max(0,h-x.length+1);T<=J;T++){var $=h-T|0;b=x.words[$]|0,S=c.words[T]|0,A=b*S+K,R+=A/67108864|0,K=A&67108863}d.words[h]=K|0,_=R|0}return _!==0?d.words[h]=_|0:d.length--,d._strip()}var P=function(c,d,y){var b=c.words,S=d.words,A=y.words,N=0,_,h,R,K=b[0]|0,J=K&8191,T=K>>>13,$=b[1]|0,q=$&8191,Z=$>>>13,ue=b[2]|0,M=ue&8191,C=ue>>>13,V=b[3]|0,G=V&8191,se=V>>>13,he=b[4]|0,re=he&8191,be=he>>>13,pt=b[5]|0,Re=pt&8191,Se=pt>>>13,Ze=b[6]|0,_e=Ze&8191,Me=Ze>>>13,Qe=b[7]|0,Ee=Qe&8191,m=Qe>>>13,u=b[8]|0,f=u&8191,E=u>>>13,L=b[9]|0,F=L&8191,H=L>>>13,ce=S[0]|0,ae=ce&8191,ie=ce>>>13,Ce=S[1]|0,ne=Ce&8191,Ie=Ce>>>13,Cr=S[2]|0,Ae=Cr&8191,xe=Cr>>>13,Ir=S[3]|0,ke=Ir&8191,Te=Ir>>>13,Ar=S[4]|0,Be=Ar&8191,Ne=Ar>>>13,xr=S[5]|0,Pe=xr&8191,Le=xr>>>13,kr=S[6]|0,Oe=kr&8191,$e=kr>>>13,Tr=S[7]|0,Fe=Tr&8191,De=Tr>>>13,Br=S[8]|0,je=Br&8191,Ue=Br>>>13,Nr=S[9]|0,He=Nr&8191,We=Nr>>>13;y.negative=c.negative^d.negative,y.length=19,_=Math.imul(J,ae),h=Math.imul(J,ie),h=h+Math.imul(T,ae)|0,R=Math.imul(T,ie);var Kt=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,_=Math.imul(q,ae),h=Math.imul(q,ie),h=h+Math.imul(Z,ae)|0,R=Math.imul(Z,ie),_=_+Math.imul(J,ne)|0,h=h+Math.imul(J,Ie)|0,h=h+Math.imul(T,ne)|0,R=R+Math.imul(T,Ie)|0;var Yt=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,_=Math.imul(M,ae),h=Math.imul(M,ie),h=h+Math.imul(C,ae)|0,R=Math.imul(C,ie),_=_+Math.imul(q,ne)|0,h=h+Math.imul(q,Ie)|0,h=h+Math.imul(Z,ne)|0,R=R+Math.imul(Z,Ie)|0,_=_+Math.imul(J,Ae)|0,h=h+Math.imul(J,xe)|0,h=h+Math.imul(T,Ae)|0,R=R+Math.imul(T,xe)|0;var Qt=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Qt>>>26)|0,Qt&=67108863,_=Math.imul(G,ae),h=Math.imul(G,ie),h=h+Math.imul(se,ae)|0,R=Math.imul(se,ie),_=_+Math.imul(M,ne)|0,h=h+Math.imul(M,Ie)|0,h=h+Math.imul(C,ne)|0,R=R+Math.imul(C,Ie)|0,_=_+Math.imul(q,Ae)|0,h=h+Math.imul(q,xe)|0,h=h+Math.imul(Z,Ae)|0,R=R+Math.imul(Z,xe)|0,_=_+Math.imul(J,ke)|0,h=h+Math.imul(J,Te)|0,h=h+Math.imul(T,ke)|0,R=R+Math.imul(T,Te)|0;var Xt=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,_=Math.imul(re,ae),h=Math.imul(re,ie),h=h+Math.imul(be,ae)|0,R=Math.imul(be,ie),_=_+Math.imul(G,ne)|0,h=h+Math.imul(G,Ie)|0,h=h+Math.imul(se,ne)|0,R=R+Math.imul(se,Ie)|0,_=_+Math.imul(M,Ae)|0,h=h+Math.imul(M,xe)|0,h=h+Math.imul(C,Ae)|0,R=R+Math.imul(C,xe)|0,_=_+Math.imul(q,ke)|0,h=h+Math.imul(q,Te)|0,h=h+Math.imul(Z,ke)|0,R=R+Math.imul(Z,Te)|0,_=_+Math.imul(J,Be)|0,h=h+Math.imul(J,Ne)|0,h=h+Math.imul(T,Be)|0,R=R+Math.imul(T,Ne)|0;var er=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(er>>>26)|0,er&=67108863,_=Math.imul(Re,ae),h=Math.imul(Re,ie),h=h+Math.imul(Se,ae)|0,R=Math.imul(Se,ie),_=_+Math.imul(re,ne)|0,h=h+Math.imul(re,Ie)|0,h=h+Math.imul(be,ne)|0,R=R+Math.imul(be,Ie)|0,_=_+Math.imul(G,Ae)|0,h=h+Math.imul(G,xe)|0,h=h+Math.imul(se,Ae)|0,R=R+Math.imul(se,xe)|0,_=_+Math.imul(M,ke)|0,h=h+Math.imul(M,Te)|0,h=h+Math.imul(C,ke)|0,R=R+Math.imul(C,Te)|0,_=_+Math.imul(q,Be)|0,h=h+Math.imul(q,Ne)|0,h=h+Math.imul(Z,Be)|0,R=R+Math.imul(Z,Ne)|0,_=_+Math.imul(J,Pe)|0,h=h+Math.imul(J,Le)|0,h=h+Math.imul(T,Pe)|0,R=R+Math.imul(T,Le)|0;var tr=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(tr>>>26)|0,tr&=67108863,_=Math.imul(_e,ae),h=Math.imul(_e,ie),h=h+Math.imul(Me,ae)|0,R=Math.imul(Me,ie),_=_+Math.imul(Re,ne)|0,h=h+Math.imul(Re,Ie)|0,h=h+Math.imul(Se,ne)|0,R=R+Math.imul(Se,Ie)|0,_=_+Math.imul(re,Ae)|0,h=h+Math.imul(re,xe)|0,h=h+Math.imul(be,Ae)|0,R=R+Math.imul(be,xe)|0,_=_+Math.imul(G,ke)|0,h=h+Math.imul(G,Te)|0,h=h+Math.imul(se,ke)|0,R=R+Math.imul(se,Te)|0,_=_+Math.imul(M,Be)|0,h=h+Math.imul(M,Ne)|0,h=h+Math.imul(C,Be)|0,R=R+Math.imul(C,Ne)|0,_=_+Math.imul(q,Pe)|0,h=h+Math.imul(q,Le)|0,h=h+Math.imul(Z,Pe)|0,R=R+Math.imul(Z,Le)|0,_=_+Math.imul(J,Oe)|0,h=h+Math.imul(J,$e)|0,h=h+Math.imul(T,Oe)|0,R=R+Math.imul(T,$e)|0;var rr=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(rr>>>26)|0,rr&=67108863,_=Math.imul(Ee,ae),h=Math.imul(Ee,ie),h=h+Math.imul(m,ae)|0,R=Math.imul(m,ie),_=_+Math.imul(_e,ne)|0,h=h+Math.imul(_e,Ie)|0,h=h+Math.imul(Me,ne)|0,R=R+Math.imul(Me,Ie)|0,_=_+Math.imul(Re,Ae)|0,h=h+Math.imul(Re,xe)|0,h=h+Math.imul(Se,Ae)|0,R=R+Math.imul(Se,xe)|0,_=_+Math.imul(re,ke)|0,h=h+Math.imul(re,Te)|0,h=h+Math.imul(be,ke)|0,R=R+Math.imul(be,Te)|0,_=_+Math.imul(G,Be)|0,h=h+Math.imul(G,Ne)|0,h=h+Math.imul(se,Be)|0,R=R+Math.imul(se,Ne)|0,_=_+Math.imul(M,Pe)|0,h=h+Math.imul(M,Le)|0,h=h+Math.imul(C,Pe)|0,R=R+Math.imul(C,Le)|0,_=_+Math.imul(q,Oe)|0,h=h+Math.imul(q,$e)|0,h=h+Math.imul(Z,Oe)|0,R=R+Math.imul(Z,$e)|0,_=_+Math.imul(J,Fe)|0,h=h+Math.imul(J,De)|0,h=h+Math.imul(T,Fe)|0,R=R+Math.imul(T,De)|0;var nr=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(nr>>>26)|0,nr&=67108863,_=Math.imul(f,ae),h=Math.imul(f,ie),h=h+Math.imul(E,ae)|0,R=Math.imul(E,ie),_=_+Math.imul(Ee,ne)|0,h=h+Math.imul(Ee,Ie)|0,h=h+Math.imul(m,ne)|0,R=R+Math.imul(m,Ie)|0,_=_+Math.imul(_e,Ae)|0,h=h+Math.imul(_e,xe)|0,h=h+Math.imul(Me,Ae)|0,R=R+Math.imul(Me,xe)|0,_=_+Math.imul(Re,ke)|0,h=h+Math.imul(Re,Te)|0,h=h+Math.imul(Se,ke)|0,R=R+Math.imul(Se,Te)|0,_=_+Math.imul(re,Be)|0,h=h+Math.imul(re,Ne)|0,h=h+Math.imul(be,Be)|0,R=R+Math.imul(be,Ne)|0,_=_+Math.imul(G,Pe)|0,h=h+Math.imul(G,Le)|0,h=h+Math.imul(se,Pe)|0,R=R+Math.imul(se,Le)|0,_=_+Math.imul(M,Oe)|0,h=h+Math.imul(M,$e)|0,h=h+Math.imul(C,Oe)|0,R=R+Math.imul(C,$e)|0,_=_+Math.imul(q,Fe)|0,h=h+Math.imul(q,De)|0,h=h+Math.imul(Z,Fe)|0,R=R+Math.imul(Z,De)|0,_=_+Math.imul(J,je)|0,h=h+Math.imul(J,Ue)|0,h=h+Math.imul(T,je)|0,R=R+Math.imul(T,Ue)|0;var ir=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(ir>>>26)|0,ir&=67108863,_=Math.imul(F,ae),h=Math.imul(F,ie),h=h+Math.imul(H,ae)|0,R=Math.imul(H,ie),_=_+Math.imul(f,ne)|0,h=h+Math.imul(f,Ie)|0,h=h+Math.imul(E,ne)|0,R=R+Math.imul(E,Ie)|0,_=_+Math.imul(Ee,Ae)|0,h=h+Math.imul(Ee,xe)|0,h=h+Math.imul(m,Ae)|0,R=R+Math.imul(m,xe)|0,_=_+Math.imul(_e,ke)|0,h=h+Math.imul(_e,Te)|0,h=h+Math.imul(Me,ke)|0,R=R+Math.imul(Me,Te)|0,_=_+Math.imul(Re,Be)|0,h=h+Math.imul(Re,Ne)|0,h=h+Math.imul(Se,Be)|0,R=R+Math.imul(Se,Ne)|0,_=_+Math.imul(re,Pe)|0,h=h+Math.imul(re,Le)|0,h=h+Math.imul(be,Pe)|0,R=R+Math.imul(be,Le)|0,_=_+Math.imul(G,Oe)|0,h=h+Math.imul(G,$e)|0,h=h+Math.imul(se,Oe)|0,R=R+Math.imul(se,$e)|0,_=_+Math.imul(M,Fe)|0,h=h+Math.imul(M,De)|0,h=h+Math.imul(C,Fe)|0,R=R+Math.imul(C,De)|0,_=_+Math.imul(q,je)|0,h=h+Math.imul(q,Ue)|0,h=h+Math.imul(Z,je)|0,R=R+Math.imul(Z,Ue)|0,_=_+Math.imul(J,He)|0,h=h+Math.imul(J,We)|0,h=h+Math.imul(T,He)|0,R=R+Math.imul(T,We)|0;var sr=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(sr>>>26)|0,sr&=67108863,_=Math.imul(F,ne),h=Math.imul(F,Ie),h=h+Math.imul(H,ne)|0,R=Math.imul(H,Ie),_=_+Math.imul(f,Ae)|0,h=h+Math.imul(f,xe)|0,h=h+Math.imul(E,Ae)|0,R=R+Math.imul(E,xe)|0,_=_+Math.imul(Ee,ke)|0,h=h+Math.imul(Ee,Te)|0,h=h+Math.imul(m,ke)|0,R=R+Math.imul(m,Te)|0,_=_+Math.imul(_e,Be)|0,h=h+Math.imul(_e,Ne)|0,h=h+Math.imul(Me,Be)|0,R=R+Math.imul(Me,Ne)|0,_=_+Math.imul(Re,Pe)|0,h=h+Math.imul(Re,Le)|0,h=h+Math.imul(Se,Pe)|0,R=R+Math.imul(Se,Le)|0,_=_+Math.imul(re,Oe)|0,h=h+Math.imul(re,$e)|0,h=h+Math.imul(be,Oe)|0,R=R+Math.imul(be,$e)|0,_=_+Math.imul(G,Fe)|0,h=h+Math.imul(G,De)|0,h=h+Math.imul(se,Fe)|0,R=R+Math.imul(se,De)|0,_=_+Math.imul(M,je)|0,h=h+Math.imul(M,Ue)|0,h=h+Math.imul(C,je)|0,R=R+Math.imul(C,Ue)|0,_=_+Math.imul(q,He)|0,h=h+Math.imul(q,We)|0,h=h+Math.imul(Z,He)|0,R=R+Math.imul(Z,We)|0;var or=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(or>>>26)|0,or&=67108863,_=Math.imul(F,Ae),h=Math.imul(F,xe),h=h+Math.imul(H,Ae)|0,R=Math.imul(H,xe),_=_+Math.imul(f,ke)|0,h=h+Math.imul(f,Te)|0,h=h+Math.imul(E,ke)|0,R=R+Math.imul(E,Te)|0,_=_+Math.imul(Ee,Be)|0,h=h+Math.imul(Ee,Ne)|0,h=h+Math.imul(m,Be)|0,R=R+Math.imul(m,Ne)|0,_=_+Math.imul(_e,Pe)|0,h=h+Math.imul(_e,Le)|0,h=h+Math.imul(Me,Pe)|0,R=R+Math.imul(Me,Le)|0,_=_+Math.imul(Re,Oe)|0,h=h+Math.imul(Re,$e)|0,h=h+Math.imul(Se,Oe)|0,R=R+Math.imul(Se,$e)|0,_=_+Math.imul(re,Fe)|0,h=h+Math.imul(re,De)|0,h=h+Math.imul(be,Fe)|0,R=R+Math.imul(be,De)|0,_=_+Math.imul(G,je)|0,h=h+Math.imul(G,Ue)|0,h=h+Math.imul(se,je)|0,R=R+Math.imul(se,Ue)|0,_=_+Math.imul(M,He)|0,h=h+Math.imul(M,We)|0,h=h+Math.imul(C,He)|0,R=R+Math.imul(C,We)|0;var ar=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(ar>>>26)|0,ar&=67108863,_=Math.imul(F,ke),h=Math.imul(F,Te),h=h+Math.imul(H,ke)|0,R=Math.imul(H,Te),_=_+Math.imul(f,Be)|0,h=h+Math.imul(f,Ne)|0,h=h+Math.imul(E,Be)|0,R=R+Math.imul(E,Ne)|0,_=_+Math.imul(Ee,Pe)|0,h=h+Math.imul(Ee,Le)|0,h=h+Math.imul(m,Pe)|0,R=R+Math.imul(m,Le)|0,_=_+Math.imul(_e,Oe)|0,h=h+Math.imul(_e,$e)|0,h=h+Math.imul(Me,Oe)|0,R=R+Math.imul(Me,$e)|0,_=_+Math.imul(Re,Fe)|0,h=h+Math.imul(Re,De)|0,h=h+Math.imul(Se,Fe)|0,R=R+Math.imul(Se,De)|0,_=_+Math.imul(re,je)|0,h=h+Math.imul(re,Ue)|0,h=h+Math.imul(be,je)|0,R=R+Math.imul(be,Ue)|0,_=_+Math.imul(G,He)|0,h=h+Math.imul(G,We)|0,h=h+Math.imul(se,He)|0,R=R+Math.imul(se,We)|0;var cr=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(cr>>>26)|0,cr&=67108863,_=Math.imul(F,Be),h=Math.imul(F,Ne),h=h+Math.imul(H,Be)|0,R=Math.imul(H,Ne),_=_+Math.imul(f,Pe)|0,h=h+Math.imul(f,Le)|0,h=h+Math.imul(E,Pe)|0,R=R+Math.imul(E,Le)|0,_=_+Math.imul(Ee,Oe)|0,h=h+Math.imul(Ee,$e)|0,h=h+Math.imul(m,Oe)|0,R=R+Math.imul(m,$e)|0,_=_+Math.imul(_e,Fe)|0,h=h+Math.imul(_e,De)|0,h=h+Math.imul(Me,Fe)|0,R=R+Math.imul(Me,De)|0,_=_+Math.imul(Re,je)|0,h=h+Math.imul(Re,Ue)|0,h=h+Math.imul(Se,je)|0,R=R+Math.imul(Se,Ue)|0,_=_+Math.imul(re,He)|0,h=h+Math.imul(re,We)|0,h=h+Math.imul(be,He)|0,R=R+Math.imul(be,We)|0;var lr=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(lr>>>26)|0,lr&=67108863,_=Math.imul(F,Pe),h=Math.imul(F,Le),h=h+Math.imul(H,Pe)|0,R=Math.imul(H,Le),_=_+Math.imul(f,Oe)|0,h=h+Math.imul(f,$e)|0,h=h+Math.imul(E,Oe)|0,R=R+Math.imul(E,$e)|0,_=_+Math.imul(Ee,Fe)|0,h=h+Math.imul(Ee,De)|0,h=h+Math.imul(m,Fe)|0,R=R+Math.imul(m,De)|0,_=_+Math.imul(_e,je)|0,h=h+Math.imul(_e,Ue)|0,h=h+Math.imul(Me,je)|0,R=R+Math.imul(Me,Ue)|0,_=_+Math.imul(Re,He)|0,h=h+Math.imul(Re,We)|0,h=h+Math.imul(Se,He)|0,R=R+Math.imul(Se,We)|0;var Ms=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Ms>>>26)|0,Ms&=67108863,_=Math.imul(F,Oe),h=Math.imul(F,$e),h=h+Math.imul(H,Oe)|0,R=Math.imul(H,$e),_=_+Math.imul(f,Fe)|0,h=h+Math.imul(f,De)|0,h=h+Math.imul(E,Fe)|0,R=R+Math.imul(E,De)|0,_=_+Math.imul(Ee,je)|0,h=h+Math.imul(Ee,Ue)|0,h=h+Math.imul(m,je)|0,R=R+Math.imul(m,Ue)|0,_=_+Math.imul(_e,He)|0,h=h+Math.imul(_e,We)|0,h=h+Math.imul(Me,He)|0,R=R+Math.imul(Me,We)|0;var Cs=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Cs>>>26)|0,Cs&=67108863,_=Math.imul(F,Fe),h=Math.imul(F,De),h=h+Math.imul(H,Fe)|0,R=Math.imul(H,De),_=_+Math.imul(f,je)|0,h=h+Math.imul(f,Ue)|0,h=h+Math.imul(E,je)|0,R=R+Math.imul(E,Ue)|0,_=_+Math.imul(Ee,He)|0,h=h+Math.imul(Ee,We)|0,h=h+Math.imul(m,He)|0,R=R+Math.imul(m,We)|0;var Is=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(Is>>>26)|0,Is&=67108863,_=Math.imul(F,je),h=Math.imul(F,Ue),h=h+Math.imul(H,je)|0,R=Math.imul(H,Ue),_=_+Math.imul(f,He)|0,h=h+Math.imul(f,We)|0,h=h+Math.imul(E,He)|0,R=R+Math.imul(E,We)|0;var As=(N+_|0)+((h&8191)<<13)|0;N=(R+(h>>>13)|0)+(As>>>26)|0,As&=67108863,_=Math.imul(F,He),h=Math.imul(F,We),h=h+Math.imul(H,He)|0,R=Math.imul(H,We);var xs=(N+_|0)+((h&8191)<<13)|0;return N=(R+(h>>>13)|0)+(xs>>>26)|0,xs&=67108863,A[0]=Kt,A[1]=Yt,A[2]=Qt,A[3]=Xt,A[4]=er,A[5]=tr,A[6]=rr,A[7]=nr,A[8]=ir,A[9]=sr,A[10]=or,A[11]=ar,A[12]=cr,A[13]=lr,A[14]=Ms,A[15]=Cs,A[16]=Is,A[17]=As,A[18]=xs,N!==0&&(A[19]=N,y.length++),y};Math.imul||(P=I);function B(x,c,d){d.negative=c.negative^x.negative,d.length=x.length+c.length;for(var y=0,b=0,S=0;S<d.length-1;S++){var A=b;b=0;for(var N=y&67108863,_=Math.min(S,c.length-1),h=Math.max(0,S-x.length+1);h<=_;h++){var R=S-h,K=x.words[R]|0,J=c.words[h]|0,T=K*J,$=T&67108863;A=A+(T/67108864|0)|0,$=$+N|0,N=$&67108863,A=A+($>>>26)|0,b+=A>>>26,A&=67108863}d.words[S]=N,y=A,A=b}return y!==0?d.words[S]=y:d.length--,d._strip()}function W(x,c,d){return B(x,c,d)}s.prototype.mulTo=function(c,d){var y,b=this.length+c.length;return this.length===10&&c.length===10?y=P(this,c,d):b<63?y=I(this,c,d):b<1024?y=B(this,c,d):y=W(this,c,d),y},s.prototype.mul=function(c){var d=new s(null);return d.words=new Array(this.length+c.length),this.mulTo(c,d)},s.prototype.mulf=function(c){var d=new s(null);return d.words=new Array(this.length+c.length),W(this,c,d)},s.prototype.imul=function(c){return this.clone().mulTo(c,this)},s.prototype.imuln=function(c){var d=c<0;d&&(c=-c),n(typeof c=="number"),n(c<67108864);for(var y=0,b=0;b<this.length;b++){var S=(this.words[b]|0)*c,A=(S&67108863)+(y&67108863);y>>=26,y+=S/67108864|0,y+=A>>>26,this.words[b]=A&67108863}return y!==0&&(this.words[b]=y,this.length++),this.length=c===0?1:this.length,d?this.ineg():this},s.prototype.muln=function(c){return this.clone().imuln(c)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(c){var d=D(c);if(d.length===0)return new s(1);for(var y=this,b=0;b<d.length&&d[b]===0;b++,y=y.sqr());if(++b<d.length)for(var S=y.sqr();b<d.length;b++,S=S.sqr())d[b]!==0&&(y=y.mul(S));return y},s.prototype.iushln=function(c){n(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,b=67108863>>>26-d<<26-d,S;if(d!==0){var A=0;for(S=0;S<this.length;S++){var N=this.words[S]&b,_=(this.words[S]|0)-N<<d;this.words[S]=_|A,A=N>>>26-d}A&&(this.words[S]=A,this.length++)}if(y!==0){for(S=this.length-1;S>=0;S--)this.words[S+y]=this.words[S];for(S=0;S<y;S++)this.words[S]=0;this.length+=y}return this._strip()},s.prototype.ishln=function(c){return n(this.negative===0),this.iushln(c)},s.prototype.iushrn=function(c,d,y){n(typeof c=="number"&&c>=0);var b;d?b=(d-d%26)/26:b=0;var S=c%26,A=Math.min((c-S)/26,this.length),N=67108863^67108863>>>S<<S,_=y;if(b-=A,b=Math.max(0,b),_){for(var h=0;h<A;h++)_.words[h]=this.words[h];_.length=A}if(A!==0)if(this.length>A)for(this.length-=A,h=0;h<this.length;h++)this.words[h]=this.words[h+A];else this.words[0]=0,this.length=1;var R=0;for(h=this.length-1;h>=0&&(R!==0||h>=b);h--){var K=this.words[h]|0;this.words[h]=R<<26-S|K>>>S,R=K&N}return _&&R!==0&&(_.words[_.length++]=R),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(c,d,y){return n(this.negative===0),this.iushrn(c,d,y)},s.prototype.shln=function(c){return this.clone().ishln(c)},s.prototype.ushln=function(c){return this.clone().iushln(c)},s.prototype.shrn=function(c){return this.clone().ishrn(c)},s.prototype.ushrn=function(c){return this.clone().iushrn(c)},s.prototype.testn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26,b=1<<d;if(this.length<=y)return!1;var S=this.words[y];return!!(S&b)},s.prototype.imaskn=function(c){n(typeof c=="number"&&c>=0);var d=c%26,y=(c-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var b=67108863^67108863>>>d<<d;this.words[this.length-1]&=b}return this._strip()},s.prototype.maskn=function(c){return this.clone().imaskn(c)},s.prototype.iaddn=function(c){return n(typeof c=="number"),n(c<67108864),c<0?this.isubn(-c):this.negative!==0?this.length===1&&(this.words[0]|0)<=c?(this.words[0]=c-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(c),this.negative=1,this):this._iaddn(c)},s.prototype._iaddn=function(c){this.words[0]+=c;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},s.prototype.isubn=function(c){if(n(typeof c=="number"),n(c<67108864),c<0)return this.iaddn(-c);if(this.negative!==0)return this.negative=0,this.iaddn(c),this.negative=1,this;if(this.words[0]-=c,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},s.prototype.addn=function(c){return this.clone().iaddn(c)},s.prototype.subn=function(c){return this.clone().isubn(c)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(c,d,y){var b=c.length+y,S;this._expand(b);var A,N=0;for(S=0;S<c.length;S++){A=(this.words[S+y]|0)+N;var _=(c.words[S]|0)*d;A-=_&67108863,N=(A>>26)-(_/67108864|0),this.words[S+y]=A&67108863}for(;S<this.length-y;S++)A=(this.words[S+y]|0)+N,N=A>>26,this.words[S+y]=A&67108863;if(N===0)return this._strip();for(n(N===-1),N=0,S=0;S<this.length;S++)A=-(this.words[S]|0)+N,N=A>>26,this.words[S]=A&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(c,d){var y=this.length-c.length,b=this.clone(),S=c,A=S.words[S.length-1]|0,N=this._countBits(A);y=26-N,y!==0&&(S=S.ushln(y),b.iushln(y),A=S.words[S.length-1]|0);var _=b.length-S.length,h;if(d!=="mod"){h=new s(null),h.length=_+1,h.words=new Array(h.length);for(var R=0;R<h.length;R++)h.words[R]=0}var K=b.clone()._ishlnsubmul(S,1,_);K.negative===0&&(b=K,h&&(h.words[_]=1));for(var J=_-1;J>=0;J--){var T=(b.words[S.length+J]|0)*67108864+(b.words[S.length+J-1]|0);for(T=Math.min(T/A|0,67108863),b._ishlnsubmul(S,T,J);b.negative!==0;)T--,b.negative=0,b._ishlnsubmul(S,1,J),b.isZero()||(b.negative^=1);h&&(h.words[J]=T)}return h&&h._strip(),b._strip(),d!=="div"&&y!==0&&b.iushrn(y),{div:h||null,mod:b}},s.prototype.divmod=function(c,d,y){if(n(!c.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var b,S,A;return this.negative!==0&&c.negative===0?(A=this.neg().divmod(c,d),d!=="mod"&&(b=A.div.neg()),d!=="div"&&(S=A.mod.neg(),y&&S.negative!==0&&S.iadd(c)),{div:b,mod:S}):this.negative===0&&c.negative!==0?(A=this.divmod(c.neg(),d),d!=="mod"&&(b=A.div.neg()),{div:b,mod:A.mod}):this.negative&c.negative?(A=this.neg().divmod(c.neg(),d),d!=="div"&&(S=A.mod.neg(),y&&S.negative!==0&&S.isub(c)),{div:A.div,mod:S}):c.length>this.length||this.cmp(c)<0?{div:new s(0),mod:this}:c.length===1?d==="div"?{div:this.divn(c.words[0]),mod:null}:d==="mod"?{div:null,mod:new s(this.modrn(c.words[0]))}:{div:this.divn(c.words[0]),mod:new s(this.modrn(c.words[0]))}:this._wordDiv(c,d)},s.prototype.div=function(c){return this.divmod(c,"div",!1).div},s.prototype.mod=function(c){return this.divmod(c,"mod",!1).mod},s.prototype.umod=function(c){return this.divmod(c,"mod",!0).mod},s.prototype.divRound=function(c){var d=this.divmod(c);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(c):d.mod,b=c.ushrn(1),S=c.andln(1),A=y.cmp(b);return A<0||S===1&&A===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},s.prototype.modrn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var y=(1<<26)%c,b=0,S=this.length-1;S>=0;S--)b=(y*b+(this.words[S]|0))%c;return d?-b:b},s.prototype.modn=function(c){return this.modrn(c)},s.prototype.idivn=function(c){var d=c<0;d&&(c=-c),n(c<=67108863);for(var y=0,b=this.length-1;b>=0;b--){var S=(this.words[b]|0)+y*67108864;this.words[b]=S/c|0,y=S%c}return this._strip(),d?this.ineg():this},s.prototype.divn=function(c){return this.clone().idivn(c)},s.prototype.egcd=function(c){n(c.negative===0),n(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var b=new s(1),S=new s(0),A=new s(0),N=new s(1),_=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++_;for(var h=y.clone(),R=d.clone();!d.isZero();){for(var K=0,J=1;!(d.words[0]&J)&&K<26;++K,J<<=1);if(K>0)for(d.iushrn(K);K-- >0;)(b.isOdd()||S.isOdd())&&(b.iadd(h),S.isub(R)),b.iushrn(1),S.iushrn(1);for(var T=0,$=1;!(y.words[0]&$)&&T<26;++T,$<<=1);if(T>0)for(y.iushrn(T);T-- >0;)(A.isOdd()||N.isOdd())&&(A.iadd(h),N.isub(R)),A.iushrn(1),N.iushrn(1);d.cmp(y)>=0?(d.isub(y),b.isub(A),S.isub(N)):(y.isub(d),A.isub(b),N.isub(S))}return{a:A,b:N,gcd:y.iushln(_)}},s.prototype._invmp=function(c){n(c.negative===0),n(!c.isZero());var d=this,y=c.clone();d.negative!==0?d=d.umod(c):d=d.clone();for(var b=new s(1),S=new s(0),A=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var N=0,_=1;!(d.words[0]&_)&&N<26;++N,_<<=1);if(N>0)for(d.iushrn(N);N-- >0;)b.isOdd()&&b.iadd(A),b.iushrn(1);for(var h=0,R=1;!(y.words[0]&R)&&h<26;++h,R<<=1);if(h>0)for(y.iushrn(h);h-- >0;)S.isOdd()&&S.iadd(A),S.iushrn(1);d.cmp(y)>=0?(d.isub(y),b.isub(S)):(y.isub(d),S.isub(b))}var K;return d.cmpn(1)===0?K=b:K=S,K.cmpn(0)<0&&K.iadd(c),K},s.prototype.gcd=function(c){if(this.isZero())return c.abs();if(c.isZero())return this.abs();var d=this.clone(),y=c.clone();d.negative=0,y.negative=0;for(var b=0;d.isEven()&&y.isEven();b++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var S=d.cmp(y);if(S<0){var A=d;d=y,y=A}else if(S===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(b)},s.prototype.invm=function(c){return this.egcd(c).a.umod(c)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(c){return this.words[0]&c},s.prototype.bincn=function(c){n(typeof c=="number");var d=c%26,y=(c-d)/26,b=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=b,this;for(var S=b,A=y;S!==0&&A<this.length;A++){var N=this.words[A]|0;N+=S,S=N>>>26,N&=67108863,this.words[A]=N}return S!==0&&(this.words[A]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(c){var d=c<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var y;if(this.length>1)y=1;else{d&&(c=-c),n(c<=67108863,"Number is too big");var b=this.words[0]|0;y=b===c?0:b<c?-1:1}return this.negative!==0?-y|0:y},s.prototype.cmp=function(c){if(this.negative!==0&&c.negative===0)return-1;if(this.negative===0&&c.negative!==0)return 1;var d=this.ucmp(c);return this.negative!==0?-d|0:d},s.prototype.ucmp=function(c){if(this.length>c.length)return 1;if(this.length<c.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var b=this.words[y]|0,S=c.words[y]|0;if(b!==S){b<S?d=-1:b>S&&(d=1);break}}return d},s.prototype.gtn=function(c){return this.cmpn(c)===1},s.prototype.gt=function(c){return this.cmp(c)===1},s.prototype.gten=function(c){return this.cmpn(c)>=0},s.prototype.gte=function(c){return this.cmp(c)>=0},s.prototype.ltn=function(c){return this.cmpn(c)===-1},s.prototype.lt=function(c){return this.cmp(c)===-1},s.prototype.lten=function(c){return this.cmpn(c)<=0},s.prototype.lte=function(c){return this.cmp(c)<=0},s.prototype.eqn=function(c){return this.cmpn(c)===0},s.prototype.eq=function(c){return this.cmp(c)===0},s.red=function(c){return new oe(c)},s.prototype.toRed=function(c){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),c.convertTo(this)._forceRed(c)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(c){return this.red=c,this},s.prototype.forceRed=function(c){return n(!this.red,"Already a number in reduction context"),this._forceRed(c)},s.prototype.redAdd=function(c){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,c)},s.prototype.redIAdd=function(c){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,c)},s.prototype.redSub=function(c){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,c)},s.prototype.redISub=function(c){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,c)},s.prototype.redShl=function(c){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,c)},s.prototype.redMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.mul(this,c)},s.prototype.redIMul=function(c){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,c),this.red.imul(this,c)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(c){return n(this.red&&!c.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,c)};var U={k256:null,p224:null,p192:null,p25519:null};function z(x,c){this.name=x,this.p=new s(c,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}z.prototype._tmp=function(){var c=new s(null);return c.words=new Array(Math.ceil(this.n/13)),c},z.prototype.ireduce=function(c){var d=c,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var b=y<this.n?-1:d.ucmp(this.p);return b===0?(d.words[0]=0,d.length=1):b>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},z.prototype.split=function(c,d){c.iushrn(this.n,0,d)},z.prototype.imulK=function(c){return c.imul(this.k)};function te(){z.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(te,z),te.prototype.split=function(c,d){for(var y=4194303,b=Math.min(c.length,9),S=0;S<b;S++)d.words[S]=c.words[S];if(d.length=b,c.length<=9){c.words[0]=0,c.length=1;return}var A=c.words[9];for(d.words[d.length++]=A&y,S=10;S<c.length;S++){var N=c.words[S]|0;c.words[S-10]=(N&y)<<4|A>>>22,A=N}A>>>=22,c.words[S-10]=A,A===0&&c.length>10?c.length-=10:c.length-=9},te.prototype.imulK=function(c){c.words[c.length]=0,c.words[c.length+1]=0,c.length+=2;for(var d=0,y=0;y<c.length;y++){var b=c.words[y]|0;d+=b*977,c.words[y]=d&67108863,d=b*64+(d/67108864|0)}return c.words[c.length-1]===0&&(c.length--,c.words[c.length-1]===0&&c.length--),c};function Q(){z.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(Q,z);function Y(){z.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,z);function de(){z.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(de,z),de.prototype.imulK=function(c){for(var d=0,y=0;y<c.length;y++){var b=(c.words[y]|0)*19+d,S=b&67108863;b>>>=26,c.words[y]=S,d=b}return d!==0&&(c.words[c.length++]=d),c},s._prime=function(c){if(U[c])return U[c];var d;if(c==="k256")d=new te;else if(c==="p224")d=new Q;else if(c==="p192")d=new Y;else if(c==="p25519")d=new de;else throw new Error("Unknown prime "+c);return U[c]=d,d};function oe(x){if(typeof x=="string"){var c=s._prime(x);this.m=c.p,this.prime=c}else n(x.gtn(1),"modulus must be greater than 1"),this.m=x,this.prime=null}oe.prototype._verify1=function(c){n(c.negative===0,"red works only with positives"),n(c.red,"red works only with red numbers")},oe.prototype._verify2=function(c,d){n((c.negative|d.negative)===0,"red works only with positives"),n(c.red&&c.red===d.red,"red works only with red numbers")},oe.prototype.imod=function(c){return this.prime?this.prime.ireduce(c)._forceRed(this):(p(c,c.umod(this.m)._forceRed(this)),c)},oe.prototype.neg=function(c){return c.isZero()?c.clone():this.m.sub(c)._forceRed(this)},oe.prototype.add=function(c,d){this._verify2(c,d);var y=c.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},oe.prototype.iadd=function(c,d){this._verify2(c,d);var y=c.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},oe.prototype.sub=function(c,d){this._verify2(c,d);var y=c.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},oe.prototype.isub=function(c,d){this._verify2(c,d);var y=c.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},oe.prototype.shl=function(c,d){return this._verify1(c),this.imod(c.ushln(d))},oe.prototype.imul=function(c,d){return this._verify2(c,d),this.imod(c.imul(d))},oe.prototype.mul=function(c,d){return this._verify2(c,d),this.imod(c.mul(d))},oe.prototype.isqr=function(c){return this.imul(c,c.clone())},oe.prototype.sqr=function(c){return this.mul(c,c)},oe.prototype.sqrt=function(c){if(c.isZero())return c.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var y=this.m.add(new s(1)).iushrn(2);return this.pow(c,y)}for(var b=this.m.subn(1),S=0;!b.isZero()&&b.andln(1)===0;)S++,b.iushrn(1);n(!b.isZero());var A=new s(1).toRed(this),N=A.redNeg(),_=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new s(2*h*h).toRed(this);this.pow(h,_).cmp(N)!==0;)h.redIAdd(N);for(var R=this.pow(h,b),K=this.pow(c,b.addn(1).iushrn(1)),J=this.pow(c,b),T=S;J.cmp(A)!==0;){for(var $=J,q=0;$.cmp(A)!==0;q++)$=$.redSqr();n(q<T);var Z=this.pow(R,new s(1).iushln(T-q-1));K=K.redMul(Z),R=Z.redSqr(),J=J.redMul(R),T=q}return K},oe.prototype.invm=function(c){var d=c._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},oe.prototype.pow=function(c,d){if(d.isZero())return new s(1).toRed(this);if(d.cmpn(1)===0)return c.clone();var y=4,b=new Array(1<<y);b[0]=new s(1).toRed(this),b[1]=c;for(var S=2;S<b.length;S++)b[S]=this.mul(b[S-1],c);var A=b[0],N=0,_=0,h=d.bitLength()%26;for(h===0&&(h=26),S=d.length-1;S>=0;S--){for(var R=d.words[S],K=h-1;K>=0;K--){var J=R>>K&1;if(A!==b[0]&&(A=this.sqr(A)),J===0&&N===0){_=0;continue}N<<=1,N|=J,_++,!(_!==y&&(S!==0||K!==0))&&(A=this.mul(A,b[N]),_=0,N=0)}h=26}return A},oe.prototype.convertTo=function(c){var d=c.umod(this.m);return d===c?d.clone():d},oe.prototype.convertFrom=function(c){var d=c.clone();return d.red=null,d},s.mont=function(c){return new pe(c)};function pe(x){oe.call(this,x),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(pe,oe),pe.prototype.convertTo=function(c){return this.imod(c.ushln(this.shift))},pe.prototype.convertFrom=function(c){var d=this.imod(c.mul(this.rinv));return d.red=null,d},pe.prototype.imul=function(c,d){if(c.isZero()||d.isZero())return c.words[0]=0,c.length=1,c;var y=c.imul(d),b=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(b).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},pe.prototype.mul=function(c,d){if(c.isZero()||d.isZero())return new s(0)._forceRed(this);var y=c.mul(d),b=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=y.isub(b).iushrn(this.shift),A=S;return S.cmp(this.m)>=0?A=S.isub(this.m):S.cmpn(0)<0&&(A=S.iadd(this.m)),A._forceRed(this)},pe.prototype.invm=function(c){var d=this.imod(c._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(e,ee)})(Zo);var Pi=Zo.exports,Cn={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0});Ut.errorValues=Ut.standardErrorCodes=void 0;Ut.standardErrorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}};Ut.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}};var Li={},Oi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.getErrorCode=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Ut,r="Unspecified error message.";e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function n(w,k=r){if(w&&Number.isInteger(w)){const j=w.toString();if(p(t.errorValues,j))return t.errorValues[j].message;if(l(w))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return k}e.getMessageFromCode=n;function i(w){if(!Number.isInteger(w))return!1;const k=w.toString();return!!(t.errorValues[k]||l(w))}e.isValidCode=i;function s(w){var k;if(typeof w=="number")return w;if(a(w))return(k=w.code)!==null&&k!==void 0?k:w.errorCode}e.getErrorCode=s;function a(w){return typeof w=="object"&&w!==null&&(typeof w.code=="number"||typeof w.errorCode=="number")}function o(w,{shouldIncludeStack:k=!1}={}){const j={};if(w&&typeof w=="object"&&!Array.isArray(w)&&p(w,"code")&&i(w.code)){const O=w;j.code=O.code,O.message&&typeof O.message=="string"?(j.message=O.message,p(O,"data")&&(j.data=O.data)):(j.message=n(j.code),j.data={originalError:g(w)})}else j.code=t.standardErrorCodes.rpc.internal,j.message=v(w,"message")?w.message:r,j.data={originalError:g(w)};return k&&(j.stack=v(w,"stack")?w.stack:void 0),j}e.serialize=o;function l(w){return w>=-32099&&w<=-32e3}function g(w){return w&&typeof w=="object"&&!Array.isArray(w)?Object.assign({},w):w}function p(w,k){return Object.prototype.hasOwnProperty.call(w,k)}function v(w,k){return typeof w=="object"&&w!==null&&k in w&&typeof w[k]=="string"}})(Oi);Object.defineProperty(Li,"__esModule",{value:!0});Li.standardErrors=void 0;const rt=Ut,Ul=Oi;Li.standardErrors={rpc:{parse:e=>gt(rt.standardErrorCodes.rpc.parse,e),invalidRequest:e=>gt(rt.standardErrorCodes.rpc.invalidRequest,e),invalidParams:e=>gt(rt.standardErrorCodes.rpc.invalidParams,e),methodNotFound:e=>gt(rt.standardErrorCodes.rpc.methodNotFound,e),internal:e=>gt(rt.standardErrorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return gt(t,e)},invalidInput:e=>gt(rt.standardErrorCodes.rpc.invalidInput,e),resourceNotFound:e=>gt(rt.standardErrorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>gt(rt.standardErrorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>gt(rt.standardErrorCodes.rpc.transactionRejected,e),methodNotSupported:e=>gt(rt.standardErrorCodes.rpc.methodNotSupported,e),limitExceeded:e=>gt(rt.standardErrorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>Pr(rt.standardErrorCodes.provider.userRejectedRequest,e),unauthorized:e=>Pr(rt.standardErrorCodes.provider.unauthorized,e),unsupportedMethod:e=>Pr(rt.standardErrorCodes.provider.unsupportedMethod,e),disconnected:e=>Pr(rt.standardErrorCodes.provider.disconnected,e),chainDisconnected:e=>Pr(rt.standardErrorCodes.provider.chainDisconnected,e),unsupportedChain:e=>Pr(rt.standardErrorCodes.provider.unsupportedChain,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new ql(t,r,n)}}};function gt(e,t){const[r,n]=Hl(t);return new Wl(e,r||(0,Ul.getMessageFromCode)(e),n)}function Pr(e,t){const[r,n]=Hl(t);return new ql(e,r||(0,Ul.getMessageFromCode)(e),n)}function Hl(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}let Wl=class extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}},ql=class extends Wl{constructor(t,r,n){if(!J0(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}};function J0(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}var $i={},on={};Object.defineProperty(on,"__esModule",{value:!0});on.isErrorResponse=void 0;function Z0(e){return e.errorMessage!==void 0}on.isErrorResponse=Z0;var an={};Object.defineProperty(an,"__esModule",{value:!0});an.LIB_VERSION=void 0;an.LIB_VERSION="3.9.3";Object.defineProperty($i,"__esModule",{value:!0});$i.serializeError=void 0;const K0=on,Y0=an,Q0=Ut,X0=Oi;function ep(e,t){const r=(0,X0.serialize)(tp(e),{shouldIncludeStack:!0}),n=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");n.searchParams.set("version",Y0.LIB_VERSION),n.searchParams.set("code",r.code.toString());const i=rp(r.data,t);return i&&n.searchParams.set("method",i),n.searchParams.set("message",r.message),Object.assign(Object.assign({},r),{docUrl:n.href})}$i.serializeError=ep;function tp(e){return typeof e=="string"?{message:e,code:Q0.standardErrorCodes.rpc.internal}:(0,K0.isErrorResponse)(e)?Object.assign(Object.assign({},e),{message:e.errorMessage,code:e.errorCode,data:{method:e.method}}):e}function rp(e,t){const r=e?.method;if(r)return r;if(t!==void 0){if(typeof t=="string")return t;if(Array.isArray(t)){if(t.length>0)return t[0].method}else return t.method}}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.standardErrors=e.standardErrorCodes=e.serializeError=e.getMessageFromCode=e.getErrorCode=void 0;const t=Ut;Object.defineProperty(e,"standardErrorCodes",{enumerable:!0,get:function(){return t.standardErrorCodes}});const r=Li;Object.defineProperty(e,"standardErrors",{enumerable:!0,get:function(){return r.standardErrors}});const n=$i;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return n.serializeError}});const i=Oi;Object.defineProperty(e,"getErrorCode",{enumerable:!0,get:function(){return i.getErrorCode}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return i.getMessageFromCode}})})(Cn);var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.ProviderType=Ke.RegExpString=Ke.IntNumber=Ke.BigIntString=Ke.AddressString=Ke.HexString=Ke.OpaqueType=void 0;function In(){return e=>e}Ke.OpaqueType=In;Ke.HexString=In();Ke.AddressString=In();Ke.BigIntString=In();function np(e){return Math.floor(e)}Ke.IntNumber=np;Ke.RegExpString=In();var Ka;(function(e){e.CoinbaseWallet="CoinbaseWallet",e.MetaMask="MetaMask",e.Unselected=""})(Ka||(Ke.ProviderType=Ka={}));var ip=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(X,"__esModule",{value:!0});X.isMobileWeb=X.getLocation=X.isInIFrame=X.createQrUrl=X.getFavicon=X.range=X.isBigNumber=X.ensureParsedJSONObject=X.ensureBN=X.ensureRegExpString=X.ensureIntNumber=X.ensureBuffer=X.ensureAddressString=X.ensureEvenLengthHexString=X.ensureHexString=X.isHexString=X.prepend0x=X.strip0x=X.has0xPrefix=X.hexStringFromIntNumber=X.intNumberFromHexString=X.bigIntStringFromBN=X.hexStringFromBuffer=X.hexStringToUint8Array=X.uint8ArrayToHex=X.randomBytesHex=void 0;const Vt=ip(Pi),Er=Cn,bt=Ke,Vl=/^[0-9]*$/,zl=/^[a-f0-9]*$/;function sp(e){return Gl(crypto.getRandomValues(new Uint8Array(e)))}X.randomBytesHex=sp;function Gl(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}X.uint8ArrayToHex=Gl;function op(e){return new Uint8Array(e.match(/.{1,2}/g).map(t=>parseInt(t,16)))}X.hexStringToUint8Array=op;function ap(e,t=!1){const r=e.toString("hex");return(0,bt.HexString)(t?`0x${r}`:r)}X.hexStringFromBuffer=ap;function cp(e){return(0,bt.BigIntString)(e.toString(10))}X.bigIntStringFromBN=cp;function lp(e){return(0,bt.IntNumber)(new Vt.default(xn(e,!1),16).toNumber())}X.intNumberFromHexString=lp;function up(e){return(0,bt.HexString)(`0x${new Vt.default(e).toString(16)}`)}X.hexStringFromIntNumber=up;function Yo(e){return e.startsWith("0x")||e.startsWith("0X")}X.has0xPrefix=Yo;function Fi(e){return Yo(e)?e.slice(2):e}X.strip0x=Fi;function Jl(e){return Yo(e)?`0x${e.slice(2)}`:`0x${e}`}X.prepend0x=Jl;function An(e){if(typeof e!="string")return!1;const t=Fi(e).toLowerCase();return zl.test(t)}X.isHexString=An;function Zl(e,t=!1){if(typeof e=="string"){const r=Fi(e).toLowerCase();if(zl.test(r))return(0,bt.HexString)(t?`0x${r}`:r)}throw Er.standardErrors.rpc.invalidParams(`"${String(e)}" is not a hexadecimal string`)}X.ensureHexString=Zl;function xn(e,t=!1){let r=Zl(e,!1);return r.length%2===1&&(r=(0,bt.HexString)(`0${r}`)),t?(0,bt.HexString)(`0x${r}`):r}X.ensureEvenLengthHexString=xn;function hp(e){if(typeof e=="string"){const t=Fi(e).toLowerCase();if(An(t)&&t.length===40)return(0,bt.AddressString)(Jl(t))}throw Er.standardErrors.rpc.invalidParams(`Invalid Ethereum address: ${String(e)}`)}X.ensureAddressString=hp;function fp(e){if(Buffer.isBuffer(e))return e;if(typeof e=="string"){if(An(e)){const t=xn(e,!1);return Buffer.from(t,"hex")}return Buffer.from(e,"utf8")}throw Er.standardErrors.rpc.invalidParams(`Not binary data: ${String(e)}`)}X.ensureBuffer=fp;function Kl(e){if(typeof e=="number"&&Number.isInteger(e))return(0,bt.IntNumber)(e);if(typeof e=="string"){if(Vl.test(e))return(0,bt.IntNumber)(Number(e));if(An(e))return(0,bt.IntNumber)(new Vt.default(xn(e,!1),16).toNumber())}throw Er.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}X.ensureIntNumber=Kl;function dp(e){if(e instanceof RegExp)return(0,bt.RegExpString)(e.toString());throw Er.standardErrors.rpc.invalidParams(`Not a RegExp: ${String(e)}`)}X.ensureRegExpString=dp;function pp(e){if(e!==null&&(Vt.default.isBN(e)||Yl(e)))return new Vt.default(e.toString(10),10);if(typeof e=="number")return new Vt.default(Kl(e));if(typeof e=="string"){if(Vl.test(e))return new Vt.default(e,10);if(An(e))return new Vt.default(xn(e,!1),16)}throw Er.standardErrors.rpc.invalidParams(`Not an integer: ${String(e)}`)}X.ensureBN=pp;function gp(e){if(typeof e=="string")return JSON.parse(e);if(typeof e=="object")return e;throw Er.standardErrors.rpc.invalidParams(`Not a JSON string or an object: ${String(e)}`)}X.ensureParsedJSONObject=gp;function Yl(e){if(e==null||typeof e.constructor!="function")return!1;const{constructor:t}=e;return typeof t.config=="function"&&typeof t.EUCLID=="number"}X.isBigNumber=Yl;function mp(e,t){return Array.from({length:t-e},(r,n)=>e+n)}X.range=mp;function yp(){const e=document.querySelector('link[sizes="192x192"]')||document.querySelector('link[sizes="180x180"]')||document.querySelector('link[rel="icon"]')||document.querySelector('link[rel="shortcut icon"]'),{protocol:t,host:r}=document.location,n=e?e.getAttribute("href"):null;return!n||n.startsWith("javascript:")||n.startsWith("vbscript:")?null:n.startsWith("http://")||n.startsWith("https://")||n.startsWith("data:")?n:n.startsWith("//")?t+n:`${t}//${r}${n}`}X.getFavicon=yp;function vp(e,t,r,n,i,s){const a=n?"parent-id":"id",o=new URLSearchParams({[a]:e,secret:t,server:r,v:i,chainId:s.toString()}).toString();return`${r}/#/link?${o}`}X.createQrUrl=vp;function Ql(){try{return window.frameElement!==null}catch{return!1}}X.isInIFrame=Ql;function wp(){try{return Ql()&&window.top?window.top.location:window.location}catch{return window.location}}X.getLocation=wp;function bp(){var e;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((e=window?.navigator)===null||e===void 0?void 0:e.userAgent)}X.isMobileWeb=bp;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.ScopedLocalStorage=void 0;class _p{constructor(t){this.scope=t}setItem(t,r){localStorage.setItem(this.scopedKey(t),r)}getItem(t){return localStorage.getItem(this.scopedKey(t))}removeItem(t){localStorage.removeItem(this.scopedKey(t))}clear(){const t=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(t)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(t){return`${this.scope}:${t}`}}Di.ScopedLocalStorage=_p;var Zr={};const Ep=nn(Vh);var kn={},Tn={},cn={};Object.defineProperty(cn,"__esModule",{value:!0});cn.EVENTS=void 0;cn.EVENTS={STARTED_CONNECTING:"walletlink_sdk.started.connecting",CONNECTED_STATE_CHANGE:"walletlink_sdk.connected",DISCONNECTED:"walletlink_sdk.disconnected",METADATA_DESTROYED:"walletlink_sdk_metadata_destroyed",LINKED:"walletlink_sdk.linked",FAILURE:"walletlink_sdk.generic_failure",SESSION_CONFIG_RECEIVED:"walletlink_sdk.session_config_event_received",ETH_ACCOUNTS_STATE:"walletlink_sdk.eth_accounts_state",SESSION_STATE_CHANGE:"walletlink_sdk.session_state_change",UNLINKED_ERROR_STATE:"walletlink_sdk.unlinked_error_state",SKIPPED_CLEARING_SESSION:"walletlink_sdk.skipped_clearing_session",GENERAL_ERROR:"walletlink_sdk.general_error",WEB3_REQUEST:"walletlink_sdk.web3.request",WEB3_REQUEST_PUBLISHED:"walletlink_sdk.web3.request_published",WEB3_RESPONSE:"walletlink_sdk.web3.response",METHOD_NOT_IMPLEMENTED:"walletlink_sdk.method_not_implemented",UNKNOWN_ADDRESS_ENCOUNTERED:"walletlink_sdk.unknown_address_encountered"};var wt={};Object.defineProperty(wt,"__esModule",{value:!0});wt.RelayAbstract=wt.APP_VERSION_KEY=wt.LOCAL_STORAGE_ADDRESSES_KEY=wt.WALLET_USER_NAME_KEY=void 0;const Ya=Cn;wt.WALLET_USER_NAME_KEY="walletUsername";wt.LOCAL_STORAGE_ADDRESSES_KEY="Addresses";wt.APP_VERSION_KEY="AppVersion";class Sp{async makeEthereumJSONRPCRequest(t,r){if(!r)throw new Error("Error: No jsonRpcUrl provided");return window.fetch(r,{method:"POST",body:JSON.stringify(t),mode:"cors",headers:{"Content-Type":"application/json"}}).then(n=>n.json()).then(n=>{if(!n)throw Ya.standardErrors.rpc.parse({});const i=n,{error:s}=i;if(s)throw(0,Ya.serializeError)(s,t.method);return i})}}wt.RelayAbstract=Sp;var ln={},Xl={exports:{}},No={exports:{}};typeof Object.create=="function"?No.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:No.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}};var At=No.exports,Po={exports:{}},un={},ji={};ji.byteLength=Cp;ji.toByteArray=Ap;ji.fromByteArray=Tp;var Pt=[],vt=[],Rp=typeof Uint8Array<"u"?Uint8Array:Array,$s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Lr=0,Mp=$s.length;Lr<Mp;++Lr)Pt[Lr]=$s[Lr],vt[$s.charCodeAt(Lr)]=Lr;vt["-".charCodeAt(0)]=62;vt["_".charCodeAt(0)]=63;function eu(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function Cp(e){var t=eu(e),r=t[0],n=t[1];return(r+n)*3/4-n}function Ip(e,t,r){return(t+r)*3/4-r}function Ap(e){var t,r=eu(e),n=r[0],i=r[1],s=new Rp(Ip(e,n,i)),a=0,o=i>0?n-4:n,l;for(l=0;l<o;l+=4)t=vt[e.charCodeAt(l)]<<18|vt[e.charCodeAt(l+1)]<<12|vt[e.charCodeAt(l+2)]<<6|vt[e.charCodeAt(l+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=t&255;return i===2&&(t=vt[e.charCodeAt(l)]<<2|vt[e.charCodeAt(l+1)]>>4,s[a++]=t&255),i===1&&(t=vt[e.charCodeAt(l)]<<10|vt[e.charCodeAt(l+1)]<<4|vt[e.charCodeAt(l+2)]>>2,s[a++]=t>>8&255,s[a++]=t&255),s}function xp(e){return Pt[e>>18&63]+Pt[e>>12&63]+Pt[e>>6&63]+Pt[e&63]}function kp(e,t,r){for(var n,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(xp(n));return i.join("")}function Tp(e){for(var t,r=e.length,n=r%3,i=[],s=16383,a=0,o=r-n;a<o;a+=s)i.push(kp(e,a,a+s>o?o:a+s));return n===1?(t=e[r-1],i.push(Pt[t>>2]+Pt[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Pt[t>>10]+Pt[t>>4&63]+Pt[t<<2&63]+"=")),i.join("")}var Qo={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Qo.read=function(e,t,r,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,g=l>>1,p=-7,v=r?i-1:0,w=r?-1:1,k=e[t+v];for(v+=w,s=k&(1<<-p)-1,k>>=-p,p+=o;p>0;s=s*256+e[t+v],v+=w,p-=8);for(a=s&(1<<-p)-1,s>>=-p,p+=n;p>0;a=a*256+e[t+v],v+=w,p-=8);if(s===0)s=1-g;else{if(s===l)return a?NaN:(k?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-g}return(k?-1:1)*a*Math.pow(2,s-n)};Qo.write=function(e,t,r,n,i,s){var a,o,l,g=s*8-i-1,p=(1<<g)-1,v=p>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:s-1,j=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,a=p):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+v>=1?t+=w/l:t+=w*Math.pow(2,1-v),t*l>=2&&(a++,l/=2),a+v>=p?(o=0,a=p):a+v>=1?(o=(t*l-1)*Math.pow(2,i),a=a+v):(o=t*Math.pow(2,v-1)*Math.pow(2,i),a=0));i>=8;e[r+k]=o&255,k+=j,o/=256,i-=8);for(a=a<<i|o,g+=i;g>0;e[r+k]=a&255,k+=j,a/=256,g-=8);e[r+k-j]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=ji,r=Qo,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=o,e.SlowBuffer=P,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const m=new Uint8Array(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,Uint8Array.prototype),Object.setPrototypeOf(m,u),m.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(m){if(m>i)throw new RangeError('The value "'+m+'" is invalid for option "size"');const u=new Uint8Array(m);return Object.setPrototypeOf(u,o.prototype),u}function o(m,u,f){if(typeof m=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(m)}return l(m,u,f)}o.poolSize=8192;function l(m,u,f){if(typeof m=="string")return w(m,u);if(ArrayBuffer.isView(m))return j(m);if(m==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m);if(Ze(m,ArrayBuffer)||m&&Ze(m.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ze(m,SharedArrayBuffer)||m&&Ze(m.buffer,SharedArrayBuffer)))return O(m,u,f);if(typeof m=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const E=m.valueOf&&m.valueOf();if(E!=null&&E!==m)return o.from(E,u,f);const L=D(m);if(L)return L;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof m[Symbol.toPrimitive]=="function")return o.from(m[Symbol.toPrimitive]("string"),u,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof m)}o.from=function(m,u,f){return l(m,u,f)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function g(m){if(typeof m!="number")throw new TypeError('"size" argument must be of type number');if(m<0)throw new RangeError('The value "'+m+'" is invalid for option "size"')}function p(m,u,f){return g(m),m<=0?a(m):u!==void 0?typeof f=="string"?a(m).fill(u,f):a(m).fill(u):a(m)}o.alloc=function(m,u,f){return p(m,u,f)};function v(m){return g(m),a(m<0?0:I(m)|0)}o.allocUnsafe=function(m){return v(m)},o.allocUnsafeSlow=function(m){return v(m)};function w(m,u){if((typeof u!="string"||u==="")&&(u="utf8"),!o.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const f=B(m,u)|0;let E=a(f);const L=E.write(m,u);return L!==f&&(E=E.slice(0,L)),E}function k(m){const u=m.length<0?0:I(m.length)|0,f=a(u);for(let E=0;E<u;E+=1)f[E]=m[E]&255;return f}function j(m){if(Ze(m,Uint8Array)){const u=new Uint8Array(m);return O(u.buffer,u.byteOffset,u.byteLength)}return k(m)}function O(m,u,f){if(u<0||m.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(m.byteLength<u+(f||0))throw new RangeError('"length" is outside of buffer bounds');let E;return u===void 0&&f===void 0?E=new Uint8Array(m):f===void 0?E=new Uint8Array(m,u):E=new Uint8Array(m,u,f),Object.setPrototypeOf(E,o.prototype),E}function D(m){if(o.isBuffer(m)){const u=I(m.length)|0,f=a(u);return f.length===0||m.copy(f,0,0,u),f}if(m.length!==void 0)return typeof m.length!="number"||_e(m.length)?a(0):k(m);if(m.type==="Buffer"&&Array.isArray(m.data))return k(m.data)}function I(m){if(m>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return m|0}function P(m){return+m!=m&&(m=0),o.alloc(+m)}o.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==o.prototype},o.compare=function(u,f){if(Ze(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),Ze(f,Uint8Array)&&(f=o.from(f,f.offset,f.byteLength)),!o.isBuffer(u)||!o.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===f)return 0;let E=u.length,L=f.length;for(let F=0,H=Math.min(E,L);F<H;++F)if(u[F]!==f[F]){E=u[F],L=f[F];break}return E<L?-1:L<E?1:0},o.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(u,f){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return o.alloc(0);let E;if(f===void 0)for(f=0,E=0;E<u.length;++E)f+=u[E].length;const L=o.allocUnsafe(f);let F=0;for(E=0;E<u.length;++E){let H=u[E];if(Ze(H,Uint8Array))F+H.length>L.length?(o.isBuffer(H)||(H=o.from(H)),H.copy(L,F)):Uint8Array.prototype.set.call(L,H,F);else if(o.isBuffer(H))H.copy(L,F);else throw new TypeError('"list" argument must be an Array of Buffers');F+=H.length}return L};function B(m,u){if(o.isBuffer(m))return m.length;if(ArrayBuffer.isView(m)||Ze(m,ArrayBuffer))return m.byteLength;if(typeof m!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof m);const f=m.length,E=arguments.length>2&&arguments[2]===!0;if(!E&&f===0)return 0;let L=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return re(m).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return Re(m).length;default:if(L)return E?-1:re(m).length;u=(""+u).toLowerCase(),L=!0}}o.byteLength=B;function W(m,u,f){let E=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,u>>>=0,f<=u))return"";for(m||(m="utf8");;)switch(m){case"hex":return A(this,u,f);case"utf8":case"utf-8":return c(this,u,f);case"ascii":return b(this,u,f);case"latin1":case"binary":return S(this,u,f);case"base64":return x(this,u,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,u,f);default:if(E)throw new TypeError("Unknown encoding: "+m);m=(m+"").toLowerCase(),E=!0}}o.prototype._isBuffer=!0;function U(m,u,f){const E=m[u];m[u]=m[f],m[f]=E}o.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<u;f+=2)U(this,f,f+1);return this},o.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<u;f+=4)U(this,f,f+3),U(this,f+1,f+2);return this},o.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<u;f+=8)U(this,f,f+7),U(this,f+1,f+6),U(this,f+2,f+5),U(this,f+3,f+4);return this},o.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?c(this,0,u):W.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(u){if(!o.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:o.compare(this,u)===0},o.prototype.inspect=function(){let u="";const f=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(u+=" ... "),"<Buffer "+u+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(u,f,E,L,F){if(Ze(u,Uint8Array)&&(u=o.from(u,u.offset,u.byteLength)),!o.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(f===void 0&&(f=0),E===void 0&&(E=u?u.length:0),L===void 0&&(L=0),F===void 0&&(F=this.length),f<0||E>u.length||L<0||F>this.length)throw new RangeError("out of range index");if(L>=F&&f>=E)return 0;if(L>=F)return-1;if(f>=E)return 1;if(f>>>=0,E>>>=0,L>>>=0,F>>>=0,this===u)return 0;let H=F-L,ce=E-f;const ae=Math.min(H,ce),ie=this.slice(L,F),Ce=u.slice(f,E);for(let ne=0;ne<ae;++ne)if(ie[ne]!==Ce[ne]){H=ie[ne],ce=Ce[ne];break}return H<ce?-1:ce<H?1:0};function z(m,u,f,E,L){if(m.length===0)return-1;if(typeof f=="string"?(E=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,_e(f)&&(f=L?0:m.length-1),f<0&&(f=m.length+f),f>=m.length){if(L)return-1;f=m.length-1}else if(f<0)if(L)f=0;else return-1;if(typeof u=="string"&&(u=o.from(u,E)),o.isBuffer(u))return u.length===0?-1:te(m,u,f,E,L);if(typeof u=="number")return u=u&255,typeof Uint8Array.prototype.indexOf=="function"?L?Uint8Array.prototype.indexOf.call(m,u,f):Uint8Array.prototype.lastIndexOf.call(m,u,f):te(m,[u],f,E,L);throw new TypeError("val must be string, number or Buffer")}function te(m,u,f,E,L){let F=1,H=m.length,ce=u.length;if(E!==void 0&&(E=String(E).toLowerCase(),E==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(m.length<2||u.length<2)return-1;F=2,H/=2,ce/=2,f/=2}function ae(Ce,ne){return F===1?Ce[ne]:Ce.readUInt16BE(ne*F)}let ie;if(L){let Ce=-1;for(ie=f;ie<H;ie++)if(ae(m,ie)===ae(u,Ce===-1?0:ie-Ce)){if(Ce===-1&&(Ce=ie),ie-Ce+1===ce)return Ce*F}else Ce!==-1&&(ie-=ie-Ce),Ce=-1}else for(f+ce>H&&(f=H-ce),ie=f;ie>=0;ie--){let Ce=!0;for(let ne=0;ne<ce;ne++)if(ae(m,ie+ne)!==ae(u,ne)){Ce=!1;break}if(Ce)return ie}return-1}o.prototype.includes=function(u,f,E){return this.indexOf(u,f,E)!==-1},o.prototype.indexOf=function(u,f,E){return z(this,u,f,E,!0)},o.prototype.lastIndexOf=function(u,f,E){return z(this,u,f,E,!1)};function Q(m,u,f,E){f=Number(f)||0;const L=m.length-f;E?(E=Number(E),E>L&&(E=L)):E=L;const F=u.length;E>F/2&&(E=F/2);let H;for(H=0;H<E;++H){const ce=parseInt(u.substr(H*2,2),16);if(_e(ce))return H;m[f+H]=ce}return H}function Y(m,u,f,E){return Se(re(u,m.length-f),m,f,E)}function de(m,u,f,E){return Se(be(u),m,f,E)}function oe(m,u,f,E){return Se(Re(u),m,f,E)}function pe(m,u,f,E){return Se(pt(u,m.length-f),m,f,E)}o.prototype.write=function(u,f,E,L){if(f===void 0)L="utf8",E=this.length,f=0;else if(E===void 0&&typeof f=="string")L=f,E=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(E)?(E=E>>>0,L===void 0&&(L="utf8")):(L=E,E=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const F=this.length-f;if((E===void 0||E>F)&&(E=F),u.length>0&&(E<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");L||(L="utf8");let H=!1;for(;;)switch(L){case"hex":return Q(this,u,f,E);case"utf8":case"utf-8":return Y(this,u,f,E);case"ascii":case"latin1":case"binary":return de(this,u,f,E);case"base64":return oe(this,u,f,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,u,f,E);default:if(H)throw new TypeError("Unknown encoding: "+L);L=(""+L).toLowerCase(),H=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(m,u,f){return u===0&&f===m.length?t.fromByteArray(m):t.fromByteArray(m.slice(u,f))}function c(m,u,f){f=Math.min(m.length,f);const E=[];let L=u;for(;L<f;){const F=m[L];let H=null,ce=F>239?4:F>223?3:F>191?2:1;if(L+ce<=f){let ae,ie,Ce,ne;switch(ce){case 1:F<128&&(H=F);break;case 2:ae=m[L+1],(ae&192)===128&&(ne=(F&31)<<6|ae&63,ne>127&&(H=ne));break;case 3:ae=m[L+1],ie=m[L+2],(ae&192)===128&&(ie&192)===128&&(ne=(F&15)<<12|(ae&63)<<6|ie&63,ne>2047&&(ne<55296||ne>57343)&&(H=ne));break;case 4:ae=m[L+1],ie=m[L+2],Ce=m[L+3],(ae&192)===128&&(ie&192)===128&&(Ce&192)===128&&(ne=(F&15)<<18|(ae&63)<<12|(ie&63)<<6|Ce&63,ne>65535&&ne<1114112&&(H=ne))}}H===null?(H=65533,ce=1):H>65535&&(H-=65536,E.push(H>>>10&1023|55296),H=56320|H&1023),E.push(H),L+=ce}return y(E)}const d=4096;function y(m){const u=m.length;if(u<=d)return String.fromCharCode.apply(String,m);let f="",E=0;for(;E<u;)f+=String.fromCharCode.apply(String,m.slice(E,E+=d));return f}function b(m,u,f){let E="";f=Math.min(m.length,f);for(let L=u;L<f;++L)E+=String.fromCharCode(m[L]&127);return E}function S(m,u,f){let E="";f=Math.min(m.length,f);for(let L=u;L<f;++L)E+=String.fromCharCode(m[L]);return E}function A(m,u,f){const E=m.length;(!u||u<0)&&(u=0),(!f||f<0||f>E)&&(f=E);let L="";for(let F=u;F<f;++F)L+=Me[m[F]];return L}function N(m,u,f){const E=m.slice(u,f);let L="";for(let F=0;F<E.length-1;F+=2)L+=String.fromCharCode(E[F]+E[F+1]*256);return L}o.prototype.slice=function(u,f){const E=this.length;u=~~u,f=f===void 0?E:~~f,u<0?(u+=E,u<0&&(u=0)):u>E&&(u=E),f<0?(f+=E,f<0&&(f=0)):f>E&&(f=E),f<u&&(f=u);const L=this.subarray(u,f);return Object.setPrototypeOf(L,o.prototype),L};function _(m,u,f){if(m%1!==0||m<0)throw new RangeError("offset is not uint");if(m+u>f)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(u,f,E){u=u>>>0,f=f>>>0,E||_(u,f,this.length);let L=this[u],F=1,H=0;for(;++H<f&&(F*=256);)L+=this[u+H]*F;return L},o.prototype.readUintBE=o.prototype.readUIntBE=function(u,f,E){u=u>>>0,f=f>>>0,E||_(u,f,this.length);let L=this[u+--f],F=1;for(;f>0&&(F*=256);)L+=this[u+--f]*F;return L},o.prototype.readUint8=o.prototype.readUInt8=function(u,f){return u=u>>>0,f||_(u,1,this.length),this[u]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(u,f){return u=u>>>0,f||_(u,2,this.length),this[u]|this[u+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(u,f){return u=u>>>0,f||_(u,2,this.length),this[u]<<8|this[u+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(u,f){return u=u>>>0,f||_(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(u,f){return u=u>>>0,f||_(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},o.prototype.readBigUInt64LE=Qe(function(u){u=u>>>0,V(u,"offset");const f=this[u],E=this[u+7];(f===void 0||E===void 0)&&G(u,this.length-8);const L=f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,F=this[++u]+this[++u]*2**8+this[++u]*2**16+E*2**24;return BigInt(L)+(BigInt(F)<<BigInt(32))}),o.prototype.readBigUInt64BE=Qe(function(u){u=u>>>0,V(u,"offset");const f=this[u],E=this[u+7];(f===void 0||E===void 0)&&G(u,this.length-8);const L=f*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],F=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+E;return(BigInt(L)<<BigInt(32))+BigInt(F)}),o.prototype.readIntLE=function(u,f,E){u=u>>>0,f=f>>>0,E||_(u,f,this.length);let L=this[u],F=1,H=0;for(;++H<f&&(F*=256);)L+=this[u+H]*F;return F*=128,L>=F&&(L-=Math.pow(2,8*f)),L},o.prototype.readIntBE=function(u,f,E){u=u>>>0,f=f>>>0,E||_(u,f,this.length);let L=f,F=1,H=this[u+--L];for(;L>0&&(F*=256);)H+=this[u+--L]*F;return F*=128,H>=F&&(H-=Math.pow(2,8*f)),H},o.prototype.readInt8=function(u,f){return u=u>>>0,f||_(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},o.prototype.readInt16LE=function(u,f){u=u>>>0,f||_(u,2,this.length);const E=this[u]|this[u+1]<<8;return E&32768?E|4294901760:E},o.prototype.readInt16BE=function(u,f){u=u>>>0,f||_(u,2,this.length);const E=this[u+1]|this[u]<<8;return E&32768?E|4294901760:E},o.prototype.readInt32LE=function(u,f){return u=u>>>0,f||_(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},o.prototype.readInt32BE=function(u,f){return u=u>>>0,f||_(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},o.prototype.readBigInt64LE=Qe(function(u){u=u>>>0,V(u,"offset");const f=this[u],E=this[u+7];(f===void 0||E===void 0)&&G(u,this.length-8);const L=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(E<<24);return(BigInt(L)<<BigInt(32))+BigInt(f+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),o.prototype.readBigInt64BE=Qe(function(u){u=u>>>0,V(u,"offset");const f=this[u],E=this[u+7];(f===void 0||E===void 0)&&G(u,this.length-8);const L=(f<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(L)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+E)}),o.prototype.readFloatLE=function(u,f){return u=u>>>0,f||_(u,4,this.length),r.read(this,u,!0,23,4)},o.prototype.readFloatBE=function(u,f){return u=u>>>0,f||_(u,4,this.length),r.read(this,u,!1,23,4)},o.prototype.readDoubleLE=function(u,f){return u=u>>>0,f||_(u,8,this.length),r.read(this,u,!0,52,8)},o.prototype.readDoubleBE=function(u,f){return u=u>>>0,f||_(u,8,this.length),r.read(this,u,!1,52,8)};function h(m,u,f,E,L,F){if(!o.isBuffer(m))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>L||u<F)throw new RangeError('"value" argument is out of bounds');if(f+E>m.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(u,f,E,L){if(u=+u,f=f>>>0,E=E>>>0,!L){const ce=Math.pow(2,8*E)-1;h(this,u,f,E,ce,0)}let F=1,H=0;for(this[f]=u&255;++H<E&&(F*=256);)this[f+H]=u/F&255;return f+E},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(u,f,E,L){if(u=+u,f=f>>>0,E=E>>>0,!L){const ce=Math.pow(2,8*E)-1;h(this,u,f,E,ce,0)}let F=E-1,H=1;for(this[f+F]=u&255;--F>=0&&(H*=256);)this[f+F]=u/H&255;return f+E},o.prototype.writeUint8=o.prototype.writeUInt8=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,1,255,0),this[f]=u&255,f+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,2,65535,0),this[f]=u&255,this[f+1]=u>>>8,f+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,2,65535,0),this[f]=u>>>8,this[f+1]=u&255,f+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,4,4294967295,0),this[f+3]=u>>>24,this[f+2]=u>>>16,this[f+1]=u>>>8,this[f]=u&255,f+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,4,4294967295,0),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4};function R(m,u,f,E,L){C(u,E,L,m,f,7);let F=Number(u&BigInt(4294967295));m[f++]=F,F=F>>8,m[f++]=F,F=F>>8,m[f++]=F,F=F>>8,m[f++]=F;let H=Number(u>>BigInt(32)&BigInt(4294967295));return m[f++]=H,H=H>>8,m[f++]=H,H=H>>8,m[f++]=H,H=H>>8,m[f++]=H,f}function K(m,u,f,E,L){C(u,E,L,m,f,7);let F=Number(u&BigInt(4294967295));m[f+7]=F,F=F>>8,m[f+6]=F,F=F>>8,m[f+5]=F,F=F>>8,m[f+4]=F;let H=Number(u>>BigInt(32)&BigInt(4294967295));return m[f+3]=H,H=H>>8,m[f+2]=H,H=H>>8,m[f+1]=H,H=H>>8,m[f]=H,f+8}o.prototype.writeBigUInt64LE=Qe(function(u,f=0){return R(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Qe(function(u,f=0){return K(this,u,f,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(u,f,E,L){if(u=+u,f=f>>>0,!L){const ae=Math.pow(2,8*E-1);h(this,u,f,E,ae-1,-ae)}let F=0,H=1,ce=0;for(this[f]=u&255;++F<E&&(H*=256);)u<0&&ce===0&&this[f+F-1]!==0&&(ce=1),this[f+F]=(u/H>>0)-ce&255;return f+E},o.prototype.writeIntBE=function(u,f,E,L){if(u=+u,f=f>>>0,!L){const ae=Math.pow(2,8*E-1);h(this,u,f,E,ae-1,-ae)}let F=E-1,H=1,ce=0;for(this[f+F]=u&255;--F>=0&&(H*=256);)u<0&&ce===0&&this[f+F+1]!==0&&(ce=1),this[f+F]=(u/H>>0)-ce&255;return f+E},o.prototype.writeInt8=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,1,127,-128),u<0&&(u=255+u+1),this[f]=u&255,f+1},o.prototype.writeInt16LE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,2,32767,-32768),this[f]=u&255,this[f+1]=u>>>8,f+2},o.prototype.writeInt16BE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,2,32767,-32768),this[f]=u>>>8,this[f+1]=u&255,f+2},o.prototype.writeInt32LE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,4,2147483647,-2147483648),this[f]=u&255,this[f+1]=u>>>8,this[f+2]=u>>>16,this[f+3]=u>>>24,f+4},o.prototype.writeInt32BE=function(u,f,E){return u=+u,f=f>>>0,E||h(this,u,f,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[f]=u>>>24,this[f+1]=u>>>16,this[f+2]=u>>>8,this[f+3]=u&255,f+4},o.prototype.writeBigInt64LE=Qe(function(u,f=0){return R(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Qe(function(u,f=0){return K(this,u,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(m,u,f,E,L,F){if(f+E>m.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function T(m,u,f,E,L){return u=+u,f=f>>>0,L||J(m,u,f,4),r.write(m,u,f,E,23,4),f+4}o.prototype.writeFloatLE=function(u,f,E){return T(this,u,f,!0,E)},o.prototype.writeFloatBE=function(u,f,E){return T(this,u,f,!1,E)};function $(m,u,f,E,L){return u=+u,f=f>>>0,L||J(m,u,f,8),r.write(m,u,f,E,52,8),f+8}o.prototype.writeDoubleLE=function(u,f,E){return $(this,u,f,!0,E)},o.prototype.writeDoubleBE=function(u,f,E){return $(this,u,f,!1,E)},o.prototype.copy=function(u,f,E,L){if(!o.isBuffer(u))throw new TypeError("argument should be a Buffer");if(E||(E=0),!L&&L!==0&&(L=this.length),f>=u.length&&(f=u.length),f||(f=0),L>0&&L<E&&(L=E),L===E||u.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("sourceEnd out of bounds");L>this.length&&(L=this.length),u.length-f<L-E&&(L=u.length-f+E);const F=L-E;return this===u&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,E,L):Uint8Array.prototype.set.call(u,this.subarray(E,L),f),F},o.prototype.fill=function(u,f,E,L){if(typeof u=="string"){if(typeof f=="string"?(L=f,f=0,E=this.length):typeof E=="string"&&(L=E,E=this.length),L!==void 0&&typeof L!="string")throw new TypeError("encoding must be a string");if(typeof L=="string"&&!o.isEncoding(L))throw new TypeError("Unknown encoding: "+L);if(u.length===1){const H=u.charCodeAt(0);(L==="utf8"&&H<128||L==="latin1")&&(u=H)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(f<0||this.length<f||this.length<E)throw new RangeError("Out of range index");if(E<=f)return this;f=f>>>0,E=E===void 0?this.length:E>>>0,u||(u=0);let F;if(typeof u=="number")for(F=f;F<E;++F)this[F]=u;else{const H=o.isBuffer(u)?u:o.from(u,L),ce=H.length;if(ce===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(F=0;F<E-f;++F)this[F+f]=H[F%ce]}return this};const q={};function Z(m,u,f){q[m]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${m}]`,this.stack,delete this.name}get code(){return m}set code(L){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:L,writable:!0})}toString(){return`${this.name} [${m}]: ${this.message}`}}}Z("ERR_BUFFER_OUT_OF_BOUNDS",function(m){return m?`${m} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Z("ERR_INVALID_ARG_TYPE",function(m,u){return`The "${m}" argument must be of type number. Received type ${typeof u}`},TypeError),Z("ERR_OUT_OF_RANGE",function(m,u,f){let E=`The value of "${m}" is out of range.`,L=f;return Number.isInteger(f)&&Math.abs(f)>2**32?L=ue(String(f)):typeof f=="bigint"&&(L=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(L=ue(L)),L+="n"),E+=` It must be ${u}. Received ${L}`,E},RangeError);function ue(m){let u="",f=m.length;const E=m[0]==="-"?1:0;for(;f>=E+4;f-=3)u=`_${m.slice(f-3,f)}${u}`;return`${m.slice(0,f)}${u}`}function M(m,u,f){V(u,"offset"),(m[u]===void 0||m[u+f]===void 0)&&G(u,m.length-(f+1))}function C(m,u,f,E,L,F){if(m>f||m<u){const H=typeof u=="bigint"?"n":"";let ce;throw F>3?u===0||u===BigInt(0)?ce=`>= 0${H} and < 2${H} ** ${(F+1)*8}${H}`:ce=`>= -(2${H} ** ${(F+1)*8-1}${H}) and < 2 ** ${(F+1)*8-1}${H}`:ce=`>= ${u}${H} and <= ${f}${H}`,new q.ERR_OUT_OF_RANGE("value",ce,m)}M(E,L,F)}function V(m,u){if(typeof m!="number")throw new q.ERR_INVALID_ARG_TYPE(u,"number",m)}function G(m,u,f){throw Math.floor(m)!==m?(V(m,f),new q.ERR_OUT_OF_RANGE(f||"offset","an integer",m)):u<0?new q.ERR_BUFFER_OUT_OF_BOUNDS:new q.ERR_OUT_OF_RANGE(f||"offset",`>= ${f?1:0} and <= ${u}`,m)}const se=/[^+/0-9A-Za-z-_]/g;function he(m){if(m=m.split("=")[0],m=m.trim().replace(se,""),m.length<2)return"";for(;m.length%4!==0;)m=m+"=";return m}function re(m,u){u=u||1/0;let f;const E=m.length;let L=null;const F=[];for(let H=0;H<E;++H){if(f=m.charCodeAt(H),f>55295&&f<57344){if(!L){if(f>56319){(u-=3)>-1&&F.push(239,191,189);continue}else if(H+1===E){(u-=3)>-1&&F.push(239,191,189);continue}L=f;continue}if(f<56320){(u-=3)>-1&&F.push(239,191,189),L=f;continue}f=(L-55296<<10|f-56320)+65536}else L&&(u-=3)>-1&&F.push(239,191,189);if(L=null,f<128){if((u-=1)<0)break;F.push(f)}else if(f<2048){if((u-=2)<0)break;F.push(f>>6|192,f&63|128)}else if(f<65536){if((u-=3)<0)break;F.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((u-=4)<0)break;F.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return F}function be(m){const u=[];for(let f=0;f<m.length;++f)u.push(m.charCodeAt(f)&255);return u}function pt(m,u){let f,E,L;const F=[];for(let H=0;H<m.length&&!((u-=2)<0);++H)f=m.charCodeAt(H),E=f>>8,L=f%256,F.push(L),F.push(E);return F}function Re(m){return t.toByteArray(he(m))}function Se(m,u,f,E){let L;for(L=0;L<E&&!(L+f>=u.length||L>=m.length);++L)u[L+f]=m[L];return L}function Ze(m,u){return m instanceof u||m!=null&&m.constructor!=null&&m.constructor.name!=null&&m.constructor.name===u.name}function _e(m){return m!==m}const Me=function(){const m="0123456789abcdef",u=new Array(256);for(let f=0;f<16;++f){const E=f*16;for(let L=0;L<16;++L)u[E+L]=m[f]+m[L]}return u}();function Qe(m){return typeof BigInt>"u"?Ee:m}function Ee(){throw new Error("BigInt not supported")}})(un);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var r=un,n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(a,o,l){return n(a,o,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var g=n(a);return o!==void 0?typeof l=="string"?g.fill(o,l):g.fill(o):g.fill(0),g},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}})(Po,Po.exports);var Zt=Po.exports,Bp={}.toString,Np=Array.isArray||function(e){return Bp.call(e)=="[object Array]"},Bn=TypeError,tu=Object,Pp=Error,Lp=EvalError,Op=RangeError,$p=ReferenceError,ru=SyntaxError,Fp=URIError,Dp=Math.abs,jp=Math.floor,Up=Math.max,Hp=Math.min,Wp=Math.pow,qp=Math.round,Vp=Number.isNaN||function(t){return t!==t},zp=Vp,Gp=function(t){return zp(t)||t===0?t:t<0?-1:1},Jp=Object.getOwnPropertyDescriptor,yi=Jp;if(yi)try{yi([],"length")}catch{yi=null}var Nn=yi,vi=Object.defineProperty||!1;if(vi)try{vi({},"a",{value:1})}catch{vi=!1}var Ui=vi,Fs,Qa;function nu(){return Qa||(Qa=1,Fs=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(var s in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(t,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),Fs}var Ds,Xa;function Zp(){if(Xa)return Ds;Xa=1;var e=typeof Symbol<"u"&&Symbol,t=nu();return Ds=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:t()},Ds}var js,ec;function iu(){return ec||(ec=1,js=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),js}var Us,tc;function su(){if(tc)return Us;tc=1;var e=tu;return Us=e.getPrototypeOf||null,Us}var Kp="Function.prototype.bind called on incompatible ",Yp=Object.prototype.toString,Qp=Math.max,Xp="[object Function]",rc=function(t,r){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var s=0;s<r.length;s+=1)n[s+t.length]=r[s];return n},e1=function(t,r){for(var n=[],i=r||0,s=0;i<t.length;i+=1,s+=1)n[s]=t[i];return n},t1=function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r},r1=function(t){var r=this;if(typeof r!="function"||Yp.apply(r)!==Xp)throw new TypeError(Kp+r);for(var n=e1(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,rc(n,arguments));return Object(p)===p?p:this}return r.apply(t,rc(n,arguments))},a=Qp(0,r.length-n.length),o=[],l=0;l<a;l++)o[l]="$"+l;if(i=Function("binder","return function ("+t1(o,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var g=function(){};g.prototype=r.prototype,i.prototype=new g,g.prototype=null}return i},n1=r1,Pn=Function.prototype.bind||n1,Xo=Function.prototype.call,Hs,nc;function ea(){return nc||(nc=1,Hs=Function.prototype.apply),Hs}var i1=typeof Reflect<"u"&&Reflect&&Reflect.apply,s1=Pn,o1=ea(),a1=Xo,c1=i1,ou=c1||s1.call(a1,o1),l1=Pn,u1=Bn,h1=Xo,f1=ou,ta=function(t){if(t.length<1||typeof t[0]!="function")throw new u1("a function is required");return f1(l1,h1,t)},Ws,ic;function d1(){if(ic)return Ws;ic=1;var e=ta,t=Nn,r;try{r=[].__proto__===Array.prototype}catch(a){if(!a||typeof a!="object"||!("code"in a)||a.code!=="ERR_PROTO_ACCESS")throw a}var n=!!r&&t&&t(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return Ws=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(o){return s(o==null?o:i(o))}:!1,Ws}var qs,sc;function au(){if(sc)return qs;sc=1;var e=iu(),t=su(),r=d1();return qs=e?function(i){return e(i)}:t?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return t(i)}:r?function(i){return r(i)}:null,qs}var Vs,oc;function p1(){if(oc)return Vs;oc=1;var e=Function.prototype.call,t=Object.prototype.hasOwnProperty,r=Pn;return Vs=r.call(e,t),Vs}var me,g1=tu,m1=Pp,y1=Lp,v1=Op,w1=$p,Kr=ru,Vr=Bn,b1=Fp,_1=Dp,E1=jp,S1=Up,R1=Hp,M1=Wp,C1=qp,I1=Gp,cu=Function,zs=function(e){try{return cu('"use strict"; return ('+e+").constructor;")()}catch{}},En=Nn,A1=Ui,Gs=function(){throw new Vr},x1=En?function(){try{return arguments.callee,Gs}catch{try{return En(arguments,"callee").get}catch{return Gs}}}():Gs,Or=Zp()(),et=au(),k1=su(),T1=iu(),lu=ea(),Ln=Xo,Ur={},B1=typeof Uint8Array>"u"||!et?me:et(Uint8Array),vr={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?me:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?me:ArrayBuffer,"%ArrayIteratorPrototype%":Or&&et?et([][Symbol.iterator]()):me,"%AsyncFromSyncIteratorPrototype%":me,"%AsyncFunction%":Ur,"%AsyncGenerator%":Ur,"%AsyncGeneratorFunction%":Ur,"%AsyncIteratorPrototype%":Ur,"%Atomics%":typeof Atomics>"u"?me:Atomics,"%BigInt%":typeof BigInt>"u"?me:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?me:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?me:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?me:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":m1,"%eval%":eval,"%EvalError%":y1,"%Float16Array%":typeof Float16Array>"u"?me:Float16Array,"%Float32Array%":typeof Float32Array>"u"?me:Float32Array,"%Float64Array%":typeof Float64Array>"u"?me:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?me:FinalizationRegistry,"%Function%":cu,"%GeneratorFunction%":Ur,"%Int8Array%":typeof Int8Array>"u"?me:Int8Array,"%Int16Array%":typeof Int16Array>"u"?me:Int16Array,"%Int32Array%":typeof Int32Array>"u"?me:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Or&&et?et(et([][Symbol.iterator]())):me,"%JSON%":typeof JSON=="object"?JSON:me,"%Map%":typeof Map>"u"?me:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Or||!et?me:et(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":g1,"%Object.getOwnPropertyDescriptor%":En,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?me:Promise,"%Proxy%":typeof Proxy>"u"?me:Proxy,"%RangeError%":v1,"%ReferenceError%":w1,"%Reflect%":typeof Reflect>"u"?me:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?me:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Or||!et?me:et(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?me:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Or&&et?et(""[Symbol.iterator]()):me,"%Symbol%":Or?Symbol:me,"%SyntaxError%":Kr,"%ThrowTypeError%":x1,"%TypedArray%":B1,"%TypeError%":Vr,"%Uint8Array%":typeof Uint8Array>"u"?me:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?me:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?me:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?me:Uint32Array,"%URIError%":b1,"%WeakMap%":typeof WeakMap>"u"?me:WeakMap,"%WeakRef%":typeof WeakRef>"u"?me:WeakRef,"%WeakSet%":typeof WeakSet>"u"?me:WeakSet,"%Function.prototype.call%":Ln,"%Function.prototype.apply%":lu,"%Object.defineProperty%":A1,"%Object.getPrototypeOf%":k1,"%Math.abs%":_1,"%Math.floor%":E1,"%Math.max%":S1,"%Math.min%":R1,"%Math.pow%":M1,"%Math.round%":C1,"%Math.sign%":I1,"%Reflect.getPrototypeOf%":T1};if(et)try{null.error}catch(e){var N1=et(et(e));vr["%Error.prototype%"]=N1}var P1=function e(t){var r;if(t==="%AsyncFunction%")r=zs("async function () {}");else if(t==="%GeneratorFunction%")r=zs("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=zs("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&et&&(r=et(i.prototype))}return vr[t]=r,r},ac={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},On=Pn,Ei=p1(),L1=On.call(Ln,Array.prototype.concat),O1=On.call(lu,Array.prototype.splice),cc=On.call(Ln,String.prototype.replace),Si=On.call(Ln,String.prototype.slice),$1=On.call(Ln,RegExp.prototype.exec),F1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D1=/\\(\\)?/g,j1=function(t){var r=Si(t,0,1),n=Si(t,-1);if(r==="%"&&n!=="%")throw new Kr("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Kr("invalid intrinsic syntax, expected opening `%`");var i=[];return cc(t,F1,function(s,a,o,l){i[i.length]=o?cc(l,D1,"$1"):a||s}),i},U1=function(t,r){var n=t,i;if(Ei(ac,n)&&(i=ac[n],n="%"+i[0]+"%"),Ei(vr,n)){var s=vr[n];if(s===Ur&&(s=P1(n)),typeof s>"u"&&!r)throw new Vr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Kr("intrinsic "+t+" does not exist!")},uu=function(t,r){if(typeof t!="string"||t.length===0)throw new Vr("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Vr('"allowMissing" argument must be a boolean');if($1(/^%?[^%]*%?$/,t)===null)throw new Kr("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=j1(t),i=n.length>0?n[0]:"",s=U1("%"+i+"%",r),a=s.name,o=s.value,l=!1,g=s.alias;g&&(i=g[0],O1(n,L1([0,1],g)));for(var p=1,v=!0;p<n.length;p+=1){var w=n[p],k=Si(w,0,1),j=Si(w,-1);if((k==='"'||k==="'"||k==="`"||j==='"'||j==="'"||j==="`")&&k!==j)throw new Kr("property names with quotes must have matching quotes");if((w==="constructor"||!v)&&(l=!0),i+="."+w,a="%"+i+"%",Ei(vr,a))o=vr[a];else if(o!=null){if(!(w in o)){if(!r)throw new Vr("base intrinsic for "+t+" exists, but the property is not available.");return}if(En&&p+1>=n.length){var O=En(o,w);v=!!O,v&&"get"in O&&!("originalValue"in O.get)?o=O.get:o=o[w]}else v=Ei(o,w),o=o[w];v&&!l&&(vr[a]=o)}}return o},hu=uu,fu=ta,H1=fu([hu("%String.prototype.indexOf%")]),du=function(t,r){var n=hu(t,!!r);return typeof n=="function"&&H1(t,".prototype.")>-1?fu([n]):n},Js,lc;function W1(){if(lc)return Js;lc=1;var e=Function.prototype.toString,t=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof t=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},t(function(){throw 42},null,r)}catch(P){P!==n&&(t=null)}else t=null;var i=/^\s*class\b/,s=function(B){try{var W=e.call(B);return i.test(W)}catch{return!1}},a=function(B){try{return s(B)?!1:(e.call(B),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",g="[object Function]",p="[object GeneratorFunction]",v="[object HTMLAllCollection]",w="[object HTML document.all class]",k="[object HTMLCollection]",j=typeof Symbol=="function"&&!!Symbol.toStringTag,O=!(0 in[,]),D=function(){return!1};if(typeof document=="object"){var I=document.all;o.call(I)===o.call(document.all)&&(D=function(B){if((O||!B)&&(typeof B>"u"||typeof B=="object"))try{var W=o.call(B);return(W===v||W===w||W===k||W===l)&&B("")==null}catch{}return!1})}return Js=t?function(B){if(D(B))return!0;if(!B||typeof B!="function"&&typeof B!="object")return!1;try{t(B,null,r)}catch(W){if(W!==n)return!1}return!s(B)&&a(B)}:function(B){if(D(B))return!0;if(!B||typeof B!="function"&&typeof B!="object")return!1;if(j)return a(B);if(s(B))return!1;var W=o.call(B);return W!==g&&W!==p&&!/^\[object HTML/.test(W)?!1:a(B)},Js}var Zs,uc;function q1(){if(uc)return Zs;uc=1;var e=W1(),t=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(l,g,p){for(var v=0,w=l.length;v<w;v++)r.call(l,v)&&(p==null?g(l[v],v,l):g.call(p,l[v],v,l))},i=function(l,g,p){for(var v=0,w=l.length;v<w;v++)p==null?g(l.charAt(v),v,l):g.call(p,l.charAt(v),v,l)},s=function(l,g,p){for(var v in l)r.call(l,v)&&(p==null?g(l[v],v,l):g.call(p,l[v],v,l))};function a(o){return t.call(o)==="[object Array]"}return Zs=function(l,g,p){if(!e(g))throw new TypeError("iterator must be a function");var v;arguments.length>=3&&(v=p),a(l)?n(l,g,v):typeof l=="string"?i(l,g,v):s(l,g,v)},Zs}var Ks,hc;function V1(){return hc||(hc=1,Ks=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Ks}var Ys,fc;function z1(){if(fc)return Ys;fc=1;var e=V1(),t=typeof globalThis>"u"?ee:globalThis;return Ys=function(){for(var n=[],i=0;i<e.length;i++)typeof t[e[i]]=="function"&&(n[n.length]=e[i]);return n},Ys}var Qs={exports:{}},Xs,dc;function G1(){if(dc)return Xs;dc=1;var e=Ui,t=ru,r=Bn,n=Nn;return Xs=function(s,a,o){if(!s||typeof s!="object"&&typeof s!="function")throw new r("`obj` must be an object or a function`");if(typeof a!="string"&&typeof a!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var l=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,v=arguments.length>6?arguments[6]:!1,w=!!n&&n(s,a);if(e)e(s,a,{configurable:p===null&&w?w.configurable:!p,enumerable:l===null&&w?w.enumerable:!l,value:o,writable:g===null&&w?w.writable:!g});else if(v||!l&&!g&&!p)s[a]=o;else throw new t("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Xs}var eo,pc;function J1(){if(pc)return eo;pc=1;var e=Ui,t=function(){return!!e};return t.hasArrayLengthDefineBug=function(){if(!e)return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},eo=t,eo}var to,gc;function Z1(){if(gc)return to;gc=1;var e=uu,t=G1(),r=J1()(),n=Nn,i=Bn,s=e("%Math.floor%");return to=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],p=!0,v=!0;if("length"in o&&n){var w=n(o,"length");w&&!w.configurable&&(p=!1),w&&!w.writable&&(v=!1)}return(p||v||!g)&&(r?t(o,"length",l,!0,!0):t(o,"length",l)),o},to}var ro,mc;function K1(){if(mc)return ro;mc=1;var e=Pn,t=ea(),r=ou;return ro=function(){return r(e,t,arguments)},ro}var yc;function Y1(){return yc||(yc=1,function(e){var t=Z1(),r=Ui,n=ta,i=K1();e.exports=function(a){var o=n(arguments),l=a.length-(arguments.length-1);return t(o,1+(l>0?l:0),!0)},r?r(e.exports,"apply",{value:i}):e.exports.apply=i}(Qs)),Qs.exports}var no,vc;function Q1(){if(vc)return no;vc=1;var e=nu();return no=function(){return e()&&!!Symbol.toStringTag},no}var io,wc;function X1(){if(wc)return io;wc=1;var e=q1(),t=z1(),r=Y1(),n=du,i=Nn,s=au(),a=n("Object.prototype.toString"),o=Q1()(),l=typeof globalThis>"u"?ee:globalThis,g=t(),p=n("String.prototype.slice"),v=n("Array.prototype.indexOf",!0)||function(D,I){for(var P=0;P<D.length;P+=1)if(D[P]===I)return P;return-1},w={__proto__:null};o&&i&&s?e(g,function(O){var D=new l[O];if(Symbol.toStringTag in D&&s){var I=s(D),P=i(I,Symbol.toStringTag);if(!P&&I){var B=s(I);P=i(B,Symbol.toStringTag)}w["$"+O]=r(P.get)}}):e(g,function(O){var D=new l[O],I=D.slice||D.set;I&&(w["$"+O]=r(I))});var k=function(D){var I=!1;return e(w,function(P,B){if(!I)try{"$"+P(D)===B&&(I=p(B,1))}catch{}}),I},j=function(D){var I=!1;return e(w,function(P,B){if(!I)try{P(D),I=p(B,1)}catch{}}),I};return io=function(D){if(!D||typeof D!="object")return!1;if(!o){var I=p(a(D),8,-1);return v(g,I)>-1?I:I!=="Object"?!1:j(D)}return i?k(D):null},io}var so,bc;function eg(){if(bc)return so;bc=1;var e=X1();return so=function(r){return!!e(r)},so}var tg=Bn,rg=du,ng=rg("TypedArray.prototype.buffer",!0),ig=eg(),sg=ng||function(t){if(!ig(t))throw new tg("Not a Typed Array");return t.buffer},Mt=Zt.Buffer,og=Np,ag=sg,cg=ArrayBuffer.isView||function(t){try{return ag(t),!0}catch{return!1}},lg=typeof Uint8Array<"u",pu=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",ug=pu&&(Mt.prototype instanceof Uint8Array||Mt.TYPED_ARRAY_SUPPORT),hg=function(t,r){if(Mt.isBuffer(t))return t.constructor&&!("isBuffer"in t)?Mt.from(t):t;if(typeof t=="string")return Mt.from(t,r);if(pu&&cg(t)){if(t.byteLength===0)return Mt.alloc(0);if(ug){var n=Mt.from(t.buffer,t.byteOffset,t.byteLength);if(n.byteLength===t.byteLength)return n}var i=t instanceof Uint8Array?t:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),s=Mt.from(i);if(s.length===t.byteLength)return s}if(lg&&t instanceof Uint8Array)return Mt.from(t);var a=og(t);if(a)for(var o=0;o<t.length;o+=1){var l=t[o];if(typeof l!="number"||l<0||l>255||~~l!==l)throw new RangeError("Array items must be numbers in the range 0-255.")}if(a||Mt.isBuffer(t)&&t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t))return Mt.from(t);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},fg=Zt.Buffer,dg=hg;function Hi(e,t){this._block=fg.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}Hi.prototype.update=function(e,t){e=dg(e,t||"utf8");for(var r=this._block,n=this._blockSize,i=e.length,s=this._len,a=0;a<i;){for(var o=s%n,l=Math.min(i-a,n-o),g=0;g<l;g++)r[o+g]=e[a+g];s+=l,a+=l,s%n===0&&this._update(r)}return this._len+=i,this};Hi.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=this._len*8;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(r&4294967295)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s};Hi.prototype._update=function(){throw new Error("_update must be implemented by subclass")};var hn=Hi,pg=At,gu=hn,gg=Zt.Buffer,mg=[1518500249,1859775393,-1894007588,-899497514],yg=new Array(80);function $n(){this.init(),this._w=yg,gu.call(this,64,56)}pg($n,gu);$n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function vg(e){return e<<5|e>>>27}function wg(e){return e<<30|e>>>2}function bg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}$n.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=t[o-3]^t[o-8]^t[o-14]^t[o-16];for(var l=0;l<80;++l){var g=~~(l/20),p=vg(r)+bg(g,n,i,s)+a+t[l]+mg[g]|0;a=s,s=i,i=wg(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};$n.prototype._hash=function(){var e=gg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var _g=$n,Eg=At,mu=hn,Sg=Zt.Buffer,Rg=[1518500249,1859775393,-1894007588,-899497514],Mg=new Array(80);function Fn(){this.init(),this._w=Mg,mu.call(this,64,56)}Eg(Fn,mu);Fn.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function Cg(e){return e<<1|e>>>31}function Ig(e){return e<<5|e>>>27}function Ag(e){return e<<30|e>>>2}function xg(e,t,r,n){return e===0?t&r|~t&n:e===2?t&r|t&n|r&n:t^r^n}Fn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=0;o<16;++o)t[o]=e.readInt32BE(o*4);for(;o<80;++o)t[o]=Cg(t[o-3]^t[o-8]^t[o-14]^t[o-16]);for(var l=0;l<80;++l){var g=~~(l/20),p=Ig(r)+xg(g,n,i,s)+a+t[l]+Rg[g]|0;a=s,s=i,i=Ag(n),n=r,r=p}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0};Fn.prototype._hash=function(){var e=Sg.allocUnsafe(20);return e.writeInt32BE(this._a|0,0),e.writeInt32BE(this._b|0,4),e.writeInt32BE(this._c|0,8),e.writeInt32BE(this._d|0,12),e.writeInt32BE(this._e|0,16),e};var kg=Fn,Tg=At,yu=hn,Bg=Zt.Buffer,Ng=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Pg=new Array(64);function Dn(){this.init(),this._w=Pg,yu.call(this,64,56)}Tg(Dn,yu);Dn.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function Lg(e,t,r){return r^e&(t^r)}function Og(e,t,r){return e&t|r&(e|t)}function $g(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function Fg(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function Dg(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function jg(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}Dn.prototype._update=function(e){for(var t=this._w,r=this._a|0,n=this._b|0,i=this._c|0,s=this._d|0,a=this._e|0,o=this._f|0,l=this._g|0,g=this._h|0,p=0;p<16;++p)t[p]=e.readInt32BE(p*4);for(;p<64;++p)t[p]=jg(t[p-2])+t[p-7]+Dg(t[p-15])+t[p-16]|0;for(var v=0;v<64;++v){var w=g+Fg(a)+Lg(a,o,l)+Ng[v]+t[v]|0,k=$g(r)+Og(r,n,i)|0;g=l,l=o,o=a,a=s+w|0,s=i,i=n,n=r,r=w+k|0}this._a=r+this._a|0,this._b=n+this._b|0,this._c=i+this._c|0,this._d=s+this._d|0,this._e=a+this._e|0,this._f=o+this._f|0,this._g=l+this._g|0,this._h=g+this._h|0};Dn.prototype._hash=function(){var e=Bg.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e};var vu=Dn,Ug=At,Hg=vu,Wg=hn,qg=Zt.Buffer,Vg=new Array(64);function Wi(){this.init(),this._w=Vg,Wg.call(this,64,56)}Ug(Wi,Hg);Wi.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this};Wi.prototype._hash=function(){var e=qg.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e};var zg=Wi,Gg=At,wu=hn,Jg=Zt.Buffer,_c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],Zg=new Array(160);function jn(){this.init(),this._w=Zg,wu.call(this,128,112)}Gg(jn,wu);jn.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function Ec(e,t,r){return r^e&(t^r)}function Sc(e,t,r){return e&t|r&(e|t)}function Rc(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function Mc(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function Kg(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function Yg(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function Qg(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function Xg(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function Xe(e,t){return e>>>0<t>>>0?1:0}jn.prototype._update=function(e){for(var t=this._w,r=this._ah|0,n=this._bh|0,i=this._ch|0,s=this._dh|0,a=this._eh|0,o=this._fh|0,l=this._gh|0,g=this._hh|0,p=this._al|0,v=this._bl|0,w=this._cl|0,k=this._dl|0,j=this._el|0,O=this._fl|0,D=this._gl|0,I=this._hl|0,P=0;P<32;P+=2)t[P]=e.readInt32BE(P*4),t[P+1]=e.readInt32BE(P*4+4);for(;P<160;P+=2){var B=t[P-30],W=t[P-15*2+1],U=Kg(B,W),z=Yg(W,B);B=t[P-2*2],W=t[P-2*2+1];var te=Qg(B,W),Q=Xg(W,B),Y=t[P-7*2],de=t[P-7*2+1],oe=t[P-16*2],pe=t[P-16*2+1],x=z+de|0,c=U+Y+Xe(x,z)|0;x=x+Q|0,c=c+te+Xe(x,Q)|0,x=x+pe|0,c=c+oe+Xe(x,pe)|0,t[P]=c,t[P+1]=x}for(var d=0;d<160;d+=2){c=t[d],x=t[d+1];var y=Sc(r,n,i),b=Sc(p,v,w),S=Rc(r,p),A=Rc(p,r),N=Mc(a,j),_=Mc(j,a),h=_c[d],R=_c[d+1],K=Ec(a,o,l),J=Ec(j,O,D),T=I+_|0,$=g+N+Xe(T,I)|0;T=T+J|0,$=$+K+Xe(T,J)|0,T=T+R|0,$=$+h+Xe(T,R)|0,T=T+x|0,$=$+c+Xe(T,x)|0;var q=A+b|0,Z=S+y+Xe(q,A)|0;g=l,I=D,l=o,D=O,o=a,O=j,j=k+T|0,a=s+$+Xe(j,k)|0,s=i,k=w,i=n,w=v,n=r,v=p,p=T+q|0,r=$+Z+Xe(p,T)|0}this._al=this._al+p|0,this._bl=this._bl+v|0,this._cl=this._cl+w|0,this._dl=this._dl+k|0,this._el=this._el+j|0,this._fl=this._fl+O|0,this._gl=this._gl+D|0,this._hl=this._hl+I|0,this._ah=this._ah+r+Xe(this._al,p)|0,this._bh=this._bh+n+Xe(this._bl,v)|0,this._ch=this._ch+i+Xe(this._cl,w)|0,this._dh=this._dh+s+Xe(this._dl,k)|0,this._eh=this._eh+a+Xe(this._el,j)|0,this._fh=this._fh+o+Xe(this._fl,O)|0,this._gh=this._gh+l+Xe(this._gl,D)|0,this._hh=this._hh+g+Xe(this._hl,I)|0};jn.prototype._hash=function(){var e=Jg.allocUnsafe(64);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e};var bu=jn,em=At,tm=bu,rm=hn,nm=Zt.Buffer,im=new Array(160);function qi(){this.init(),this._w=im,rm.call(this,128,112)}em(qi,tm);qi.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this};qi.prototype._hash=function(){var e=nm.allocUnsafe(48);function t(r,n,i){e.writeInt32BE(r,i),e.writeInt32BE(n,i+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e};var sm=qi;(function(e){e.exports=function(r){var n=r.toLowerCase(),i=e.exports[n];if(!i)throw new Error(n+" is not supported (we accept pull requests)");return new i},e.exports.sha=_g,e.exports.sha1=kg,e.exports.sha224=zg,e.exports.sha256=vu,e.exports.sha384=sm,e.exports.sha512=bu})(Xl);var om=Xl.exports;Object.defineProperty(ln,"__esModule",{value:!0});ln.Session=void 0;const Cc=om,Ic=X,Ac="session:id",xc="session:secret",kc="session:linked";class ra{constructor(t,r,n,i){this._storage=t,this._id=r||(0,Ic.randomBytesHex)(16),this._secret=n||(0,Ic.randomBytesHex)(32),this._key=new Cc.sha256().update(`${this._id}, ${this._secret} WalletLink`).digest("hex"),this._linked=!!i}static load(t){const r=t.getItem(Ac),n=t.getItem(kc),i=t.getItem(xc);return r&&i?new ra(t,r,i,n==="1"):null}static hash(t){return new Cc.sha256().update(t).digest("hex")}get id(){return this._id}get secret(){return this._secret}get key(){return this._key}get linked(){return this._linked}set linked(t){this._linked=t,this.persistLinked()}save(){return this._storage.setItem(Ac,this._id),this._storage.setItem(xc,this._secret),this.persistLinked(),this}persistLinked(){this._storage.setItem(kc,this._linked?"1":"0")}}ln.Session=ra;var Vi={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.Cipher=void 0;const ai=X;class am{constructor(t){this.secret=t}async encrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",(0,ai.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(t)),o=16,l=a.slice(a.byteLength-o),g=a.slice(0,a.byteLength-o),p=new Uint8Array(l),v=new Uint8Array(g),w=new Uint8Array([...n,...p,...v]);return(0,ai.uint8ArrayToHex)(w)}async decrypt(t){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",(0,ai.hexStringToUint8Array)(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=(0,ai.hexStringToUint8Array)(t),o=a.slice(0,12),l=a.slice(12,28),g=a.slice(28),p=new Uint8Array([...g,...l]),v={name:"AES-GCM",iv:new Uint8Array(o)};try{const w=await window.crypto.subtle.decrypt(v,s,p),k=new TextDecoder;n(k.decode(w))}catch(w){i(w)}})()})}}zi.Cipher=am;var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});Gi.WalletLinkHTTP=void 0;class cm{constructor(t,r,n){this.linkAPIUrl=t,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(t){return Promise.all(t.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var t;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(t=n?.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&t!==void 0?t:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}Gi.WalletLinkHTTP=cm;var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0});Yr.WalletLinkWebSocket=Yr.ConnectionState=void 0;var Wr;(function(e){e[e.DISCONNECTED=0]="DISCONNECTED",e[e.CONNECTING=1]="CONNECTING",e[e.CONNECTED=2]="CONNECTED"})(Wr||(Yr.ConnectionState=Wr={}));class lm{setConnectionStateListener(t){this.connectionStateListener=t}setIncomingDataListener(t){this.incomingDataListener=t}constructor(t,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=t.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((t,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,Wr.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Wr.DISCONNECTED)},i.onopen=s=>{var a;t(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,Wr.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var a,o;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,l)}catch{}}})}disconnect(){var t;const{webSocket:r}=this;if(r){this.clearWebSocket(),(t=this.connectionStateListener)===null||t===void 0||t.call(this,Wr.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(t){const{webSocket:r}=this;if(!r){this.pendingData.push(t),this.connect();return}r.send(t)}clearWebSocket(){const{webSocket:t}=this;t&&(this.webSocket=null,t.onclose=null,t.onerror=null,t.onmessage=null,t.onopen=null)}}Yr.WalletLinkWebSocket=lm;Object.defineProperty(Vi,"__esModule",{value:!0});Vi.WalletLinkConnection=void 0;const $r=Ke,um=zi,xt=cn,Tc=wt,Fr=ln,hm=Gi,ci=Yr,Bc=1e4,fm=6e4;class dm{constructor({session:t,linkAPIUrl:r,listener:n,diagnostic:i,WebSocketClass:s=WebSocket}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=(0,$r.IntNumber)(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=o=>{if(!o)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",g=>o.JsonRpcUrl&&this.handleChainUpdated(g,o.JsonRpcUrl)]]).forEach((g,p)=>{const v=o[p];v!==void 0&&g(v)})},this.handleDestroyed=o=>{var l,g;o==="1"&&((l=this.listener)===null||l===void 0||l.resetAndReload(),(g=this.diagnostic)===null||g===void 0||g.log(xt.EVENTS.METADATA_DESTROYED,{alreadyDestroyed:this.isDestroyed,sessionIdHash:Fr.Session.hash(this.session.id)}))},this.handleAccountUpdated=async o=>{var l,g;try{const p=await this.cipher.decrypt(o);(l=this.listener)===null||l===void 0||l.accountUpdated(p)}catch{(g=this.diagnostic)===null||g===void 0||g.log(xt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"selectedAddress"})}},this.handleMetadataUpdated=async(o,l)=>{var g,p;try{const v=await this.cipher.decrypt(l);(g=this.listener)===null||g===void 0||g.metadataUpdated(o,v)}catch{(p=this.diagnostic)===null||p===void 0||p.log(xt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:o})}},this.handleWalletUsernameUpdated=async o=>{this.handleMetadataUpdated(Tc.WALLET_USER_NAME_KEY,o)},this.handleAppVersionUpdated=async o=>{this.handleMetadataUpdated(Tc.APP_VERSION_KEY,o)},this.handleChainUpdated=async(o,l)=>{var g,p;try{const v=await this.cipher.decrypt(o),w=await this.cipher.decrypt(l);(g=this.listener)===null||g===void 0||g.chainUpdated(v,w)}catch{(p=this.diagnostic)===null||p===void 0||p.log(xt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"chainId|jsonRpcUrl"})}},this.session=t,this.cipher=new um.Cipher(t.secret),this.diagnostic=i,this.listener=n;const a=new ci.WalletLinkWebSocket(`${r}/rpc`,s);a.setConnectionStateListener(async o=>{var l;(l=this.diagnostic)===null||l===void 0||l.log(xt.EVENTS.CONNECTED_STATE_CHANGE,{state:o,sessionIdHash:Fr.Session.hash(t.id)});let g=!1;switch(o){case ci.ConnectionState.DISCONNECTED:if(!this.destroyed){const p=async()=>{await new Promise(v=>setTimeout(v,5e3)),this.destroyed||a.connect().catch(()=>{p()})};p()}break;case ci.ConnectionState.CONNECTED:try{await this.authenticate(),this.sendIsLinked(),this.sendGetSessionConfig(),g=!0}catch{}this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},Bc),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case ci.ConnectionState.CONNECTING:break}this.connected!==g&&(this.connected=g)}),a.setIncomingDataListener(o=>{var l,g,p;switch(o.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const v=o.type==="IsLinkedOK"?o.linked:void 0;(l=this.diagnostic)===null||l===void 0||l.log(xt.EVENTS.LINKED,{sessionIdHash:Fr.Session.hash(t.id),linked:v,type:o.type,onlineGuests:o.onlineGuests}),this.linked=v||o.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{(g=this.diagnostic)===null||g===void 0||g.log(xt.EVENTS.SESSION_CONFIG_RECEIVED,{sessionIdHash:Fr.Session.hash(t.id),metadata_keys:o&&o.metadata?Object.keys(o.metadata):void 0}),this.handleSessionMetadataUpdated(o.metadata);break}case"Event":{this.handleIncomingEvent(o);break}}o.id!==void 0&&((p=this.requestResolutions.get(o.id))===null||p===void 0||p(o))}),this.ws=a,this.http=new hm.WalletLinkHTTP(r,t.id,t.key)}connect(){var t;if(this.destroyed)throw new Error("instance is destroyed");(t=this.diagnostic)===null||t===void 0||t.log(xt.EVENTS.STARTED_CONNECTING,{sessionIdHash:Fr.Session.hash(this.session.id)}),this.ws.connect()}destroy(){var t;this.destroyed=!0,this.ws.disconnect(),(t=this.diagnostic)===null||t===void 0||t.log(xt.EVENTS.DISCONNECTED,{sessionIdHash:Fr.Session.hash(this.session.id)}),this.listener=void 0}get isDestroyed(){return this.destroyed}get connected(){return this._connected}set connected(t){var r,n;this._connected=t,t&&((r=this.onceConnected)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.connectedUpdated(t)}setOnceConnected(t){return new Promise(r=>{this.connected?t().then(r):this.onceConnected=()=>{t().then(r),this.onceConnected=void 0}})}get linked(){return this._linked}set linked(t){var r,n;this._linked=t,t&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(t)}setOnceLinked(t){return new Promise(r=>{this.linked?t().then(r):this.onceLinked=()=>{t().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(t){var r,n;if(!(t.type!=="Event"||t.event!=="Web3Response"))try{const i=await this.cipher.decrypt(t.data),s=JSON.parse(i);if(s.type!=="WEB3_RESPONSE")return;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s)}catch{(n=this.diagnostic)===null||n===void 0||n.log(xt.EVENTS.GENERAL_ERROR,{message:"Had error decrypting",value:"incomingEvent"})}}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(t=>setTimeout(t,250));try{await this.fetchUnseenEventsAPI()}catch(t){console.error("Unable to check for unseen events",t)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async setSessionMetadata(t,r){const n={type:"SetSessionConfig",id:(0,$r.IntNumber)(this.nextReqId++),sessionId:this.session.id,metadata:{[t]:r}};return this.setOnceConnected(async()=>{const i=await this.makeRequest(n);if(i.type==="Fail")throw new Error(i.error||"failed to set session metadata")})}async publishEvent(t,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,relaySource:window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:(0,$r.IntNumber)(this.nextReqId++),sessionId:this.session.id,event:t,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(t){this.ws.sendData(JSON.stringify(t))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>Bc*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(t,r=fm){const n=t.id;this.sendData(t);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${n} timed out`))},r)}),new Promise(s=>{this.requestResolutions.set(n,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(n)})})])}async authenticate(){const t={type:"HostSession",id:(0,$r.IntNumber)(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key},r=await this.makeRequest(t);if(r.type==="Fail")throw new Error(r.error||"failed to authentcate")}sendIsLinked(){const t={type:"IsLinked",id:(0,$r.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}sendGetSessionConfig(){const t={type:"GetSessionConfig",id:(0,$r.IntNumber)(this.nextReqId++),sessionId:this.session.id};this.sendData(t)}}Vi.WalletLinkConnection=dm;var Un={},Hn={},na={};Object.defineProperty(na,"__esModule",{value:!0});na.default=(()=>'@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}')();var pm=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hn,"__esModule",{value:!0});Hn.injectCssReset=void 0;const gm=pm(na);function mm(){const e=document.createElement("style");e.type="text/css",e.appendChild(document.createTextNode(gm.default)),document.documentElement.appendChild(e)}Hn.injectCssReset=mm;var Ji={};const lt=nn(Hh);var Zi={};function _u(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=_u(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Nc(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=_u(e))&&(n&&(n+=" "),n+=t);return n}const ym=Object.freeze(Object.defineProperty({__proto__:null,clsx:Nc,default:Nc},Symbol.toStringTag,{value:"Module"})),Wn=nn(ym),Ki=nn(Wh);var Qr={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.CloseIcon=void 0;const Pc=lt;function vm(e){return(0,Pc.h)("svg",Object.assign({width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,Pc.h)("path",{d:"M13.7677 13L12.3535 14.4142L18.3535 20.4142L12.3535 26.4142L13.7677 27.8284L19.7677 21.8284L25.7677 27.8284L27.1819 26.4142L21.1819 20.4142L27.1819 14.4142L25.7677 13L19.7677 19L13.7677 13Z"}))}Yi.CloseIcon=vm;var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});Qi.CoinbaseWalletRound=void 0;const li=lt;function wm(e){return(0,li.h)("svg",Object.assign({width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),(0,li.h)("circle",{cx:"14",cy:"14",r:"14",fill:"#0052FF"}),(0,li.h)("path",{d:"M23.8521 14.0003C23.8521 19.455 19.455 23.8521 14.0003 23.8521C8.54559 23.8521 4.14844 19.455 4.14844 14.0003C4.14844 8.54559 8.54559 4.14844 14.0003 4.14844C19.455 4.14844 23.8521 8.54559 23.8521 14.0003Z",fill:"white"}),(0,li.h)("path",{d:"M11.1855 12.5042C11.1855 12.0477 11.1855 11.7942 11.2835 11.642C11.3814 11.4899 11.4793 11.3377 11.6261 11.287C11.8219 11.1855 12.0178 11.1855 12.5073 11.1855H15.4934C15.983 11.1855 16.1788 11.1855 16.3746 11.287C16.5215 11.3884 16.6683 11.4899 16.7173 11.642C16.8152 11.8449 16.8152 12.0477 16.8152 12.5042V15.4965C16.8152 15.953 16.8152 16.2066 16.7173 16.3587C16.6194 16.5109 16.5215 16.663 16.3746 16.7137C16.1788 16.8152 15.983 16.8152 15.4934 16.8152H12.5073C12.0178 16.8152 11.8219 16.8152 11.6261 16.7137C11.4793 16.6123 11.3324 16.5109 11.2835 16.3587C11.1855 16.1558 11.1855 15.953 11.1855 15.4965V12.5042Z",fill:"#0052FF"}))}Qi.CoinbaseWalletRound=wm;var Xi={};Object.defineProperty(Xi,"__esModule",{value:!0});Xi.QRCodeIcon=void 0;const mn=lt;function bm(e){return(0,mn.h)("svg",Object.assign({width:"18",height:"18",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),(0,mn.h)("path",{d:"M3 3V8.99939L5 8.99996V5H9V3H3Z"}),(0,mn.h)("path",{d:"M15 21L21 21V15.0006L19 15V19L15 19V21Z"}),(0,mn.h)("path",{d:"M21 9H19V5H15.0006L15 3H21V9Z"}),(0,mn.h)("path",{d:"M3 15V21H8.99939L8.99996 19H5L5 15H3Z"}))}Xi.QRCodeIcon=bm;var es={};function Eu(e){this.mode=ft.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,r=this.data.length;t<r;t++){var n=[],i=this.data.charCodeAt(t);i>65536?(n[0]=240|(i&1835008)>>>18,n[1]=128|(i&258048)>>>12,n[2]=128|(i&4032)>>>6,n[3]=128|i&63):i>2048?(n[0]=224|(i&61440)>>>12,n[1]=128|(i&4032)>>>6,n[2]=128|i&63):i>128?(n[0]=192|(i&1984)>>>6,n[1]=128|i&63):n[0]=i,this.parsedData.push(n)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}Eu.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,r=this.parsedData.length;t<r;t++)e.put(this.parsedData[t],8)}};function Ot(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}Ot.prototype={addData:function(e){var t=new Eu(e);this.dataList.push(t),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,t){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++){this.modules[r]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[r][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),this.dataCache==null&&(this.dataCache=Ot.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},setupPositionProbePattern:function(e,t){for(var r=-1;r<=7;r++)if(!(e+r<=-1||this.moduleCount<=e+r))for(var n=-1;n<=7;n++)t+n<=-1||this.moduleCount<=t+n||(0<=r&&r<=6&&(n==0||n==6)||0<=n&&n<=6&&(r==0||r==6)||2<=r&&r<=4&&2<=n&&n<=4?this.modules[e+r][t+n]=!0:this.modules[e+r][t+n]=!1)},getBestMaskPattern:function(){for(var e=0,t=0,r=0;r<8;r++){this.makeImpl(!0,r);var n=Ve.getLostPoint(this);(r==0||e>n)&&(e=n,t=r)}return t},createMovieClip:function(e,t,r){var n=e.createEmptyMovieClip(t,r),i=1;this.make();for(var s=0;s<this.modules.length;s++)for(var a=s*i,o=0;o<this.modules[s].length;o++){var l=o*i,g=this.modules[s][o];g&&(n.beginFill(0,100),n.moveTo(l,a),n.lineTo(l+i,a),n.lineTo(l+i,a+i),n.lineTo(l,a+i),n.endFill())}return n},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)this.modules[e][6]==null&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=Ve.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var r=0;r<e.length;r++){var n=e[t],i=e[r];if(this.modules[n][i]==null)for(var s=-2;s<=2;s++)for(var a=-2;a<=2;a++)s==-2||s==2||a==-2||a==2||s==0&&a==0?this.modules[n+s][i+a]=!0:this.modules[n+s][i+a]=!1}},setupTypeNumber:function(e){for(var t=Ve.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=n}for(var r=0;r<18;r++){var n=!e&&(t>>r&1)==1;this.modules[r%3+this.moduleCount-8-3][Math.floor(r/3)]=n}},setupTypeInfo:function(e,t){for(var r=this.errorCorrectLevel<<3|t,n=Ve.getBCHTypeInfo(r),i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<6?this.modules[i][8]=s:i<8?this.modules[i+1][8]=s:this.modules[this.moduleCount-15+i][8]=s}for(var i=0;i<15;i++){var s=!e&&(n>>i&1)==1;i<8?this.modules[8][this.moduleCount-i-1]=s:i<9?this.modules[8][15-i-1+1]=s:this.modules[8][15-i-1]=s}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var r=-1,n=this.moduleCount-1,i=7,s=0,a=this.moduleCount-1;a>0;a-=2)for(a==6&&a--;;){for(var o=0;o<2;o++)if(this.modules[n][a-o]==null){var l=!1;s<e.length&&(l=(e[s]>>>i&1)==1);var g=Ve.getMask(t,n,a-o);g&&(l=!l),this.modules[n][a-o]=l,i--,i==-1&&(s++,i=7)}if(n+=r,n<0||this.moduleCount<=n){n-=r,r=-r;break}}}};Ot.PAD0=236;Ot.PAD1=17;Ot.createData=function(e,t,r){for(var n=Lt.getRSBlocks(e,t),i=new Su,s=0;s<r.length;s++){var a=r[s];i.put(a.mode,4),i.put(a.getLength(),Ve.getLengthInBits(a.mode,e)),a.write(i)}for(var o=0,s=0;s<n.length;s++)o+=n[s].dataCount;if(i.getLengthInBits()>o*8)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+o*8+")");for(i.getLengthInBits()+4<=o*8&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=o*8||(i.put(Ot.PAD0,8),i.getLengthInBits()>=o*8));)i.put(Ot.PAD1,8);return Ot.createBytes(i,n)};Ot.createBytes=function(e,t){for(var r=0,n=0,i=0,s=new Array(t.length),a=new Array(t.length),o=0;o<t.length;o++){var l=t[o].dataCount,g=t[o].totalCount-l;n=Math.max(n,l),i=Math.max(i,g),s[o]=new Array(l);for(var p=0;p<s[o].length;p++)s[o][p]=255&e.buffer[p+r];r+=l;var v=Ve.getErrorCorrectPolynomial(g),w=new zr(s[o],v.getLength()-1),k=w.mod(v);a[o]=new Array(v.getLength()-1);for(var p=0;p<a[o].length;p++){var j=p+k.getLength()-a[o].length;a[o][p]=j>=0?k.get(j):0}}for(var O=0,p=0;p<t.length;p++)O+=t[p].totalCount;for(var D=new Array(O),I=0,p=0;p<n;p++)for(var o=0;o<t.length;o++)p<s[o].length&&(D[I++]=s[o][p]);for(var p=0;p<i;p++)for(var o=0;o<t.length;o++)p<a[o].length&&(D[I++]=a[o][p]);return D};var ft={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},zt={L:1,M:0,Q:3,H:2},Wt={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ve={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G15)>=0;)t^=Ve.G15<<Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G15);return(e<<10|t)^Ve.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G18)>=0;)t^=Ve.G18<<Ve.getBCHDigit(t)-Ve.getBCHDigit(Ve.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;e!=0;)t++,e>>>=1;return t},getPatternPosition:function(e){return Ve.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,r){switch(e){case Wt.PATTERN000:return(t+r)%2==0;case Wt.PATTERN001:return t%2==0;case Wt.PATTERN010:return r%3==0;case Wt.PATTERN011:return(t+r)%3==0;case Wt.PATTERN100:return(Math.floor(t/2)+Math.floor(r/3))%2==0;case Wt.PATTERN101:return t*r%2+t*r%3==0;case Wt.PATTERN110:return(t*r%2+t*r%3)%2==0;case Wt.PATTERN111:return(t*r%3+(t+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new zr([1],0),r=0;r<e;r++)t=t.multiply(new zr([1,tt.gexp(r)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case ft.MODE_NUMBER:return 10;case ft.MODE_ALPHA_NUM:return 9;case ft.MODE_8BIT_BYTE:return 8;case ft.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case ft.MODE_NUMBER:return 12;case ft.MODE_ALPHA_NUM:return 11;case ft.MODE_8BIT_BYTE:return 16;case ft.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else if(t<41)switch(e){case ft.MODE_NUMBER:return 14;case ft.MODE_ALPHA_NUM:return 13;case ft.MODE_8BIT_BYTE:return 16;case ft.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}else throw new Error("type:"+t)},getLostPoint:function(e){for(var t=e.getModuleCount(),r=0,n=0;n<t;n++)for(var i=0;i<t;i++){for(var s=0,a=e.isDark(n,i),o=-1;o<=1;o++)if(!(n+o<0||t<=n+o))for(var l=-1;l<=1;l++)i+l<0||t<=i+l||o==0&&l==0||a==e.isDark(n+o,i+l)&&s++;s>5&&(r+=3+s-5)}for(var n=0;n<t-1;n++)for(var i=0;i<t-1;i++){var g=0;e.isDark(n,i)&&g++,e.isDark(n+1,i)&&g++,e.isDark(n,i+1)&&g++,e.isDark(n+1,i+1)&&g++,(g==0||g==4)&&(r+=3)}for(var n=0;n<t;n++)for(var i=0;i<t-6;i++)e.isDark(n,i)&&!e.isDark(n,i+1)&&e.isDark(n,i+2)&&e.isDark(n,i+3)&&e.isDark(n,i+4)&&!e.isDark(n,i+5)&&e.isDark(n,i+6)&&(r+=40);for(var i=0;i<t;i++)for(var n=0;n<t-6;n++)e.isDark(n,i)&&!e.isDark(n+1,i)&&e.isDark(n+2,i)&&e.isDark(n+3,i)&&e.isDark(n+4,i)&&!e.isDark(n+5,i)&&e.isDark(n+6,i)&&(r+=40);for(var p=0,i=0;i<t;i++)for(var n=0;n<t;n++)e.isDark(n,i)&&p++;var v=Math.abs(100*p/t/t-50)/5;return r+=v*10,r}},tt={glog:function(e){if(e<1)throw new Error("glog("+e+")");return tt.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return tt.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)};for(var nt=0;nt<8;nt++)tt.EXP_TABLE[nt]=1<<nt;for(var nt=8;nt<256;nt++)tt.EXP_TABLE[nt]=tt.EXP_TABLE[nt-4]^tt.EXP_TABLE[nt-5]^tt.EXP_TABLE[nt-6]^tt.EXP_TABLE[nt-8];for(var nt=0;nt<255;nt++)tt.LOG_TABLE[tt.EXP_TABLE[nt]]=nt;function zr(e,t){if(e.length==null)throw new Error(e.length+"/"+t);for(var r=0;r<e.length&&e[r]==0;)r++;this.num=new Array(e.length-r+t);for(var n=0;n<e.length-r;n++)this.num[n]=e[n+r]}zr.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<e.getLength();n++)t[r+n]^=tt.gexp(tt.glog(this.get(r))+tt.glog(e.get(n)));return new zr(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=tt.glog(this.get(0))-tt.glog(e.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(var n=0;n<e.getLength();n++)r[n]^=tt.gexp(tt.glog(e.get(n))+t);return new zr(r,0).mod(e)}};function Lt(e,t){this.totalCount=e,this.dataCount=t}Lt.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];Lt.getRSBlocks=function(e,t){var r=Lt.getRsBlockTable(e,t);if(r==null)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var n=r.length/3,i=[],s=0;s<n;s++)for(var a=r[s*3+0],o=r[s*3+1],l=r[s*3+2],g=0;g<a;g++)i.push(new Lt(o,l));return i};Lt.getRsBlockTable=function(e,t){switch(t){case zt.L:return Lt.RS_BLOCK_TABLE[(e-1)*4+0];case zt.M:return Lt.RS_BLOCK_TABLE[(e-1)*4+1];case zt.Q:return Lt.RS_BLOCK_TABLE[(e-1)*4+2];case zt.H:return Lt.RS_BLOCK_TABLE[(e-1)*4+3];default:return}};function Su(){this.buffer=[],this.length=0}Su.prototype={get:function(e){var t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)==1},put:function(e,t){for(var r=0;r<t;r++)this.putBit((e>>>t-r-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var oo=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];function Ru(e){if(this.options={padding:4,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",image:{svg:"",width:0,height:0}},typeof e=="string"&&(e={content:e}),e)for(var t in e)this.options[t]=e[t];if(typeof this.options.content!="string")throw new Error("Expected 'content' as string!");if(this.options.content.length===0)throw new Error("Expected 'content' to be non-empty!");if(!(this.options.padding>=0))throw new Error("Expected 'padding' value to be non-negative!");if(!(this.options.width>0)||!(this.options.height>0))throw new Error("Expected 'width' or 'height' value to be higher than zero!");function r(l){switch(l){case"L":return zt.L;case"M":return zt.M;case"Q":return zt.Q;case"H":return zt.H;default:throw new Error("Unknwon error correction level: "+l)}}function n(l,g){for(var p=i(l),v=1,w=0,k=0,j=oo.length;k<=j;k++){var O=oo[k];if(!O)throw new Error("Content too long: expected "+w+" but got "+p);switch(g){case"L":w=O[0];break;case"M":w=O[1];break;case"Q":w=O[2];break;case"H":w=O[3];break;default:throw new Error("Unknwon error correction level: "+g)}if(p<=w)break;v++}if(v>oo.length)throw new Error("Content too long");return v}function i(l){var g=encodeURI(l).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return g.length+(g.length!=l?3:0)}var s=this.options.content,a=n(s,this.options.ecl),o=r(this.options.ecl);this.qrcode=new Ot(a,o),this.qrcode.addData(s),this.qrcode.make()}Ru.prototype.svg=function(e){var t=this.options||{},r=this.qrcode.modules;typeof e>"u"&&(e={container:t.container||"svg"});for(var n=typeof t.pretty<"u"?!!t.pretty:!0,i=n?"  ":"",s=n?`\r
`:"",a=t.width,o=t.height,l=r.length,g=a/(l+2*t.padding),p=o/(l+2*t.padding),v=typeof t.join<"u"?!!t.join:!1,w=typeof t.swap<"u"?!!t.swap:!1,k=typeof t.xmlDeclaration<"u"?!!t.xmlDeclaration:!0,j=typeof t.predefined<"u"?!!t.predefined:!1,O=j?i+'<defs><path id="qrmodule" d="M0 0 h'+p+" v"+g+' H0 z" style="fill:'+t.color+';shape-rendering:crispEdges;" /></defs>'+s:"",D=i+'<rect x="0" y="0" width="'+a+'" height="'+o+'" style="fill:'+t.background+';shape-rendering:crispEdges;"/>'+s,I="",P="",B=0;B<l;B++)for(var W=0;W<l;W++){var U=r[W][B];if(U){var z=W*g+t.padding*g,te=B*p+t.padding*p;if(w){var Q=z;z=te,te=Q}if(v){var Y=g+z,de=p+te;z=Number.isInteger(z)?Number(z):z.toFixed(2),te=Number.isInteger(te)?Number(te):te.toFixed(2),Y=Number.isInteger(Y)?Number(Y):Y.toFixed(2),de=Number.isInteger(de)?Number(de):de.toFixed(2),P+="M"+z+","+te+" V"+de+" H"+Y+" V"+te+" H"+z+" Z "}else j?I+=i+'<use x="'+z.toString()+'" y="'+te.toString()+'" href="#qrmodule" />'+s:I+=i+'<rect x="'+z.toString()+'" y="'+te.toString()+'" width="'+g+'" height="'+p+'" style="fill:'+t.color+';shape-rendering:crispEdges;"/>'+s}}v&&(I=i+'<path x="0" y="0" style="fill:'+t.color+';shape-rendering:crispEdges;" d="'+P+'" />');let oe="";if(this.options.image!==void 0&&this.options.image.svg){const x=a*this.options.image.width/100,c=o*this.options.image.height/100,d=a/2-x/2,y=o/2-c/2;oe+=`<svg x="${d}" y="${y}" width="${x}" height="${c}" viewBox="0 0 100 100" preserveAspectRatio="xMinYMin meet">`,oe+=this.options.image.svg+s,oe+="</svg>"}var pe="";switch(e.container){case"svg":k&&(pe+='<?xml version="1.0" standalone="yes"?>'+s),pe+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+a+'" height="'+o+'">'+s,pe+=O+D+I,pe+=oe,pe+="</svg>";break;case"svg-viewbox":k&&(pe+='<?xml version="1.0" standalone="yes"?>'+s),pe+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+a+" "+o+'">'+s,pe+=O+D+I,pe+=oe,pe+="</svg>";break;case"g":pe+='<g width="'+a+'" height="'+o+'">'+s,pe+=O+D+I,pe+=oe,pe+="</g>";break;default:pe+=(O+D+I+oe).replace(/^\s+/,"");break}return pe};var _m=Ru,Em=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(es,"__esModule",{value:!0});es.QRCode=void 0;const Sm=lt,Lc=Ki,Rm=Em(_m),Mm=e=>{const[t,r]=(0,Lc.useState)("");return(0,Lc.useEffect)(()=>{var n,i;const s=new Rm.default({content:e.content,background:e.bgColor||"#ffffff",color:e.fgColor||"#000000",container:"svg",ecl:"M",width:(n=e.width)!==null&&n!==void 0?n:256,height:(i=e.height)!==null&&i!==void 0?i:256,padding:0,image:e.image}),a=Buffer.from(s.svg(),"utf8").toString("base64");r(`data:image/svg+xml;base64,${a}`)},[e.bgColor,e.content,e.fgColor,e.height,e.image,e.width]),t?(0,Sm.h)("img",{src:t,alt:"QR Code"}):null};es.QRCode=Mm;var ts={},ia={};Object.defineProperty(ia,"__esModule",{value:!0});ia.default=(()=>".-cbwsdk-css-reset .-cbwsdk-spinner{display:inline-block}.-cbwsdk-css-reset .-cbwsdk-spinner svg{display:inline-block;animation:2s linear infinite -cbwsdk-spinner-svg}.-cbwsdk-css-reset .-cbwsdk-spinner svg circle{animation:1.9s ease-in-out infinite both -cbwsdk-spinner-circle;display:block;fill:rgba(0,0,0,0);stroke-dasharray:283;stroke-dashoffset:280;stroke-linecap:round;stroke-width:10px;transform-origin:50% 50%}@keyframes -cbwsdk-spinner-svg{0%{transform:rotateZ(0deg)}100%{transform:rotateZ(360deg)}}@keyframes -cbwsdk-spinner-circle{0%,25%{stroke-dashoffset:280;transform:rotate(0)}50%,75%{stroke-dashoffset:75;transform:rotate(45deg)}100%{stroke-dashoffset:280;transform:rotate(360deg)}}")();var Cm=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ts,"__esModule",{value:!0});ts.Spinner=void 0;const ui=lt,Im=Cm(ia),Am=e=>{var t;const r=(t=e.size)!==null&&t!==void 0?t:64,n=e.color||"#000";return(0,ui.h)("div",{class:"-cbwsdk-spinner"},(0,ui.h)("style",null,Im.default),(0,ui.h)("svg",{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",style:{width:r,height:r}},(0,ui.h)("circle",{style:{cx:50,cy:50,r:45,stroke:n}})))};ts.Spinner=Am;var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-content{height:430px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-connect-content.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-header{display:flex;align-items:center;justify-content:space-between;margin:0 0 30px}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading{font-style:normal;font-weight:500;font-size:28px;line-height:36px;margin:0}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-layout{display:flex;flex-direction:row}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-left{margin-right:30px;display:flex;flex-direction:column;justify-content:space-between}.-cbwsdk-css-reset .-cbwsdk-connect-content-column-right{flex:25%;margin-right:34px}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-wrapper{width:220px;height:220px;border-radius:12px;display:flex;justify-content:center;align-items:center;background:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting{position:absolute;top:0;bottom:0;left:0;right:0;display:flex;flex-direction:column;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light{background-color:rgba(255,255,255,.95)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.light>p{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark{background-color:rgba(10,11,13,.9)}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting.dark>p{color:#fff}.-cbwsdk-css-reset .-cbwsdk-connect-content-qr-connecting>p{font-size:12px;font-weight:bold;margin-top:16px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app{border-radius:8px;font-size:14px;line-height:20px;padding:12px;width:339px}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.light{background:#eef0f3;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-connect-content-update-app.dark{background:#1e2025;color:#8a919e}.-cbwsdk-css-reset .-cbwsdk-cancel-button{-webkit-appearance:none;border:none;background:none;cursor:pointer;padding:0;margin:0}.-cbwsdk-css-reset .-cbwsdk-cancel-button-x{position:relative;display:block;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-wallet-steps{padding:0 0 0 16px;margin:0;width:100%;list-style:decimal}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item{list-style-type:decimal;display:list-item;font-style:normal;font-weight:400;font-size:16px;line-height:24px;margin-top:20px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-item-wrapper{display:flex;align-items:center}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-pad-left{margin-left:6px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon{display:flex;border-radius:50%;height:24px;width:24px}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.light{background:#0052ff}.-cbwsdk-css-reset .-cbwsdk-wallet-steps-icon.dark{background:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item{align-items:center;display:flex;flex-direction:row;padding:16px 24px;gap:12px;cursor:pointer;border-radius:100px;font-weight:600}.-cbwsdk-css-reset .-cbwsdk-connect-item.light{background:#f5f8ff;color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-connect-item.dark{background:#001033;color:#588af5}.-cbwsdk-css-reset .-cbwsdk-connect-item-copy-wrapper{margin:0 4px 0 8px}.-cbwsdk-css-reset .-cbwsdk-connect-item-title{margin:0 0 0;font-size:16px;line-height:24px;font-weight:500}.-cbwsdk-css-reset .-cbwsdk-connect-item-description{font-weight:400;font-size:14px;line-height:20px;margin:0}")();var Mu=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.CoinbaseWalletSteps=Qr.ConnectContent=void 0;const wr=Mu(Wn),ve=lt,xm=X,km=an,Tm=Yi,Bm=Qi,Nm=Xi,Pm=es,Lm=ts,Om=Mu(sa),ao={title:"Coinbase Wallet app",description:"Connect with your self-custody wallet",steps:Cu},$m=e=>e==="light"?"#FFFFFF":"#0A0B0D";function Fm(e){const{theme:t}=e,r=(0,xm.createQrUrl)(e.sessionId,e.sessionSecret,e.linkAPIUrl,e.isParentConnection,e.version,e.chainId),n=ao.steps;return(0,ve.h)("div",{"data-testid":"connect-content",className:(0,wr.default)("-cbwsdk-connect-content",t)},(0,ve.h)("style",null,Om.default),(0,ve.h)("div",{className:"-cbwsdk-connect-content-header"},(0,ve.h)("h2",{className:(0,wr.default)("-cbwsdk-connect-content-heading",t)},"Scan to connect with our mobile app"),e.onCancel&&(0,ve.h)("button",{type:"button",className:"-cbwsdk-cancel-button",onClick:e.onCancel},(0,ve.h)(Tm.CloseIcon,{fill:t==="light"?"#0A0B0D":"#FFFFFF"}))),(0,ve.h)("div",{className:"-cbwsdk-connect-content-layout"},(0,ve.h)("div",{className:"-cbwsdk-connect-content-column-left"},(0,ve.h)(Dm,{title:ao.title,description:ao.description,theme:t})),(0,ve.h)("div",{className:"-cbwsdk-connect-content-column-right"},(0,ve.h)("div",{className:"-cbwsdk-connect-content-qr-wrapper"},(0,ve.h)(Pm.QRCode,{content:r,width:200,height:200,fgColor:"#000",bgColor:"transparent"}),(0,ve.h)("input",{type:"hidden",name:"cbw-cbwsdk-version",value:km.LIB_VERSION}),(0,ve.h)("input",{type:"hidden",value:r})),(0,ve.h)(n,{theme:t}),!e.isConnected&&(0,ve.h)("div",{"data-testid":"connecting-spinner",className:(0,wr.default)("-cbwsdk-connect-content-qr-connecting",t)},(0,ve.h)(Lm.Spinner,{size:36,color:t==="dark"?"#FFF":"#000"}),(0,ve.h)("p",null,"Connecting...")))))}Qr.ConnectContent=Fm;function Dm({title:e,description:t,theme:r}){return(0,ve.h)("div",{className:(0,wr.default)("-cbwsdk-connect-item",r)},(0,ve.h)("div",null,(0,ve.h)(Bm.CoinbaseWalletRound,null)),(0,ve.h)("div",{className:"-cbwsdk-connect-item-copy-wrapper"},(0,ve.h)("h3",{className:"-cbwsdk-connect-item-title"},e),(0,ve.h)("p",{className:"-cbwsdk-connect-item-description"},t)))}function Cu({theme:e}){return(0,ve.h)("ol",{className:"-cbwsdk-wallet-steps"},(0,ve.h)("li",{className:(0,wr.default)("-cbwsdk-wallet-steps-item",e)},(0,ve.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},"Open Coinbase Wallet app")),(0,ve.h)("li",{className:(0,wr.default)("-cbwsdk-wallet-steps-item",e)},(0,ve.h)("div",{className:"-cbwsdk-wallet-steps-item-wrapper"},(0,ve.h)("span",null,"Tap ",(0,ve.h)("strong",null,"Scan")," "),(0,ve.h)("span",{className:(0,wr.default)("-cbwsdk-wallet-steps-pad-left","-cbwsdk-wallet-steps-icon",e)},(0,ve.h)(Nm.QRCodeIcon,{fill:$m(e)})))))}Qr.CoinbaseWalletSteps=Cu;var rs={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.ArrowLeftIcon=void 0;const Oc=lt;function jm(e){return(0,Oc.h)("svg",Object.assign({width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),(0,Oc.h)("path",{d:"M8.60675 0.155884L7.37816 1.28209L12.7723 7.16662H0V8.83328H12.6548L6.82149 14.6666L8 15.8451L15.8201 8.02501L8.60675 0.155884Z"}))}ns.ArrowLeftIcon=jm;var is={};Object.defineProperty(is,"__esModule",{value:!0});is.LaptopIcon=void 0;const co=lt;function Um(e){return(0,co.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,co.h)("path",{d:"M1.8001 2.2002H12.2001V9.40019H1.8001V2.2002ZM3.4001 3.8002V7.80019H10.6001V3.8002H3.4001Z"}),(0,co.h)("path",{d:"M13.4001 10.2002H0.600098C0.600098 11.0838 1.31644 11.8002 2.2001 11.8002H11.8001C12.6838 11.8002 13.4001 11.0838 13.4001 10.2002Z"}))}is.LaptopIcon=Um;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.SafeIcon=void 0;const $c=lt;function Hm(e){return(0,$c.h)("svg",Object.assign({width:"14",height:"14",viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),(0,$c.h)("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M0.600098 0.600098V11.8001H13.4001V0.600098H0.600098ZM7.0001 9.2001C5.3441 9.2001 4.0001 7.8561 4.0001 6.2001C4.0001 4.5441 5.3441 3.2001 7.0001 3.2001C8.6561 3.2001 10.0001 4.5441 10.0001 6.2001C10.0001 7.8561 8.6561 9.2001 7.0001 9.2001ZM0.600098 12.6001H3.8001V13.4001H0.600098V12.6001ZM10.2001 12.6001H13.4001V13.4001H10.2001V12.6001ZM8.8001 6.2001C8.8001 7.19421 7.99421 8.0001 7.0001 8.0001C6.00598 8.0001 5.2001 7.19421 5.2001 6.2001C5.2001 5.20598 6.00598 4.4001 7.0001 4.4001C7.99421 4.4001 8.8001 5.20598 8.8001 6.2001Z"}))}ss.SafeIcon=Hm;var oa={};Object.defineProperty(oa,"__esModule",{value:!0});oa.default=(()=>".-cbwsdk-css-reset .-cbwsdk-try-extension{display:flex;margin-top:12px;height:202px;width:700px;border-radius:12px;padding:30px}.-cbwsdk-css-reset .-cbwsdk-try-extension.light{background:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension.dark{background:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-column-half{flex:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading{font-style:normal;font-weight:500;font-size:25px;line-height:32px;margin:0;max-width:204px}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.light{color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-try-extension-heading.dark{color:#fff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta{appearance:none;border:none;background:none;color:#0052ff;cursor:pointer;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.light{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta.dark{color:#588af5}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-wrapper{display:flex;align-items:center;margin-top:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-cta-icon{display:block;margin-left:4px;height:14px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:0;padding:0;list-style:none;height:100%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item{display:flex;align-items:center;flex-flow:nowrap;margin-top:24px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item:first-of-type{margin-top:0}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon-wrapper{display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon{display:flex;height:32px;width:32px;border-radius:50%}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon svg{margin:auto;display:block}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.light{background:#eef0f3}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-icon.dark{background:#1e2025}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy{display:block;font-weight:400;font-size:14px;line-height:20px;padding-left:12px}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.light{color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-try-extension-list-item-copy.dark{color:#8a919e}")();var Iu=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rs,"__esModule",{value:!0});rs.TryExtensionContent=void 0;const ur=Iu(Wn),Je=lt,lo=Ki,Wm=ns,qm=is,Vm=ss,zm=Iu(oa);function Gm({theme:e}){const[t,r]=(0,lo.useState)(!1),n=(0,lo.useCallback)(()=>{window.open("https://api.wallet.coinbase.com/rpc/v2/desktop/chrome","_blank")},[]),i=(0,lo.useCallback)(()=>{t?window.location.reload():(n(),r(!0))},[n,t]);return(0,Je.h)("div",{class:(0,ur.default)("-cbwsdk-try-extension",e)},(0,Je.h)("style",null,zm.default),(0,Je.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Je.h)("h3",{class:(0,ur.default)("-cbwsdk-try-extension-heading",e)},"Or try the Coinbase Wallet browser extension"),(0,Je.h)("div",{class:"-cbwsdk-try-extension-cta-wrapper"},(0,Je.h)("button",{class:(0,ur.default)("-cbwsdk-try-extension-cta",e),onClick:i},t?"Refresh":"Install"),(0,Je.h)("div",null,!t&&(0,Je.h)(Wm.ArrowLeftIcon,{class:"-cbwsdk-try-extension-cta-icon",fill:e==="light"?"#0052FF":"#588AF5"})))),(0,Je.h)("div",{class:"-cbwsdk-try-extension-column-half"},(0,Je.h)("ul",{class:"-cbwsdk-try-extension-list"},(0,Je.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Je.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Je.h)("span",{class:(0,ur.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Je.h)(qm.LaptopIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Je.h)("div",{class:(0,ur.default)("-cbwsdk-try-extension-list-item-copy",e)},"Connect with dapps with just one click on your desktop browser")),(0,Je.h)("li",{class:"-cbwsdk-try-extension-list-item"},(0,Je.h)("div",{class:"-cbwsdk-try-extension-list-item-icon-wrapper"},(0,Je.h)("span",{class:(0,ur.default)("-cbwsdk-try-extension-list-item-icon",e)},(0,Je.h)(Vm.SafeIcon,{fill:e==="light"?"#0A0B0D":"#FFFFFF"}))),(0,Je.h)("div",{class:(0,ur.default)("-cbwsdk-try-extension-list-item-copy",e)},"Add an additional layer of security by using a supported Ledger hardware wallet")))))}rs.TryExtensionContent=Gm;var aa={};Object.defineProperty(aa,"__esModule",{value:!0});aa.default=(()=>".-cbwsdk-css-reset .-cbwsdk-connect-dialog{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop{z-index:2147483647;position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.light{background-color:rgba(0,0,0,.5)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop.dark{background-color:rgba(50,53,61,.4)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box{display:flex;position:relative;flex-direction:column;transform:scale(1);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-box-hidden{opacity:0;transform:scale(0.85)}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container{display:block}.-cbwsdk-css-reset .-cbwsdk-connect-dialog-container-hidden{display:none}")();var Au=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ConnectDialog=void 0;const uo=Au(Wn),hr=lt,ho=Ki,Jm=Qr,Zm=rs,Km=Au(aa),Ym=e=>{const{isOpen:t,darkMode:r}=e,[n,i]=(0,ho.useState)(!t),[s,a]=(0,ho.useState)(!t);(0,ho.useEffect)(()=>{const l=[window.setTimeout(()=>{a(!t)},10)];return t?i(!1):l.push(window.setTimeout(()=>{i(!0)},360)),()=>{l.forEach(window.clearTimeout)}},[t]);const o=r?"dark":"light";return(0,hr.h)("div",{class:(0,uo.default)("-cbwsdk-connect-dialog-container",n&&"-cbwsdk-connect-dialog-container-hidden")},(0,hr.h)("style",null,Km.default),(0,hr.h)("div",{class:(0,uo.default)("-cbwsdk-connect-dialog-backdrop",o,s&&"-cbwsdk-connect-dialog-backdrop-hidden")}),(0,hr.h)("div",{class:"-cbwsdk-connect-dialog"},(0,hr.h)("div",{class:(0,uo.default)("-cbwsdk-connect-dialog-box",s&&"-cbwsdk-connect-dialog-box-hidden")},e.connectDisabled?null:(0,hr.h)(Jm.ConnectContent,{theme:o,version:e.version,sessionId:e.sessionId,sessionSecret:e.sessionSecret,linkAPIUrl:e.linkAPIUrl,isConnected:e.isConnected,isParentConnection:e.isParentConnection,chainId:e.chainId,onCancel:e.onCancel}),(0,hr.h)(Zm.TryExtensionContent,{theme:o}))))};Zi.ConnectDialog=Ym;Object.defineProperty(Ji,"__esModule",{value:!0});Ji.LinkFlow=void 0;const fo=lt,Qm=Zi;class Xm{constructor(t){this.connected=!1,this.chainId=1,this.isOpen=!1,this.onCancel=null,this.root=null,this.connectDisabled=!1,this.darkMode=t.darkMode,this.version=t.version,this.sessionId=t.sessionId,this.sessionSecret=t.sessionSecret,this.linkAPIUrl=t.linkAPIUrl,this.isParentConnection=t.isParentConnection}attach(t){this.root=document.createElement("div"),this.root.className="-cbwsdk-link-flow-root",t.appendChild(this.root),this.render()}setConnected(t){this.connected!==t&&(this.connected=t,this.render())}setChainId(t){this.chainId!==t&&(this.chainId=t,this.render())}detach(){var t;this.root&&((0,fo.render)(null,this.root),(t=this.root.parentElement)===null||t===void 0||t.removeChild(this.root))}setConnectDisabled(t){this.connectDisabled=t}open(t){this.isOpen=!0,this.onCancel=t.onCancel,this.render()}close(){this.isOpen=!1,this.onCancel=null,this.render()}render(){this.root&&(0,fo.render)((0,fo.h)(Qm.ConnectDialog,{darkMode:this.darkMode,version:this.version,sessionId:this.sessionId,sessionSecret:this.sessionSecret,linkAPIUrl:this.linkAPIUrl,isOpen:this.isOpen,isConnected:this.connected,isParentConnection:this.isParentConnection,chainId:this.chainId,onCancel:this.onCancel,connectDisabled:this.connectDisabled}),this.root)}}Ji.LinkFlow=Xm;var ca={},la={};Object.defineProperty(la,"__esModule",{value:!0});la.default=(()=>".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}")();(function(e){var t=ee&&ee.__importDefault||function(v){return v&&v.__esModule?v:{default:v}};Object.defineProperty(e,"__esModule",{value:!0}),e.SnackbarInstance=e.SnackbarContainer=e.Snackbar=void 0;const r=t(Wn),n=lt,i=Ki,s=t(la),a="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",o="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class l{constructor(w){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=w.darkMode}attach(w){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",w.appendChild(this.root),this.render()}presentItem(w){const k=this.nextItemKey++;return this.items.set(k,w),this.render(),()=>{this.items.delete(k),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&(0,n.render)((0,n.h)("div",null,(0,n.h)(e.SnackbarContainer,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([w,k])=>(0,n.h)(e.SnackbarInstance,Object.assign({},k,{key:w}))))),this.root)}}e.Snackbar=l;const g=v=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-container")},(0,n.h)("style",null,s.default),(0,n.h)("div",{class:"-cbwsdk-snackbar"},v.children));e.SnackbarContainer=g;const p=({autoExpand:v,message:w,menuItems:k})=>{const[j,O]=(0,i.useState)(!0),[D,I]=(0,i.useState)(v??!1);(0,i.useEffect)(()=>{const B=[window.setTimeout(()=>{O(!1)},1),window.setTimeout(()=>{I(!0)},1e4)];return()=>{B.forEach(window.clearTimeout)}});const P=()=>{I(!D)};return(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance",j&&"-cbwsdk-snackbar-instance-hidden",D&&"-cbwsdk-snackbar-instance-expanded")},(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header",onClick:P},(0,n.h)("img",{src:a,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-header-message"},w),(0,n.h)("div",{class:"-gear-container"},!D&&(0,n.h)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),(0,n.h)("img",{src:o,class:"-gear-icon",title:"Expand"}))),k&&k.length>0&&(0,n.h)("div",{class:"-cbwsdk-snackbar-instance-menu"},k.map((B,W)=>(0,n.h)("div",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item",B.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:B.onClick,key:W},(0,n.h)("svg",{width:B.svgWidth,height:B.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,n.h)("path",{"fill-rule":B.defaultFillRule,"clip-rule":B.defaultClipRule,d:B.path,fill:"#AAAAAA"})),(0,n.h)("span",{class:(0,r.default)("-cbwsdk-snackbar-instance-menu-item-info",B.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},B.info)))))};e.SnackbarInstance=p})(ca);Object.defineProperty(Un,"__esModule",{value:!0});Un.WalletLinkRelayUI=void 0;const ey=Hn,ty=Ji,ry=ca;class ny{constructor(t){this.standalone=null,this.attached=!1,this.snackbar=new ry.Snackbar({darkMode:t.darkMode}),this.linkFlow=new ty.LinkFlow({darkMode:t.darkMode,version:t.version,sessionId:t.session.id,sessionSecret:t.session.secret,linkAPIUrl:t.linkAPIUrl,isParentConnection:!1})}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const t=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",t.appendChild(r),this.linkFlow.attach(r),this.snackbar.attach(r),this.attached=!0,(0,ey.injectCssReset)()}setConnected(t){this.linkFlow.setConnected(t)}setChainId(t){this.linkFlow.setChainId(t)}setConnectDisabled(t){this.linkFlow.setConnectDisabled(t)}addEthereumChain(){}watchAsset(){}switchEthereumChain(){}requestEthereumAccounts(t){this.linkFlow.open({onCancel:t.onCancel})}hideRequestEthereumAccounts(){this.linkFlow.close()}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}showConnecting(t){let r;return t.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:t.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:t.onResetConnection}]},this.snackbar.presentItem(r)}reloadUI(){document.location.reload()}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}setStandalone(t){this.standalone=t}isStandalone(){var t;return(t=this.standalone)!==null&&t!==void 0?t:!1}}Un.WalletLinkRelayUI=ny;Object.defineProperty(Tn,"__esModule",{value:!0});Tn.WalletLinkRelay=void 0;const Dr=Cn,iy=Ke,qe=X,fr=cn,Fc=wt,qt=ln,sy=Vi,dr=on,oy=Un;class jt extends Fc.RelayAbstract{constructor(t){var r;super(),this.accountsCallback=null,this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.chainCallback=null,this.dappDefaultChain=1,this.appName="",this.appLogoUrl=null,this.linkedUpdated=a=>{var o;this.isLinked=a;const l=this.storage.getItem(Fc.LOCAL_STORAGE_ADDRESSES_KEY);if(a&&(this.session.linked=a),this.isUnlinkedErrorState=!1,l){const g=l.split(" "),p=this.storage.getItem("IsStandaloneSigning")==="true";if(g[0]!==""&&!a&&this.session.linked&&!p){this.isUnlinkedErrorState=!0;const v=this.getSessionIdHash();(o=this.diagnostic)===null||o===void 0||o.log(fr.EVENTS.UNLINKED_ERROR_STATE,{sessionIdHash:v})}}},this.metadataUpdated=(a,o)=>{this.storage.setItem(a,o)},this.chainUpdated=(a,o)=>{this.chainCallbackParams.chainId===a&&this.chainCallbackParams.jsonRpcUrl===o||(this.chainCallbackParams={chainId:a,jsonRpcUrl:o},this.chainCallback&&this.chainCallback(a,o))},this.accountUpdated=a=>{this.accountsCallback&&this.accountsCallback([a]),jt.accountRequestCallbackIds.size>0&&(Array.from(jt.accountRequestCallbackIds.values()).forEach(o=>{const l={type:"WEB3_RESPONSE",id:o,response:{method:"requestEthereumAccounts",result:[a]}};this.invokeCallback(Object.assign(Object.assign({},l),{id:o}))}),jt.accountRequestCallbackIds.clear())},this.connectedUpdated=a=>{this.ui.setConnected(a)},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=t.linkAPIUrl,this.storage=t.storage,this.options=t;const{session:n,ui:i,connection:s}=this.subscribe();this._session=n,this.connection=s,this.relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this._reloadOnDisconnect=(r=t.reloadOnDisconnect)!==null&&r!==void 0?r:!0,this.ui=i}subscribe(){const t=qt.Session.load(this.storage)||new qt.Session(this.storage).save(),{linkAPIUrl:r,diagnostic:n}=this,i=new sy.WalletLinkConnection({session:t,linkAPIUrl:r,diagnostic:n,listener:this}),{version:s,darkMode:a}=this.options,o=this.options.uiConstructor({linkAPIUrl:r,version:s,darkMode:a,session:t});return i.connect(),{session:t,ui:o,connection:i}}attachUI(){this.ui.attach()}resetAndReload(){Promise.race([this.connection.setSessionMetadata("__destroyed","1"),new Promise(t=>setTimeout(()=>t(null),1e3))]).then(()=>{var t,r;const n=this.ui.isStandalone();(t=this.diagnostic)===null||t===void 0||t.log(fr.EVENTS.SESSION_STATE_CHANGE,{method:"relay::resetAndReload",sessionMetadataChange:"__destroyed, 1",sessionIdHash:this.getSessionIdHash()}),this.connection.destroy();const i=qt.Session.load(this.storage);if(i?.id===this._session.id?this.storage.clear():i&&((r=this.diagnostic)===null||r===void 0||r.log(fr.EVENTS.SKIPPED_CLEARING_SESSION,{sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:qt.Session.hash(i.id)})),this._reloadOnDisconnect){this.ui.reloadUI();return}this.accountsCallback&&this.accountsCallback([],!0);const{session:s,ui:a,connection:o}=this.subscribe();this._session=s,this.connection=o,this.ui=a,n&&this.ui.setStandalone&&this.ui.setStandalone(!0),this.options.headlessMode||this.attachUI()}).catch(t=>{var r;(r=this.diagnostic)===null||r===void 0||r.log(fr.EVENTS.FAILURE,{method:"relay::resetAndReload",message:`failed to reset and reload with ${t}`,sessionIdHash:this.getSessionIdHash()})})}setAppInfo(t,r){this.appName=t,this.appLogoUrl=r}getStorageItem(t){return this.storage.getItem(t)}get session(){return this._session}setStorageItem(t,r){this.storage.setItem(t,r)}signEthereumMessage(t,r,n,i){return this.sendRequest({method:"signEthereumMessage",params:{message:(0,qe.hexStringFromBuffer)(t,!0),address:r,addPrefix:n,typedDataJson:i||null}})}ethereumAddressFromSignedMessage(t,r,n){return this.sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:(0,qe.hexStringFromBuffer)(t,!0),signature:(0,qe.hexStringFromBuffer)(r,!0),addPrefix:n}})}signEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,qe.bigIntStringFromBN)(t.weiValue),data:(0,qe.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,qe.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.gasPriceInWei?(0,qe.bigIntStringFromBN)(t.gasPriceInWei):null,maxPriorityFeePerGas:t.gasPriceInWei?(0,qe.bigIntStringFromBN)(t.gasPriceInWei):null,gasLimit:t.gasLimit?(0,qe.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(t){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:t.fromAddress,toAddress:t.toAddress,weiValue:(0,qe.bigIntStringFromBN)(t.weiValue),data:(0,qe.hexStringFromBuffer)(t.data,!0),nonce:t.nonce,gasPriceInWei:t.gasPriceInWei?(0,qe.bigIntStringFromBN)(t.gasPriceInWei):null,maxFeePerGas:t.maxFeePerGas?(0,qe.bigIntStringFromBN)(t.maxFeePerGas):null,maxPriorityFeePerGas:t.maxPriorityFeePerGas?(0,qe.bigIntStringFromBN)(t.maxPriorityFeePerGas):null,gasLimit:t.gasLimit?(0,qe.bigIntStringFromBN)(t.gasLimit):null,chainId:t.chainId,shouldSubmit:!0}})}submitEthereumTransaction(t,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:(0,qe.hexStringFromBuffer)(t,!0),chainId:r}})}scanQRCode(t){return this.sendRequest({method:"scanQRCode",params:{regExp:t}})}getQRCodeUrl(){return(0,qe.createQrUrl)(this._session.id,this._session.secret,this.linkAPIUrl,!1,this.options.version,this.dappDefaultChain)}genericRequest(t,r){return this.sendRequest({method:"generic",params:{action:r,data:t}})}sendGenericMessage(t){return this.sendRequest(t)}sendRequest(t){let r=null;const n=(0,qe.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,t.method,a),r?.()};return{promise:new Promise((a,o)=>{this.ui.isStandalone()||(r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload})),this.relayEventManager.callbacks.set(n,l=>{if(r?.(),(0,dr.isErrorResponse)(l))return o(new Error(l.errorMessage));a(l)}),this.ui.isStandalone()?this.sendRequestStandalone(n,t):this.publishWeb3RequestEvent(n,t)}),cancel:i}}setConnectDisabled(t){this.ui.setConnectDisabled(t)}setAccountsCallback(t){this.accountsCallback=t}setChainCallback(t){this.chainCallback=t}setDappDefaultChainCallback(t){this.dappDefaultChain=t,this.ui instanceof oy.WalletLinkRelayUI&&this.ui.setChainId(t)}publishWeb3RequestEvent(t,r){var n;const i={type:"WEB3_REQUEST",id:t,request:r},s=qt.Session.load(this.storage);(n=this.diagnostic)===null||n===void 0||n.log(fr.EVENTS.WEB3_REQUEST,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?qt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()}),this.publishEvent("Web3Request",i,!0).then(a=>{var o;(o=this.diagnostic)===null||o===void 0||o.log(fr.EVENTS.WEB3_REQUEST_PUBLISHED,{eventId:i.id,method:`relay::${r.method}`,sessionIdHash:this.getSessionIdHash(),storedSessionIdHash:s?qt.Session.hash(s.id):"",isSessionMismatched:(s?.id!==this._session.id).toString()})}).catch(a=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i.id,response:{method:r.method,errorMessage:a.message}})})}publishWeb3RequestCanceledEvent(t){const r={type:"WEB3_REQUEST_CANCELED",id:t};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(t,r,n){return this.connection.publishEvent(t,r,n)}handleWeb3ResponseMessage(t){var r;const{response:n}=t;if((r=this.diagnostic)===null||r===void 0||r.log(fr.EVENTS.WEB3_RESPONSE,{eventId:t.id,method:`relay::${n.method}`,sessionIdHash:this.getSessionIdHash()}),n.method==="requestEthereumAccounts"){jt.accountRequestCallbackIds.forEach(i=>this.invokeCallback(Object.assign(Object.assign({},t),{id:i}))),jt.accountRequestCallbackIds.clear();return}this.invokeCallback(t)}handleErrorResponse(t,r,n,i){var s;const a=(s=n?.message)!==null&&s!==void 0?s:(0,Dr.getMessageFromCode)(i);this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:{method:r,errorMessage:a,errorCode:i}})}invokeCallback(t){const r=this.relayEventManager.callbacks.get(t.id);r&&(r(t.response),this.relayEventManager.callbacks.delete(t.id))}requestEthereumAccounts(){const t={method:"requestEthereumAccounts",params:{appName:this.appName,appLogoUrl:this.appLogoUrl||null}},r=(0,qe.randomBytesHex)(8),n=s=>{this.publishWeb3RequestCanceledEvent(r),this.handleErrorResponse(r,t.method,s)};return{promise:new Promise((s,a)=>{if(this.relayEventManager.callbacks.set(r,o=>{if(this.ui.hideRequestEthereumAccounts(),(0,dr.isErrorResponse)(o))return a(new Error(o.errorMessage));s(o)}),this.ui.inlineAccountsResponse()){const o=l=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:r,response:{method:"requestEthereumAccounts",result:l}})};this.ui.requestEthereumAccounts({onCancel:n,onAccounts:o})}else{const o=Dr.standardErrors.provider.userRejectedRequest("User denied account authorization");this.ui.requestEthereumAccounts({onCancel:()=>n(o)})}jt.accountRequestCallbackIds.add(r),!this.ui.inlineAccountsResponse()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(r,t)}),cancel:n}}selectProvider(t){const r={method:"selectProvider",params:{providerOptions:t}},n=(0,qe.randomBytesHex)(8),i=a=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,r.method,a)},s=new Promise((a,o)=>{this.relayEventManager.callbacks.set(n,p=>{if((0,dr.isErrorResponse)(p))return o(new Error(p.errorMessage));a(p)});const l=p=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:iy.ProviderType.Unselected}})},g=p=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:n,response:{method:"selectProvider",result:p}})};this.ui.selectProvider&&this.ui.selectProvider({onApprove:g,onCancel:l,providerOptions:t})});return{cancel:i,promise:s}}watchAsset(t,r,n,i,s,a){const o={method:"watchAsset",params:{type:t,options:{address:r,symbol:n,decimals:i,image:s},chainId:a}};let l=null;const g=(0,qe.randomBytesHex)(8),p=w=>{this.publishWeb3RequestCanceledEvent(g),this.handleErrorResponse(g,o.method,w),l?.()};this.ui.inlineWatchAsset()||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload}));const v=new Promise((w,k)=>{this.relayEventManager.callbacks.set(g,D=>{if(l?.(),(0,dr.isErrorResponse)(D))return k(new Error(D.errorMessage));w(D)});const j=D=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:g,response:{method:"watchAsset",result:!1}})},O=()=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:g,response:{method:"watchAsset",result:!0}})};this.ui.inlineWatchAsset()&&this.ui.watchAsset({onApprove:O,onCancel:j,type:t,address:r,symbol:n,decimals:i,image:s,chainId:a}),!this.ui.inlineWatchAsset()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(g,o)});return{cancel:p,promise:v}}addEthereumChain(t,r,n,i,s,a){const o={method:"addEthereumChain",params:{chainId:t,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:a}};let l=null;const g=(0,qe.randomBytesHex)(8),p=w=>{this.publishWeb3RequestCanceledEvent(g),this.handleErrorResponse(g,o.method,w),l?.()};return this.ui.inlineAddEthereumChain(t)||(l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:p,onResetConnection:this.resetAndReload})),{promise:new Promise((w,k)=>{this.relayEventManager.callbacks.set(g,D=>{if(l?.(),(0,dr.isErrorResponse)(D))return k(new Error(D.errorMessage));w(D)});const j=D=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:g,response:{method:"addEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},O=D=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:g,response:{method:"addEthereumChain",result:{isApproved:!0,rpcUrl:D}}})};this.ui.inlineAddEthereumChain(t)&&this.ui.addEthereumChain({onCancel:j,onApprove:O,chainId:o.params.chainId,rpcUrls:o.params.rpcUrls,blockExplorerUrls:o.params.blockExplorerUrls,chainName:o.params.chainName,iconUrls:o.params.iconUrls,nativeCurrency:o.params.nativeCurrency}),!this.ui.inlineAddEthereumChain(t)&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(g,o)}),cancel:p}}switchEthereumChain(t,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:t},{address:r})},i=(0,qe.randomBytesHex)(8),s=o=>{this.publishWeb3RequestCanceledEvent(i),this.handleErrorResponse(i,n.method,o)};return{promise:new Promise((o,l)=>{this.relayEventManager.callbacks.set(i,v=>{if((0,dr.isErrorResponse)(v)&&v.errorCode)return l(Dr.standardErrors.provider.custom({code:v.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if((0,dr.isErrorResponse)(v))return l(new Error(v.errorMessage));o(v)});const g=v=>{var w;if(v){const k=(w=(0,Dr.getErrorCode)(v))!==null&&w!==void 0?w:Dr.standardErrorCodes.provider.unsupportedChain;this.handleErrorResponse(i,"switchEthereumChain",v instanceof Error?v:Dr.standardErrors.provider.unsupportedChain(t),k)}else this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!1,rpcUrl:""}}})},p=v=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:i,response:{method:"switchEthereumChain",result:{isApproved:!0,rpcUrl:v}}})};this.ui.switchEthereumChain({onCancel:g,onApprove:p,chainId:n.params.chainId,address:n.params.address}),!this.ui.inlineSwitchEthereumChain()&&!this.ui.isStandalone()&&this.publishWeb3RequestEvent(i,n)}),cancel:s}}inlineAddEthereumChain(t){return this.ui.inlineAddEthereumChain(t)}getSessionIdHash(){return qt.Session.hash(this._session.id)}sendRequestStandalone(t,r){const n=s=>{this.handleErrorResponse(t,r.method,s)},i=s=>{this.handleWeb3ResponseMessage({type:"WEB3_RESPONSE",id:t,response:s})};switch(r.method){case"signEthereumMessage":this.ui.signEthereumMessage({request:r,onSuccess:i,onCancel:n});break;case"signEthereumTransaction":this.ui.signEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"submitEthereumTransaction":this.ui.submitEthereumTransaction({request:r,onSuccess:i,onCancel:n});break;case"ethereumAddressFromSignedMessage":this.ui.ethereumAddressFromSignedMessage({request:r,onSuccess:i});break;default:n();break}}}Tn.WalletLinkRelay=jt;jt.accountRequestCallbackIds=new Set;var qn={},os={},xu={};(function(e){var t=ee&&ee.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s);var o=Object.getOwnPropertyDescriptor(i,s);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,a,o)}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=ee&&ee.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ca,e)})(xu);var ua={};Object.defineProperty(ua,"__esModule",{value:!0});ua.default=(()=>".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}")();var ku=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(os,"__esModule",{value:!0});os.RedirectDialog=void 0;const ay=ku(Wn),Nt=lt,cy=Hn,ly=xu,uy=ku(ua);class hy{constructor(){this.root=null}attach(){const t=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",t.appendChild(this.root),(0,cy.injectCssReset)()}present(t){this.render(t)}clear(){this.render(null)}render(t){this.root&&((0,Nt.render)(null,this.root),t&&(0,Nt.render)((0,Nt.h)(fy,Object.assign({},t,{onDismiss:()=>{this.clear()}})),this.root))}}os.RedirectDialog=hy;const fy=({title:e,buttonText:t,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return(0,Nt.h)(ly.SnackbarContainer,{darkMode:r},(0,Nt.h)("div",{class:"-cbwsdk-redirect-dialog"},(0,Nt.h)("style",null,uy.default),(0,Nt.h)("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),(0,Nt.h)("div",{class:(0,ay.default)("-cbwsdk-redirect-dialog-box",s)},(0,Nt.h)("p",null,e),(0,Nt.h)("button",{onClick:n},t))))};Object.defineProperty(qn,"__esModule",{value:!0});qn.MobileRelayUI=void 0;const dy=os;class py{constructor(t){this.attached=!1,this.darkMode=!1,this.redirectDialog=new dy.RedirectDialog,this.darkMode=t.darkMode}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}setConnected(t){}redirectToCoinbaseWallet(t){const r=new URL("https://go.cb-w.com/walletlink");r.searchParams.append("redirect_url",window.location.href),t&&r.searchParams.append("wl_url",t);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(t){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",darkMode:this.darkMode,onButtonClick:()=>{this.redirectToCoinbaseWallet(t)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(t)},99)}showConnecting(t){return()=>{this.redirectDialog.clear()}}hideRequestEthereumAccounts(){this.redirectDialog.clear()}requestEthereumAccounts(){}addEthereumChain(){}watchAsset(){}selectProvider(){}switchEthereumChain(){}signEthereumMessage(){}signEthereumTransaction(){}submitEthereumTransaction(){}ethereumAddressFromSignedMessage(){}reloadUI(){}setStandalone(){}setConnectDisabled(){}inlineAccountsResponse(){return!1}inlineAddEthereumChain(){return!1}inlineWatchAsset(){return!1}inlineSwitchEthereumChain(){return!1}isStandalone(){return!1}}qn.MobileRelayUI=py;Object.defineProperty(kn,"__esModule",{value:!0});kn.MobileRelay=void 0;const gy=X,my=Tn,yy=qn;class vy extends my.WalletLinkRelay{constructor(t){var r;super(t),this._enableMobileWalletLink=(r=t.enableMobileWalletLink)!==null&&r!==void 0?r:!1}requestEthereumAccounts(){return this._enableMobileWalletLink?super.requestEthereumAccounts():{promise:new Promise(()=>{const t=(0,gy.getLocation)();t.href=`https://go.cb-w.com/dapp?cb_url=${encodeURIComponent(t.href)}`}),cancel:()=>{}}}publishWeb3RequestEvent(t,r){if(super.publishWeb3RequestEvent(t,r),!(this._enableMobileWalletLink&&this.ui instanceof yy.MobileRelayUI))return;let n=!1;switch(r.method){case"requestEthereumAccounts":case"connectAndSignIn":n=!0,this.ui.openCoinbaseWalletDeeplink(this.getQRCodeUrl());break;case"switchEthereumChain":return;default:n=!0,this.ui.openCoinbaseWalletDeeplink();break}n&&window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0})}handleWeb3ResponseMessage(t){super.handleWeb3ResponseMessage(t)}connectAndSignIn(t){if(!this._enableMobileWalletLink)throw new Error("connectAndSignIn is supported only when enableMobileWalletLink is on");return this.sendRequest({method:"connectAndSignIn",params:{appName:this.appName,appLogoUrl:this.appLogoUrl,domain:window.location.hostname,aud:window.location.href,version:"1",type:"eip4361",nonce:t.nonce,iat:new Date().toISOString(),chainId:`eip155:${this.dappDefaultChain}`,statement:t.statement,resources:t.resources}})}}kn.MobileRelay=vy;var Lo={exports:{}},Tu=Ci.EventEmitter,po,Dc;function wy(){if(Dc)return po;Dc=1;function e(j,O){var D=Object.keys(j);if(Object.getOwnPropertySymbols){var I=Object.getOwnPropertySymbols(j);O&&(I=I.filter(function(P){return Object.getOwnPropertyDescriptor(j,P).enumerable})),D.push.apply(D,I)}return D}function t(j){for(var O=1;O<arguments.length;O++){var D=arguments[O]!=null?arguments[O]:{};O%2?e(Object(D),!0).forEach(function(I){r(j,I,D[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(D)):e(Object(D)).forEach(function(I){Object.defineProperty(j,I,Object.getOwnPropertyDescriptor(D,I))})}return j}function r(j,O,D){return O=a(O),O in j?Object.defineProperty(j,O,{value:D,enumerable:!0,configurable:!0,writable:!0}):j[O]=D,j}function n(j,O){if(!(j instanceof O))throw new TypeError("Cannot call a class as a function")}function i(j,O){for(var D=0;D<O.length;D++){var I=O[D];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(j,a(I.key),I)}}function s(j,O,D){return O&&i(j.prototype,O),D&&i(j,D),Object.defineProperty(j,"prototype",{writable:!1}),j}function a(j){var O=o(j,"string");return typeof O=="symbol"?O:String(O)}function o(j,O){if(typeof j!="object"||j===null)return j;var D=j[Symbol.toPrimitive];if(D!==void 0){var I=D.call(j,O||"default");if(typeof I!="object")return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return(O==="string"?String:Number)(j)}var l=un,g=l.Buffer,p=Ko,v=p.inspect,w=v&&v.custom||"inspect";function k(j,O,D){g.prototype.copy.call(j,O,D)}return po=function(){function j(){n(this,j),this.head=null,this.tail=null,this.length=0}return s(j,[{key:"push",value:function(D){var I={data:D,next:null};this.length>0?this.tail.next=I:this.head=I,this.tail=I,++this.length}},{key:"unshift",value:function(D){var I={data:D,next:this.head};this.length===0&&(this.tail=I),this.head=I,++this.length}},{key:"shift",value:function(){if(this.length!==0){var D=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,D}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(D){if(this.length===0)return"";for(var I=this.head,P=""+I.data;I=I.next;)P+=D+I.data;return P}},{key:"concat",value:function(D){if(this.length===0)return g.alloc(0);for(var I=g.allocUnsafe(D>>>0),P=this.head,B=0;P;)k(P.data,I,B),B+=P.data.length,P=P.next;return I}},{key:"consume",value:function(D,I){var P;return D<this.head.data.length?(P=this.head.data.slice(0,D),this.head.data=this.head.data.slice(D)):D===this.head.data.length?P=this.shift():P=I?this._getString(D):this._getBuffer(D),P}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(D){var I=this.head,P=1,B=I.data;for(D-=B.length;I=I.next;){var W=I.data,U=D>W.length?W.length:D;if(U===W.length?B+=W:B+=W.slice(0,D),D-=U,D===0){U===W.length?(++P,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=W.slice(U));break}++P}return this.length-=P,B}},{key:"_getBuffer",value:function(D){var I=g.allocUnsafe(D),P=this.head,B=1;for(P.data.copy(I),D-=P.data.length;P=P.next;){var W=P.data,U=D>W.length?W.length:D;if(W.copy(I,I.length-D,0,U),D-=U,D===0){U===W.length?(++B,P.next?this.head=P.next:this.head=this.tail=null):(this.head=P,P.data=W.slice(U));break}++B}return this.length-=B,I}},{key:w,value:function(D,I){return v(this,t(t({},I),{},{depth:0,customInspect:!1}))}}]),j}(),po}function by(e,t){var r=this,n=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return n||i?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(Oo,this,e)):process.nextTick(Oo,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(s){!t&&s?r._writableState?r._writableState.errorEmitted?process.nextTick(wi,r):(r._writableState.errorEmitted=!0,process.nextTick(jc,r,s)):process.nextTick(jc,r,s):t?(process.nextTick(wi,r),t(s)):process.nextTick(wi,r)}),this)}function jc(e,t){Oo(e,t),wi(e)}function wi(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function _y(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function Oo(e,t){e.emit("error",t)}function Ey(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}var Bu={destroy:by,undestroy:_y,errorOrDestroy:Ey},Sr={};function Sy(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Nu={};function Et(e,t,r){r||(r=Error);function n(s,a,o){return typeof t=="string"?t:t(s,a,o)}var i=function(s){Sy(a,s);function a(o,l,g){return s.call(this,n(o,l,g))||this}return a}(r);i.prototype.name=r.name,i.prototype.code=e,Nu[e]=i}function Uc(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(n){return String(n)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:r===2?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}else return"of ".concat(t," ").concat(String(e))}function Ry(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function My(e,t,r){return(r===void 0||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}function Cy(e,t,r){return typeof r!="number"&&(r=0),r+t.length>e.length?!1:e.indexOf(t,r)!==-1}Et("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);Et("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;typeof t=="string"&&Ry(t,"not ")?(n="must not be",t=t.replace(/^not /,"")):n="must be";var i;if(My(e," argument"))i="The ".concat(e," ").concat(n," ").concat(Uc(t,"type"));else{var s=Cy(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(Uc(t,"type"))}return i+=". Received type ".concat(typeof r),i},TypeError);Et("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");Et("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});Et("ERR_STREAM_PREMATURE_CLOSE","Premature close");Et("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});Et("ERR_MULTIPLE_CALLBACK","Callback called multiple times");Et("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");Et("ERR_STREAM_WRITE_AFTER_END","write after end");Et("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);Et("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);Et("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");Sr.codes=Nu;var Iy=Sr.codes.ERR_INVALID_OPT_VALUE;function Ay(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function xy(e,t,r,n){var i=Ay(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var s=n?r:"highWaterMark";throw new Iy(s,i)}return Math.floor(i)}return e.objectMode?16:16*1024}var Pu={getHighWaterMark:xy},ky=Ty;function Ty(e,t){if(go("noDeprecation"))return e;var r=!1;function n(){if(!r){if(go("throwDeprecation"))throw new Error(t);go("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}return n}function go(e){try{if(!ee.localStorage)return!1}catch{return!1}var t=ee.localStorage[e];return t==null?!1:String(t).toLowerCase()==="true"}var mo,Hc;function Lu(){if(Hc)return mo;Hc=1,mo=Q;function e(T){var $=this;this.next=null,this.entry=null,this.finish=function(){J($,T)}}var t;Q.WritableState=z;var r={deprecate:ky},n=Tu,i=un.Buffer,s=(typeof ee<"u"?ee:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(T){return i.from(T)}function o(T){return i.isBuffer(T)||T instanceof s}var l=Bu,g=Pu,p=g.getHighWaterMark,v=Sr.codes,w=v.ERR_INVALID_ARG_TYPE,k=v.ERR_METHOD_NOT_IMPLEMENTED,j=v.ERR_MULTIPLE_CALLBACK,O=v.ERR_STREAM_CANNOT_PIPE,D=v.ERR_STREAM_DESTROYED,I=v.ERR_STREAM_NULL_VALUES,P=v.ERR_STREAM_WRITE_AFTER_END,B=v.ERR_UNKNOWN_ENCODING,W=l.errorOrDestroy;At(Q,n);function U(){}function z(T,$,q){t=t||Xr(),T=T||{},typeof q!="boolean"&&(q=$ instanceof t),this.objectMode=!!T.objectMode,q&&(this.objectMode=this.objectMode||!!T.writableObjectMode),this.highWaterMark=p(this,T,"writableHighWaterMark",q),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=T.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=T.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){y($,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=T.emitClose!==!1,this.autoDestroy=!!T.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}z.prototype.getBuffer=function(){for(var $=this.bufferedRequest,q=[];$;)q.push($),$=$.next;return q},function(){try{Object.defineProperty(z.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var te;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(te=Function.prototype[Symbol.hasInstance],Object.defineProperty(Q,Symbol.hasInstance,{value:function($){return te.call(this,$)?!0:this!==Q?!1:$&&$._writableState instanceof z}})):te=function($){return $ instanceof this};function Q(T){t=t||Xr();var $=this instanceof t;if(!$&&!te.call(Q,this))return new Q(T);this._writableState=new z(T,this,$),this.writable=!0,T&&(typeof T.write=="function"&&(this._write=T.write),typeof T.writev=="function"&&(this._writev=T.writev),typeof T.destroy=="function"&&(this._destroy=T.destroy),typeof T.final=="function"&&(this._final=T.final)),n.call(this)}Q.prototype.pipe=function(){W(this,new O)};function Y(T,$){var q=new P;W(T,q),process.nextTick($,q)}function de(T,$,q,Z){var ue;return q===null?ue=new I:typeof q!="string"&&!$.objectMode&&(ue=new w("chunk",["string","Buffer"],q)),ue?(W(T,ue),process.nextTick(Z,ue),!1):!0}Q.prototype.write=function(T,$,q){var Z=this._writableState,ue=!1,M=!Z.objectMode&&o(T);return M&&!i.isBuffer(T)&&(T=a(T)),typeof $=="function"&&(q=$,$=null),M?$="buffer":$||($=Z.defaultEncoding),typeof q!="function"&&(q=U),Z.ending?Y(this,q):(M||de(this,Z,T,q))&&(Z.pendingcb++,ue=pe(this,Z,M,T,$,q)),ue},Q.prototype.cork=function(){this._writableState.corked++},Q.prototype.uncork=function(){var T=this._writableState;T.corked&&(T.corked--,!T.writing&&!T.corked&&!T.bufferProcessing&&T.bufferedRequest&&A(this,T))},Q.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new B($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(Q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function oe(T,$,q){return!T.objectMode&&T.decodeStrings!==!1&&typeof $=="string"&&($=i.from($,q)),$}Object.defineProperty(Q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function pe(T,$,q,Z,ue,M){if(!q){var C=oe($,Z,ue);Z!==C&&(q=!0,ue="buffer",Z=C)}var V=$.objectMode?1:Z.length;$.length+=V;var G=$.length<$.highWaterMark;if(G||($.needDrain=!0),$.writing||$.corked){var se=$.lastBufferedRequest;$.lastBufferedRequest={chunk:Z,encoding:ue,isBuf:q,callback:M,next:null},se?se.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else x(T,$,!1,V,Z,ue,M);return G}function x(T,$,q,Z,ue,M,C){$.writelen=Z,$.writecb=C,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new D("write")):q?T._writev(ue,$.onwrite):T._write(ue,M,$.onwrite),$.sync=!1}function c(T,$,q,Z,ue){--$.pendingcb,q?(process.nextTick(ue,Z),process.nextTick(R,T,$),T._writableState.errorEmitted=!0,W(T,Z)):(ue(Z),T._writableState.errorEmitted=!0,W(T,Z),R(T,$))}function d(T){T.writing=!1,T.writecb=null,T.length-=T.writelen,T.writelen=0}function y(T,$){var q=T._writableState,Z=q.sync,ue=q.writecb;if(typeof ue!="function")throw new j;if(d(q),$)c(T,q,Z,$,ue);else{var M=N(q)||T.destroyed;!M&&!q.corked&&!q.bufferProcessing&&q.bufferedRequest&&A(T,q),Z?process.nextTick(b,T,q,M,ue):b(T,q,M,ue)}}function b(T,$,q,Z){q||S(T,$),$.pendingcb--,Z(),R(T,$)}function S(T,$){$.length===0&&$.needDrain&&($.needDrain=!1,T.emit("drain"))}function A(T,$){$.bufferProcessing=!0;var q=$.bufferedRequest;if(T._writev&&q&&q.next){var Z=$.bufferedRequestCount,ue=new Array(Z),M=$.corkedRequestsFree;M.entry=q;for(var C=0,V=!0;q;)ue[C]=q,q.isBuf||(V=!1),q=q.next,C+=1;ue.allBuffers=V,x(T,$,!0,$.length,ue,"",M.finish),$.pendingcb++,$.lastBufferedRequest=null,M.next?($.corkedRequestsFree=M.next,M.next=null):$.corkedRequestsFree=new e($),$.bufferedRequestCount=0}else{for(;q;){var G=q.chunk,se=q.encoding,he=q.callback,re=$.objectMode?1:G.length;if(x(T,$,!1,re,G,se,he),q=q.next,$.bufferedRequestCount--,$.writing)break}q===null&&($.lastBufferedRequest=null)}$.bufferedRequest=q,$.bufferProcessing=!1}Q.prototype._write=function(T,$,q){q(new k("_write()"))},Q.prototype._writev=null,Q.prototype.end=function(T,$,q){var Z=this._writableState;return typeof T=="function"?(q=T,T=null,$=null):typeof $=="function"&&(q=$,$=null),T!=null&&this.write(T,$),Z.corked&&(Z.corked=1,this.uncork()),Z.ending||K(this,Z,q),this},Object.defineProperty(Q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function N(T){return T.ending&&T.length===0&&T.bufferedRequest===null&&!T.finished&&!T.writing}function _(T,$){T._final(function(q){$.pendingcb--,q&&W(T,q),$.prefinished=!0,T.emit("prefinish"),R(T,$)})}function h(T,$){!$.prefinished&&!$.finalCalled&&(typeof T._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,process.nextTick(_,T,$)):($.prefinished=!0,T.emit("prefinish")))}function R(T,$){var q=N($);if(q&&(h(T,$),$.pendingcb===0&&($.finished=!0,T.emit("finish"),$.autoDestroy))){var Z=T._readableState;(!Z||Z.autoDestroy&&Z.endEmitted)&&T.destroy()}return q}function K(T,$,q){$.ending=!0,R(T,$),q&&($.finished?process.nextTick(q):T.once("finish",q)),$.ended=!0,T.writable=!1}function J(T,$,q){var Z=T.entry;for(T.entry=null;Z;){var ue=Z.callback;$.pendingcb--,ue(q),Z=Z.next}$.corkedRequestsFree.next=T}return Object.defineProperty(Q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),Q.prototype.destroy=l.destroy,Q.prototype._undestroy=l.undestroy,Q.prototype._destroy=function(T,$){$(T)},mo}var yo,Wc;function Xr(){if(Wc)return yo;Wc=1;var e=Object.keys||function(g){var p=[];for(var v in g)p.push(v);return p};yo=a;var t=$u(),r=Lu();At(a,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=r.prototype[s])}function a(g){if(!(this instanceof a))return new a(g);t.call(this,g),r.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||process.nextTick(l,this)}function l(g){g.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(p){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=p,this._writableState.destroyed=p)}}),yo}var vo={},hi={exports:{}},qc;function By(){return qc||(qc=1,function(e,t){var r=un,n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var g=n(a);return o!==void 0?typeof l=="string"?g.fill(o,l):g.fill(o):g.fill(0),g},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(hi,hi.exports)),hi.exports}var Vc;function zc(){if(Vc)return vo;Vc=1;var e=By().Buffer,t=e.isEncoding||function(I){switch(I=""+I,I&&I.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(I){if(!I)return"utf8";for(var P;;)switch(I){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return I;default:if(P)return;I=(""+I).toLowerCase(),P=!0}}function n(I){var P=r(I);if(typeof P!="string"&&(e.isEncoding===t||!t(I)))throw new Error("Unknown encoding: "+I);return P||I}vo.StringDecoder=i;function i(I){this.encoding=n(I);var P;switch(this.encoding){case"utf16le":this.text=v,this.end=w,P=4;break;case"utf8":this.fillLast=l,P=4;break;case"base64":this.text=k,this.end=j,P=3;break;default:this.write=O,this.end=D;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(P)}i.prototype.write=function(I){if(I.length===0)return"";var P,B;if(this.lastNeed){if(P=this.fillLast(I),P===void 0)return"";B=this.lastNeed,this.lastNeed=0}else B=0;return B<I.length?P?P+this.text(I,B):this.text(I,B):P||""},i.prototype.end=p,i.prototype.text=g,i.prototype.fillLast=function(I){if(this.lastNeed<=I.length)return I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,this.lastTotal-this.lastNeed,0,I.length),this.lastNeed-=I.length};function s(I){return I<=127?0:I>>5===6?2:I>>4===14?3:I>>3===30?4:I>>6===2?-1:-2}function a(I,P,B){var W=P.length-1;if(W<B)return 0;var U=s(P[W]);return U>=0?(U>0&&(I.lastNeed=U-1),U):--W<B||U===-2?0:(U=s(P[W]),U>=0?(U>0&&(I.lastNeed=U-2),U):--W<B||U===-2?0:(U=s(P[W]),U>=0?(U>0&&(U===2?U=0:I.lastNeed=U-3),U):0))}function o(I,P,B){if((P[0]&192)!==128)return I.lastNeed=0,"";if(I.lastNeed>1&&P.length>1){if((P[1]&192)!==128)return I.lastNeed=1,"";if(I.lastNeed>2&&P.length>2&&(P[2]&192)!==128)return I.lastNeed=2,""}}function l(I){var P=this.lastTotal-this.lastNeed,B=o(this,I);if(B!==void 0)return B;if(this.lastNeed<=I.length)return I.copy(this.lastChar,P,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);I.copy(this.lastChar,P,0,I.length),this.lastNeed-=I.length}function g(I,P){var B=a(this,I,P);if(!this.lastNeed)return I.toString("utf8",P);this.lastTotal=B;var W=I.length-(B-this.lastNeed);return I.copy(this.lastChar,0,W),I.toString("utf8",P,W)}function p(I){var P=I&&I.length?this.write(I):"";return this.lastNeed?P+"":P}function v(I,P){if((I.length-P)%2===0){var B=I.toString("utf16le",P);if(B){var W=B.charCodeAt(B.length-1);if(W>=55296&&W<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1],B.slice(0,-1)}return B}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=I[I.length-1],I.toString("utf16le",P,I.length-1)}function w(I){var P=I&&I.length?this.write(I):"";if(this.lastNeed){var B=this.lastTotal-this.lastNeed;return P+this.lastChar.toString("utf16le",0,B)}return P}function k(I,P){var B=(I.length-P)%3;return B===0?I.toString("base64",P):(this.lastNeed=3-B,this.lastTotal=3,B===1?this.lastChar[0]=I[I.length-1]:(this.lastChar[0]=I[I.length-2],this.lastChar[1]=I[I.length-1]),I.toString("base64",P,I.length-B))}function j(I){var P=I&&I.length?this.write(I):"";return this.lastNeed?P+this.lastChar.toString("base64",0,3-this.lastNeed):P}function O(I){return I.toString(this.encoding)}function D(I){return I&&I.length?this.write(I):""}return vo}var Gc=Sr.codes.ERR_STREAM_PREMATURE_CLOSE;function Ny(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}function Py(){}function Ly(e){return e.setHeader&&typeof e.abort=="function"}function Ou(e,t,r){if(typeof t=="function")return Ou(e,null,t);t||(t={}),r=Ny(r||Py);var n=t.readable||t.readable!==!1&&e.readable,i=t.writable||t.writable!==!1&&e.writable,s=function(){e.writable||o()},a=e._writableState&&e._writableState.finished,o=function(){i=!1,a=!0,n||r.call(e)},l=e._readableState&&e._readableState.endEmitted,g=function(){n=!1,l=!0,i||r.call(e)},p=function(j){r.call(e,j)},v=function(){var j;if(n&&!l)return(!e._readableState||!e._readableState.ended)&&(j=new Gc),r.call(e,j);if(i&&!a)return(!e._writableState||!e._writableState.ended)&&(j=new Gc),r.call(e,j)},w=function(){e.req.on("finish",o)};return Ly(e)?(e.on("complete",o),e.on("abort",v),e.req?w():e.on("request",w)):i&&!e._writableState&&(e.on("end",s),e.on("close",s)),e.on("end",g),e.on("finish",o),t.error!==!1&&e.on("error",p),e.on("close",v),function(){e.removeListener("complete",o),e.removeListener("abort",v),e.removeListener("request",w),e.req&&e.req.removeListener("finish",o),e.removeListener("end",s),e.removeListener("close",s),e.removeListener("finish",o),e.removeListener("end",g),e.removeListener("error",p),e.removeListener("close",v)}}var ha=Ou,wo,Jc;function Oy(){if(Jc)return wo;Jc=1;var e;function t(B,W,U){return W=r(W),W in B?Object.defineProperty(B,W,{value:U,enumerable:!0,configurable:!0,writable:!0}):B[W]=U,B}function r(B){var W=n(B,"string");return typeof W=="symbol"?W:String(W)}function n(B,W){if(typeof B!="object"||B===null)return B;var U=B[Symbol.toPrimitive];if(U!==void 0){var z=U.call(B,W||"default");if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return(W==="string"?String:Number)(B)}var i=ha,s=Symbol("lastResolve"),a=Symbol("lastReject"),o=Symbol("error"),l=Symbol("ended"),g=Symbol("lastPromise"),p=Symbol("handlePromise"),v=Symbol("stream");function w(B,W){return{value:B,done:W}}function k(B){var W=B[s];if(W!==null){var U=B[v].read();U!==null&&(B[g]=null,B[s]=null,B[a]=null,W(w(U,!1)))}}function j(B){process.nextTick(k,B)}function O(B,W){return function(U,z){B.then(function(){if(W[l]){U(w(void 0,!0));return}W[p](U,z)},z)}}var D=Object.getPrototypeOf(function(){}),I=Object.setPrototypeOf((e={get stream(){return this[v]},next:function(){var W=this,U=this[o];if(U!==null)return Promise.reject(U);if(this[l])return Promise.resolve(w(void 0,!0));if(this[v].destroyed)return new Promise(function(Y,de){process.nextTick(function(){W[o]?de(W[o]):Y(w(void 0,!0))})});var z=this[g],te;if(z)te=new Promise(O(z,this));else{var Q=this[v].read();if(Q!==null)return Promise.resolve(w(Q,!1));te=new Promise(this[p])}return this[g]=te,te}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var W=this;return new Promise(function(U,z){W[v].destroy(null,function(te){if(te){z(te);return}U(w(void 0,!0))})})}),e),D),P=function(W){var U,z=Object.create(I,(U={},t(U,v,{value:W,writable:!0}),t(U,s,{value:null,writable:!0}),t(U,a,{value:null,writable:!0}),t(U,o,{value:null,writable:!0}),t(U,l,{value:W._readableState.endEmitted,writable:!0}),t(U,p,{value:function(Q,Y){var de=z[v].read();de?(z[g]=null,z[s]=null,z[a]=null,Q(w(de,!1))):(z[s]=Q,z[a]=Y)},writable:!0}),U));return z[g]=null,i(W,function(te){if(te&&te.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Q=z[a];Q!==null&&(z[g]=null,z[s]=null,z[a]=null,Q(te)),z[o]=te;return}var Y=z[s];Y!==null&&(z[g]=null,z[s]=null,z[a]=null,Y(w(void 0,!0))),z[l]=!0}),W.on("readable",j.bind(null,z)),z};return wo=P,wo}var bo,Zc;function $y(){return Zc||(Zc=1,bo=function(){throw new Error("Readable.from is not available in the browser")}),bo}var _o,Kc;function $u(){if(Kc)return _o;Kc=1,_o=Y;var e;Y.ReadableState=Q,Ci.EventEmitter;var t=function(C,V){return C.listeners(V).length},r=Tu,n=un.Buffer,i=(typeof ee<"u"?ee:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(M){return n.from(M)}function a(M){return n.isBuffer(M)||M instanceof i}var o=Ko,l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var g=wy(),p=Bu,v=Pu,w=v.getHighWaterMark,k=Sr.codes,j=k.ERR_INVALID_ARG_TYPE,O=k.ERR_STREAM_PUSH_AFTER_EOF,D=k.ERR_METHOD_NOT_IMPLEMENTED,I=k.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,P,B,W;At(Y,r);var U=p.errorOrDestroy,z=["error","close","destroy","pause","resume"];function te(M,C,V){if(typeof M.prependListener=="function")return M.prependListener(C,V);!M._events||!M._events[C]?M.on(C,V):Array.isArray(M._events[C])?M._events[C].unshift(V):M._events[C]=[V,M._events[C]]}function Q(M,C,V){e=e||Xr(),M=M||{},typeof V!="boolean"&&(V=C instanceof e),this.objectMode=!!M.objectMode,V&&(this.objectMode=this.objectMode||!!M.readableObjectMode),this.highWaterMark=w(this,M,"readableHighWaterMark",V),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=M.emitClose!==!1,this.autoDestroy=!!M.autoDestroy,this.destroyed=!1,this.defaultEncoding=M.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,M.encoding&&(P||(P=zc().StringDecoder),this.decoder=new P(M.encoding),this.encoding=M.encoding)}function Y(M){if(e=e||Xr(),!(this instanceof Y))return new Y(M);var C=this instanceof e;this._readableState=new Q(M,this,C),this.readable=!0,M&&(typeof M.read=="function"&&(this._read=M.read),typeof M.destroy=="function"&&(this._destroy=M.destroy)),r.call(this)}Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),Y.prototype.destroy=p.destroy,Y.prototype._undestroy=p.undestroy,Y.prototype._destroy=function(M,C){C(M)},Y.prototype.push=function(M,C){var V=this._readableState,G;return V.objectMode?G=!0:typeof M=="string"&&(C=C||V.defaultEncoding,C!==V.encoding&&(M=n.from(M,C),C=""),G=!0),de(this,M,C,!1,G)},Y.prototype.unshift=function(M){return de(this,M,null,!0,!1)};function de(M,C,V,G,se){l("readableAddChunk",C);var he=M._readableState;if(C===null)he.reading=!1,y(M,he);else{var re;if(se||(re=pe(he,C)),re)U(M,re);else if(he.objectMode||C&&C.length>0)if(typeof C!="string"&&!he.objectMode&&Object.getPrototypeOf(C)!==n.prototype&&(C=s(C)),G)he.endEmitted?U(M,new I):oe(M,he,C,!0);else if(he.ended)U(M,new O);else{if(he.destroyed)return!1;he.reading=!1,he.decoder&&!V?(C=he.decoder.write(C),he.objectMode||C.length!==0?oe(M,he,C,!1):A(M,he)):oe(M,he,C,!1)}else G||(he.reading=!1,A(M,he))}return!he.ended&&(he.length<he.highWaterMark||he.length===0)}function oe(M,C,V,G){C.flowing&&C.length===0&&!C.sync?(C.awaitDrain=0,M.emit("data",V)):(C.length+=C.objectMode?1:V.length,G?C.buffer.unshift(V):C.buffer.push(V),C.needReadable&&b(M)),A(M,C)}function pe(M,C){var V;return!a(C)&&typeof C!="string"&&C!==void 0&&!M.objectMode&&(V=new j("chunk",["string","Buffer","Uint8Array"],C)),V}Y.prototype.isPaused=function(){return this._readableState.flowing===!1},Y.prototype.setEncoding=function(M){P||(P=zc().StringDecoder);var C=new P(M);this._readableState.decoder=C,this._readableState.encoding=this._readableState.decoder.encoding;for(var V=this._readableState.buffer.head,G="";V!==null;)G+=C.write(V.data),V=V.next;return this._readableState.buffer.clear(),G!==""&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var x=1073741824;function c(M){return M>=x?M=x:(M--,M|=M>>>1,M|=M>>>2,M|=M>>>4,M|=M>>>8,M|=M>>>16,M++),M}function d(M,C){return M<=0||C.length===0&&C.ended?0:C.objectMode?1:M!==M?C.flowing&&C.length?C.buffer.head.data.length:C.length:(M>C.highWaterMark&&(C.highWaterMark=c(M)),M<=C.length?M:C.ended?C.length:(C.needReadable=!0,0))}Y.prototype.read=function(M){l("read",M),M=parseInt(M,10);var C=this._readableState,V=M;if(M!==0&&(C.emittedReadable=!1),M===0&&C.needReadable&&((C.highWaterMark!==0?C.length>=C.highWaterMark:C.length>0)||C.ended))return l("read: emitReadable",C.length,C.ended),C.length===0&&C.ended?q(this):b(this),null;if(M=d(M,C),M===0&&C.ended)return C.length===0&&q(this),null;var G=C.needReadable;l("need readable",G),(C.length===0||C.length-M<C.highWaterMark)&&(G=!0,l("length less than watermark",G)),C.ended||C.reading?(G=!1,l("reading or ended",G)):G&&(l("do read"),C.reading=!0,C.sync=!0,C.length===0&&(C.needReadable=!0),this._read(C.highWaterMark),C.sync=!1,C.reading||(M=d(V,C)));var se;return M>0?se=$(M,C):se=null,se===null?(C.needReadable=C.length<=C.highWaterMark,M=0):(C.length-=M,C.awaitDrain=0),C.length===0&&(C.ended||(C.needReadable=!0),V!==M&&C.ended&&q(this)),se!==null&&this.emit("data",se),se};function y(M,C){if(l("onEofChunk"),!C.ended){if(C.decoder){var V=C.decoder.end();V&&V.length&&(C.buffer.push(V),C.length+=C.objectMode?1:V.length)}C.ended=!0,C.sync?b(M):(C.needReadable=!1,C.emittedReadable||(C.emittedReadable=!0,S(M)))}}function b(M){var C=M._readableState;l("emitReadable",C.needReadable,C.emittedReadable),C.needReadable=!1,C.emittedReadable||(l("emitReadable",C.flowing),C.emittedReadable=!0,process.nextTick(S,M))}function S(M){var C=M._readableState;l("emitReadable_",C.destroyed,C.length,C.ended),!C.destroyed&&(C.length||C.ended)&&(M.emit("readable"),C.emittedReadable=!1),C.needReadable=!C.flowing&&!C.ended&&C.length<=C.highWaterMark,T(M)}function A(M,C){C.readingMore||(C.readingMore=!0,process.nextTick(N,M,C))}function N(M,C){for(;!C.reading&&!C.ended&&(C.length<C.highWaterMark||C.flowing&&C.length===0);){var V=C.length;if(l("maybeReadMore read 0"),M.read(0),V===C.length)break}C.readingMore=!1}Y.prototype._read=function(M){U(this,new D("_read()"))},Y.prototype.pipe=function(M,C){var V=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=M;break;case 1:G.pipes=[G.pipes,M];break;default:G.pipes.push(M);break}G.pipesCount+=1,l("pipe count=%d opts=%j",G.pipesCount,C);var se=(!C||C.end!==!1)&&M!==process.stdout&&M!==process.stderr,he=se?be:Ee;G.endEmitted?process.nextTick(he):V.once("end",he),M.on("unpipe",re);function re(m,u){l("onunpipe"),m===V&&u&&u.hasUnpiped===!1&&(u.hasUnpiped=!0,Se())}function be(){l("onend"),M.end()}var pt=_(V);M.on("drain",pt);var Re=!1;function Se(){l("cleanup"),M.removeListener("close",Me),M.removeListener("finish",Qe),M.removeListener("drain",pt),M.removeListener("error",_e),M.removeListener("unpipe",re),V.removeListener("end",be),V.removeListener("end",Ee),V.removeListener("data",Ze),Re=!0,G.awaitDrain&&(!M._writableState||M._writableState.needDrain)&&pt()}V.on("data",Ze);function Ze(m){l("ondata");var u=M.write(m);l("dest.write",u),u===!1&&((G.pipesCount===1&&G.pipes===M||G.pipesCount>1&&ue(G.pipes,M)!==-1)&&!Re&&(l("false write response, pause",G.awaitDrain),G.awaitDrain++),V.pause())}function _e(m){l("onerror",m),Ee(),M.removeListener("error",_e),t(M,"error")===0&&U(M,m)}te(M,"error",_e);function Me(){M.removeListener("finish",Qe),Ee()}M.once("close",Me);function Qe(){l("onfinish"),M.removeListener("close",Me),Ee()}M.once("finish",Qe);function Ee(){l("unpipe"),V.unpipe(M)}return M.emit("pipe",V),G.flowing||(l("pipe resume"),V.resume()),M};function _(M){return function(){var V=M._readableState;l("pipeOnDrain",V.awaitDrain),V.awaitDrain&&V.awaitDrain--,V.awaitDrain===0&&t(M,"data")&&(V.flowing=!0,T(M))}}Y.prototype.unpipe=function(M){var C=this._readableState,V={hasUnpiped:!1};if(C.pipesCount===0)return this;if(C.pipesCount===1)return M&&M!==C.pipes?this:(M||(M=C.pipes),C.pipes=null,C.pipesCount=0,C.flowing=!1,M&&M.emit("unpipe",this,V),this);if(!M){var G=C.pipes,se=C.pipesCount;C.pipes=null,C.pipesCount=0,C.flowing=!1;for(var he=0;he<se;he++)G[he].emit("unpipe",this,{hasUnpiped:!1});return this}var re=ue(C.pipes,M);return re===-1?this:(C.pipes.splice(re,1),C.pipesCount-=1,C.pipesCount===1&&(C.pipes=C.pipes[0]),M.emit("unpipe",this,V),this)},Y.prototype.on=function(M,C){var V=r.prototype.on.call(this,M,C),G=this._readableState;return M==="data"?(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1&&this.resume()):M==="readable"&&!G.endEmitted&&!G.readableListening&&(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,l("on readable",G.length,G.reading),G.length?b(this):G.reading||process.nextTick(R,this)),V},Y.prototype.addListener=Y.prototype.on,Y.prototype.removeListener=function(M,C){var V=r.prototype.removeListener.call(this,M,C);return M==="readable"&&process.nextTick(h,this),V},Y.prototype.removeAllListeners=function(M){var C=r.prototype.removeAllListeners.apply(this,arguments);return(M==="readable"||M===void 0)&&process.nextTick(h,this),C};function h(M){var C=M._readableState;C.readableListening=M.listenerCount("readable")>0,C.resumeScheduled&&!C.paused?C.flowing=!0:M.listenerCount("data")>0&&M.resume()}function R(M){l("readable nexttick read 0"),M.read(0)}Y.prototype.resume=function(){var M=this._readableState;return M.flowing||(l("resume"),M.flowing=!M.readableListening,K(this,M)),M.paused=!1,this};function K(M,C){C.resumeScheduled||(C.resumeScheduled=!0,process.nextTick(J,M,C))}function J(M,C){l("resume",C.reading),C.reading||M.read(0),C.resumeScheduled=!1,M.emit("resume"),T(M),C.flowing&&!C.reading&&M.read(0)}Y.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function T(M){var C=M._readableState;for(l("flow",C.flowing);C.flowing&&M.read()!==null;);}Y.prototype.wrap=function(M){var C=this,V=this._readableState,G=!1;M.on("end",function(){if(l("wrapped end"),V.decoder&&!V.ended){var re=V.decoder.end();re&&re.length&&C.push(re)}C.push(null)}),M.on("data",function(re){if(l("wrapped data"),V.decoder&&(re=V.decoder.write(re)),!(V.objectMode&&re==null)&&!(!V.objectMode&&(!re||!re.length))){var be=C.push(re);be||(G=!0,M.pause())}});for(var se in M)this[se]===void 0&&typeof M[se]=="function"&&(this[se]=function(be){return function(){return M[be].apply(M,arguments)}}(se));for(var he=0;he<z.length;he++)M.on(z[he],this.emit.bind(this,z[he]));return this._read=function(re){l("wrapped _read",re),G&&(G=!1,M.resume())},this},typeof Symbol=="function"&&(Y.prototype[Symbol.asyncIterator]=function(){return B===void 0&&(B=Oy()),B(this)}),Object.defineProperty(Y.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Y.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Y.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(C){this._readableState&&(this._readableState.flowing=C)}}),Y._fromList=$,Object.defineProperty(Y.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(M,C){if(C.length===0)return null;var V;return C.objectMode?V=C.buffer.shift():!M||M>=C.length?(C.decoder?V=C.buffer.join(""):C.buffer.length===1?V=C.buffer.first():V=C.buffer.concat(C.length),C.buffer.clear()):V=C.buffer.consume(M,C.decoder),V}function q(M){var C=M._readableState;l("endReadable",C.endEmitted),C.endEmitted||(C.ended=!0,process.nextTick(Z,C,M))}function Z(M,C){if(l("endReadableNT",M.endEmitted,M.length),!M.endEmitted&&M.length===0&&(M.endEmitted=!0,C.readable=!1,C.emit("end"),M.autoDestroy)){var V=C._writableState;(!V||V.autoDestroy&&V.finished)&&C.destroy()}}typeof Symbol=="function"&&(Y.from=function(M,C){return W===void 0&&(W=$y()),W(Y,M,C)});function ue(M,C){for(var V=0,G=M.length;V<G;V++)if(M[V]===C)return V;return-1}return _o}var Fu=Ht,as=Sr.codes,Fy=as.ERR_METHOD_NOT_IMPLEMENTED,Dy=as.ERR_MULTIPLE_CALLBACK,jy=as.ERR_TRANSFORM_ALREADY_TRANSFORMING,Uy=as.ERR_TRANSFORM_WITH_LENGTH_0,cs=Xr();At(Ht,cs);function Hy(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(n===null)return this.emit("error",new Dy);r.writechunk=null,r.writecb=null,t!=null&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Ht(e){if(!(this instanceof Ht))return new Ht(e);cs.call(this,e),this._transformState={afterTransform:Hy.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&(typeof e.transform=="function"&&(this._transform=e.transform),typeof e.flush=="function"&&(this._flush=e.flush)),this.on("prefinish",Wy)}function Wy(){var e=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(t,r){Yc(e,t,r)}):Yc(this,null,null)}Ht.prototype.push=function(e,t){return this._transformState.needTransform=!1,cs.prototype.push.call(this,e,t)};Ht.prototype._transform=function(e,t,r){r(new Fy("_transform()"))};Ht.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}};Ht.prototype._read=function(e){var t=this._transformState;t.writechunk!==null&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0};Ht.prototype._destroy=function(e,t){cs.prototype._destroy.call(this,e,function(r){t(r)})};function Yc(e,t,r){if(t)return e.emit("error",t);if(r!=null&&e.push(r),e._writableState.length)throw new Uy;if(e._transformState.transforming)throw new jy;return e.push(null)}var qy=Sn,Du=Fu;At(Sn,Du);function Sn(e){if(!(this instanceof Sn))return new Sn(e);Du.call(this,e)}Sn.prototype._transform=function(e,t,r){r(null,e)};var Eo;function Vy(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}var ju=Sr.codes,zy=ju.ERR_MISSING_ARGS,Gy=ju.ERR_STREAM_DESTROYED;function Qc(e){if(e)throw e}function Jy(e){return e.setHeader&&typeof e.abort=="function"}function Zy(e,t,r,n){n=Vy(n);var i=!1;e.on("close",function(){i=!0}),Eo===void 0&&(Eo=ha),Eo(e,{readable:t,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,Jy(e))return e.abort();if(typeof e.destroy=="function")return e.destroy();n(a||new Gy("pipe"))}}}function Xc(e){e()}function Ky(e,t){return e.pipe(t)}function Yy(e){return!e.length||typeof e[e.length-1]!="function"?Qc:e.pop()}function Qy(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Yy(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new zy("streams");var i,s=t.map(function(a,o){var l=o<t.length-1,g=o>0;return Zy(a,l,g,function(p){i||(i=p),p&&s.forEach(Xc),!l&&(s.forEach(Xc),n(i))})});return t.reduce(Ky)}var Xy=Qy;(function(e,t){t=e.exports=$u(),t.Stream=t,t.Readable=t,t.Writable=Lu(),t.Duplex=Xr(),t.Transform=Fu,t.PassThrough=qy,t.finished=ha,t.pipeline=Xy})(Lo,Lo.exports);var Uu=Lo.exports;const{Transform:ev}=Uu;var tv=e=>class Hu extends ev{constructor(r,n,i,s,a){super(a),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._hashBitLength=s,this._options=a,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(a){s=a}i(s)}_flush(r){let n=null;try{this.push(this.digest())}catch(i){n=i}r(n)}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}digest(r){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let n=this._state.squeeze(this._hashBitLength/8);return r!==void 0&&(n=n.toString(r)),this._resetState(),n}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Hu(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const{Transform:rv}=Uu;var nv=e=>class Wu extends rv{constructor(r,n,i,s){super(s),this._rate=r,this._capacity=n,this._delimitedSuffix=i,this._options=s,this._state=new e,this._state.initialize(r,n),this._finalized=!1}_transform(r,n,i){let s=null;try{this.update(r,n)}catch(a){s=a}i(s)}_flush(){}_read(r){this.push(this.squeeze(r))}update(r,n){if(!Buffer.isBuffer(r)&&typeof r!="string")throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return Buffer.isBuffer(r)||(r=Buffer.from(r,n)),this._state.absorb(r),this}squeeze(r,n){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let i=this._state.squeeze(r);return n!==void 0&&(i=i.toString(n)),i}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const r=new Wu(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(r._state),r._finalized=this._finalized,r}};const iv=tv,sv=nv;var ov=function(e){const t=iv(e),r=sv(e);return function(n,i){switch(typeof n=="string"?n.toLowerCase():n){case"keccak224":return new t(1152,448,null,224,i);case"keccak256":return new t(1088,512,null,256,i);case"keccak384":return new t(832,768,null,384,i);case"keccak512":return new t(576,1024,null,512,i);case"sha3-224":return new t(1152,448,6,224,i);case"sha3-256":return new t(1088,512,6,256,i);case"sha3-384":return new t(832,768,6,384,i);case"sha3-512":return new t(576,1024,6,512,i);case"shake128":return new r(1344,256,31,i);case"shake256":return new r(1088,512,31,i);default:throw new Error("Invald algorithm: "+n)}}},qu={};const el=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];qu.p1600=function(e){for(let t=0;t<24;++t){const r=e[0]^e[10]^e[20]^e[30]^e[40],n=e[1]^e[11]^e[21]^e[31]^e[41],i=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],o=e[5]^e[15]^e[25]^e[35]^e[45],l=e[6]^e[16]^e[26]^e[36]^e[46],g=e[7]^e[17]^e[27]^e[37]^e[47],p=e[8]^e[18]^e[28]^e[38]^e[48],v=e[9]^e[19]^e[29]^e[39]^e[49];let w=p^(i<<1|s>>>31),k=v^(s<<1|i>>>31);const j=e[0]^w,O=e[1]^k,D=e[10]^w,I=e[11]^k,P=e[20]^w,B=e[21]^k,W=e[30]^w,U=e[31]^k,z=e[40]^w,te=e[41]^k;w=r^(a<<1|o>>>31),k=n^(o<<1|a>>>31);const Q=e[2]^w,Y=e[3]^k,de=e[12]^w,oe=e[13]^k,pe=e[22]^w,x=e[23]^k,c=e[32]^w,d=e[33]^k,y=e[42]^w,b=e[43]^k;w=i^(l<<1|g>>>31),k=s^(g<<1|l>>>31);const S=e[4]^w,A=e[5]^k,N=e[14]^w,_=e[15]^k,h=e[24]^w,R=e[25]^k,K=e[34]^w,J=e[35]^k,T=e[44]^w,$=e[45]^k;w=a^(p<<1|v>>>31),k=o^(v<<1|p>>>31);const q=e[6]^w,Z=e[7]^k,ue=e[16]^w,M=e[17]^k,C=e[26]^w,V=e[27]^k,G=e[36]^w,se=e[37]^k,he=e[46]^w,re=e[47]^k;w=l^(r<<1|n>>>31),k=g^(n<<1|r>>>31);const be=e[8]^w,pt=e[9]^k,Re=e[18]^w,Se=e[19]^k,Ze=e[28]^w,_e=e[29]^k,Me=e[38]^w,Qe=e[39]^k,Ee=e[48]^w,m=e[49]^k,u=j,f=O,E=I<<4|D>>>28,L=D<<4|I>>>28,F=P<<3|B>>>29,H=B<<3|P>>>29,ce=U<<9|W>>>23,ae=W<<9|U>>>23,ie=z<<18|te>>>14,Ce=te<<18|z>>>14,ne=Q<<1|Y>>>31,Ie=Y<<1|Q>>>31,Cr=oe<<12|de>>>20,Ae=de<<12|oe>>>20,xe=pe<<10|x>>>22,Ir=x<<10|pe>>>22,ke=d<<13|c>>>19,Te=c<<13|d>>>19,Ar=y<<2|b>>>30,Be=b<<2|y>>>30,Ne=A<<30|S>>>2,xr=S<<30|A>>>2,Pe=N<<6|_>>>26,Le=_<<6|N>>>26,kr=R<<11|h>>>21,Oe=h<<11|R>>>21,$e=K<<15|J>>>17,Tr=J<<15|K>>>17,Fe=$<<29|T>>>3,De=T<<29|$>>>3,Br=q<<28|Z>>>4,je=Z<<28|q>>>4,Ue=M<<23|ue>>>9,Nr=ue<<23|M>>>9,He=C<<25|V>>>7,We=V<<25|C>>>7,Kt=G<<21|se>>>11,Yt=se<<21|G>>>11,Qt=re<<24|he>>>8,Xt=he<<24|re>>>8,er=be<<27|pt>>>5,tr=pt<<27|be>>>5,rr=Re<<20|Se>>>12,nr=Se<<20|Re>>>12,ir=_e<<7|Ze>>>25,sr=Ze<<7|_e>>>25,or=Me<<8|Qe>>>24,ar=Qe<<8|Me>>>24,cr=Ee<<14|m>>>18,lr=m<<14|Ee>>>18;e[0]=u^~Cr&kr,e[1]=f^~Ae&Oe,e[10]=Br^~rr&F,e[11]=je^~nr&H,e[20]=ne^~Pe&He,e[21]=Ie^~Le&We,e[30]=er^~E&xe,e[31]=tr^~L&Ir,e[40]=Ne^~Ue&ir,e[41]=xr^~Nr&sr,e[2]=Cr^~kr&Kt,e[3]=Ae^~Oe&Yt,e[12]=rr^~F&ke,e[13]=nr^~H&Te,e[22]=Pe^~He&or,e[23]=Le^~We&ar,e[32]=E^~xe&$e,e[33]=L^~Ir&Tr,e[42]=Ue^~ir&ce,e[43]=Nr^~sr&ae,e[4]=kr^~Kt&cr,e[5]=Oe^~Yt&lr,e[14]=F^~ke&Fe,e[15]=H^~Te&De,e[24]=He^~or&ie,e[25]=We^~ar&Ce,e[34]=xe^~$e&Qt,e[35]=Ir^~Tr&Xt,e[44]=ir^~ce&Ar,e[45]=sr^~ae&Be,e[6]=Kt^~cr&u,e[7]=Yt^~lr&f,e[16]=ke^~Fe&Br,e[17]=Te^~De&je,e[26]=or^~ie&ne,e[27]=ar^~Ce&Ie,e[36]=$e^~Qt&er,e[37]=Tr^~Xt&tr,e[46]=ce^~Ar&Ne,e[47]=ae^~Be&xr,e[8]=cr^~u&Cr,e[9]=lr^~f&Ae,e[18]=Fe^~Br&rr,e[19]=De^~je&nr,e[28]=ie^~ne&Pe,e[29]=Ce^~Ie&Le,e[38]=Qt^~er&E,e[39]=Xt^~tr&L,e[48]=Ar^~Ne&Ue,e[49]=Be^~xr&Nr,e[0]^=el[t*2],e[1]^=el[t*2+1]}};const Ri=qu;function fn(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}fn.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1};fn.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<8*(this.count%4),this.count+=1,this.count===this.blockSize&&(Ri.p1600(this.state),this.count=0)};fn.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<8*(this.count%4),e&128&&this.count===this.blockSize-1&&Ri.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<8*((this.blockSize-1)%4),Ri.p1600(this.state),this.count=0,this.squeezing=!0};fn.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=Buffer.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>8*(this.count%4)&255,this.count+=1,this.count===this.blockSize&&(Ri.p1600(this.state),this.count=0);return t};fn.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing};var av=fn,cv=ov(av);const lv=cv,uv=Pi;function Vu(e){return Buffer.allocUnsafe(e).fill(0)}function zu(e,t,r){const n=Vu(t);return e=ls(e),r?e.length<t?(e.copy(n),n):e.slice(0,t):e.length<t?(e.copy(n,t-e.length),n):e.slice(-t)}function hv(e,t){return zu(e,t,!0)}function ls(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if(typeof e=="string")Gu(e)?e=Buffer.from(pv(Ju(e)),"hex"):e=Buffer.from(e);else if(typeof e=="number")e=intToBuffer(e);else if(e==null)e=Buffer.allocUnsafe(0);else if(uv.isBN(e))e=e.toArrayLike(Buffer);else if(e.toArray)e=Buffer.from(e.toArray());else throw new Error("invalid type");return e}function fv(e){return e=ls(e),"0x"+e.toString("hex")}function dv(e,t){return e=ls(e),t||(t=256),lv("keccak"+t).update(e).digest()}function pv(e){return e.length%2?"0"+e:e}function Gu(e){return typeof e=="string"&&e.match(/^0x[0-9A-Fa-f]*$/)}function Ju(e){return typeof e=="string"&&e.startsWith("0x")?e.slice(2):e}var Zu={zeros:Vu,setLength:zu,setLengthRight:hv,isHexString:Gu,stripHexPrefix:Ju,toBuffer:ls,bufferToHex:fv,keccak:dv};const _r=Zu,yr=Pi;function Ku(e){return e.startsWith("int[")?"int256"+e.slice(3):e==="int"?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):e==="uint"?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):e==="fixed"?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):e==="ufixed"?"ufixed128x128":e}function Gr(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function tl(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function Yu(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?t[2]===""?"dynamic":parseInt(t[2],10):null}function pr(e){var t=typeof e;if(t==="string")return _r.isHexString(e)?new yr(_r.stripHexPrefix(e),16):new yr(e,10);if(t==="number")return new yr(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function Bt(e,t){var r,n,i,s;if(e==="address")return Bt("uint160",pr(t));if(e==="bool")return Bt("uint8",t?1:0);if(e==="string")return Bt("bytes",new Buffer(t,"utf8"));if(mv(e)){if(typeof t.length>"u")throw new Error("Not an array?");if(r=Yu(e),r!=="dynamic"&&r!==0&&t.length>r)throw new Error("Elements exceed array size: "+r);i=[],e=e.slice(0,e.lastIndexOf("[")),typeof t=="string"&&(t=JSON.parse(t));for(s in t)i.push(Bt(e,t[s]));if(r==="dynamic"){var a=Bt("uint256",t.length);i.unshift(a)}return Buffer.concat(i)}else{if(e==="bytes")return t=new Buffer(t),i=Buffer.concat([Bt("uint256",t.length),t]),t.length%32!==0&&(i=Buffer.concat([i,_r.zeros(32-t.length%32)])),i;if(e.startsWith("bytes")){if(r=Gr(e),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return _r.setLengthRight(t,32)}else if(e.startsWith("uint")){if(r=Gr(e),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=pr(t),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());if(n<0)throw new Error("Supplied uint is negative");return n.toArrayLike(Buffer,"be",32)}else if(e.startsWith("int")){if(r=Gr(e),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=pr(t),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());return n.toTwos(256).toArrayLike(Buffer,"be",32)}else if(e.startsWith("ufixed")){if(r=tl(e),n=pr(t),n<0)throw new Error("Supplied ufixed is negative");return Bt("uint256",n.mul(new yr(2).pow(new yr(r[1]))))}else if(e.startsWith("fixed"))return r=tl(e),Bt("int256",pr(t).mul(new yr(2).pow(new yr(r[1]))))}throw new Error("Unsupported or invalid type: "+e)}function gv(e){return e==="string"||e==="bytes"||Yu(e)==="dynamic"}function mv(e){return e.lastIndexOf("]")===e.length-1}function yv(e,t){var r=[],n=[],i=32*e.length;for(var s in e){var a=Ku(e[s]),o=t[s],l=Bt(a,o);gv(a)?(r.push(Bt("uint256",i)),n.push(l),i+=l.length):r.push(l)}return Buffer.concat(r.concat(n))}function Qu(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r,n,i=[],s=0;s<e.length;s++){var a=Ku(e[s]),o=t[s];if(a==="bytes")i.push(o);else if(a==="string")i.push(new Buffer(o,"utf8"));else if(a==="bool")i.push(new Buffer(o?"01":"00","hex"));else if(a==="address")i.push(_r.setLength(o,20));else if(a.startsWith("bytes")){if(r=Gr(a),r<1||r>32)throw new Error("Invalid bytes<N> width: "+r);i.push(_r.setLengthRight(o,r))}else if(a.startsWith("uint")){if(r=Gr(a),r%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if(n=pr(o),n.bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+n.bitLength());i.push(n.toArrayLike(Buffer,"be",r/8))}else if(a.startsWith("int")){if(r=Gr(a),r%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if(n=pr(o),n.bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+n.bitLength());i.push(n.toTwos(r).toArrayLike(Buffer,"be",r/8))}else throw new Error("Unsupported or invalid type: "+a)}return Buffer.concat(i)}function vv(e,t){return _r.keccak(Qu(e,t))}var wv={rawEncode:yv,solidityPack:Qu,soliditySHA3:vv};const Rt=Zu,wn=wv,Xu={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},So={encodeData(e,t,r,n=!0){const i=["bytes32"],s=[this.hashType(e,r)];if(n){const a=(o,l,g)=>{if(r[l]!==void 0)return["bytes32",g==null?"0x0000000000000000000000000000000000000000000000000000000000000000":Rt.keccak(this.encodeData(l,g,r,n))];if(g===void 0)throw new Error(`missing value for field ${o} of type ${l}`);if(l==="bytes")return["bytes32",Rt.keccak(g)];if(l==="string")return typeof g=="string"&&(g=Buffer.from(g,"utf8")),["bytes32",Rt.keccak(g)];if(l.lastIndexOf("]")===l.length-1){const p=l.slice(0,l.lastIndexOf("[")),v=g.map(w=>a(o,p,w));return["bytes32",Rt.keccak(wn.rawEncode(v.map(([w])=>w),v.map(([,w])=>w)))]}return[l,g]};for(const o of r[e]){const[l,g]=a(o.name,o.type,t[o.name]);i.push(l),s.push(g)}}else for(const a of r[e]){let o=t[a.name];if(o!==void 0)if(a.type==="bytes")i.push("bytes32"),o=Rt.keccak(o),s.push(o);else if(a.type==="string")i.push("bytes32"),typeof o=="string"&&(o=Buffer.from(o,"utf8")),o=Rt.keccak(o),s.push(o);else if(r[a.type]!==void 0)i.push("bytes32"),o=Rt.keccak(this.encodeData(a.type,o,r,n)),s.push(o);else{if(a.type.lastIndexOf("]")===a.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");i.push(a.type),s.push(o)}}return wn.rawEncode(i,s)},encodeType(e,t){let r="",n=this.findTypeDependencies(e,t).filter(i=>i!==e);n=[e].concat(n.sort());for(const i of n){if(!t[i])throw new Error("No type definition specified: "+i);r+=i+"("+t[i].map(({name:a,type:o})=>o+" "+a).join(",")+")"}return r},findTypeDependencies(e,t,r=[]){if(e=e.match(/^\w*/)[0],r.includes(e)||t[e]===void 0)return r;r.push(e);for(const n of t[e])for(const i of this.findTypeDependencies(n.type,t,r))!r.includes(i)&&r.push(i);return r},hashStruct(e,t,r,n=!0){return Rt.keccak(this.encodeData(e,t,r,n))},hashType(e,t){return Rt.keccak(this.encodeType(e,t))},sanitizeData(e){const t={};for(const r in Xu.properties)e[r]&&(t[r]=e[r]);return t.types&&(t.types=Object.assign({EIP712Domain:[]},t.types)),t},hash(e,t=!0){const r=this.sanitizeData(e),n=[Buffer.from("1901","hex")];return n.push(this.hashStruct("EIP712Domain",r.domain,r.types,t)),r.primaryType!=="EIP712Domain"&&n.push(this.hashStruct(r.primaryType,r.message,r.types,t)),Rt.keccak(Buffer.concat(n))}};var bv={TYPED_MESSAGE_SCHEMA:Xu,TypedDataUtils:So,hashForSignTypedDataLegacy:function(e){return _v(e.data)},hashForSignTypedData_v3:function(e){return So.hash(e.data,!1)},hashForSignTypedData_v4:function(e){return So.hash(e.data)}};function _v(e){const t=new Error("Expect argument to be non-empty array");if(typeof e!="object"||!e.length)throw t;const r=e.map(function(s){return s.type==="bytes"?Rt.toBuffer(s.value):s.value}),n=e.map(function(s){return s.type}),i=e.map(function(s){if(!s.name)throw t;return s.type+" "+s.name});return wn.soliditySHA3(["bytes32","bytes32"],[wn.soliditySHA3(new Array(e.length).fill("string"),i),wn.soliditySHA3(n,r)])}var en={};Object.defineProperty(en,"__esModule",{value:!0});en.filterFromParam=en.FilterPolyfill=void 0;const Hr=Ke,ot=X,Ev=5*60*1e3,gr={jsonrpc:"2.0",id:0};class Sv{constructor(t){this.logFilters=new Map,this.blockFilters=new Set,this.pendingTransactionFilters=new Set,this.cursors=new Map,this.timeouts=new Map,this.nextFilterId=(0,Hr.IntNumber)(1),this.REQUEST_THROTTLE_INTERVAL=1e3,this.lastFetchTimestamp=new Date(0),this.resolvers=[],this.provider=t}async newFilter(t){const r=eh(t),n=this.makeFilterId(),i=await this.setInitialCursorPosition(n,r.fromBlock);return console.info(`Installing new log filter(${n}):`,r,"initial cursor position:",i),this.logFilters.set(n,r),this.setFilterTimeout(n),(0,ot.hexStringFromIntNumber)(n)}async newBlockFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.blockFilters.add(t),this.setFilterTimeout(t),(0,ot.hexStringFromIntNumber)(t)}async newPendingTransactionFilter(){const t=this.makeFilterId(),r=await this.setInitialCursorPosition(t,"latest");return console.info(`Installing new block filter (${t}) with initial cursor position:`,r),this.pendingTransactionFilters.add(t),this.setFilterTimeout(t),(0,ot.hexStringFromIntNumber)(t)}uninstallFilter(t){const r=(0,ot.intNumberFromHexString)(t);return console.info(`Uninstalling filter (${r})`),this.deleteFilter(r),!0}getFilterChanges(t){const r=(0,ot.intNumberFromHexString)(t);return this.timeouts.has(r)&&this.setFilterTimeout(r),this.logFilters.has(r)?this.getLogFilterChanges(r):this.blockFilters.has(r)?this.getBlockFilterChanges(r):this.pendingTransactionFilters.has(r)?this.getPendingTransactionFilterChanges(r):Promise.resolve(fi())}async getFilterLogs(t){const r=(0,ot.intNumberFromHexString)(t),n=this.logFilters.get(r);return n?this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_getLogs",params:[rl(n)]})):fi()}makeFilterId(){return(0,Hr.IntNumber)(++this.nextFilterId)}sendAsyncPromise(t){return new Promise((r,n)=>{this.provider.sendAsync(t,(i,s)=>{if(i)return n(i);if(Array.isArray(s)||s==null)return n(new Error(`unexpected response received: ${JSON.stringify(s)}`));r(s)})})}deleteFilter(t){console.info(`Deleting filter (${t})`),this.logFilters.delete(t),this.blockFilters.delete(t),this.pendingTransactionFilters.delete(t),this.cursors.delete(t),this.timeouts.delete(t)}async getLogFilterChanges(t){const r=this.logFilters.get(t),n=this.cursors.get(t);if(!n||!r)return fi();const i=await this.getCurrentBlockHeight(),s=r.toBlock==="latest"?i:r.toBlock;if(n>i||n>Number(r.toBlock))return di();console.info(`Fetching logs from ${n} to ${s} for filter ${t}`);const a=await this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_getLogs",params:[rl(Object.assign(Object.assign({},r),{fromBlock:n,toBlock:s}))]}));if(Array.isArray(a.result)){const o=a.result.map(g=>(0,ot.intNumberFromHexString)(g.blockNumber||"0x0")),l=Math.max(...o);if(l&&l>n){const g=(0,Hr.IntNumber)(l+1);console.info(`Moving cursor position for filter (${t}) from ${n} to ${g}`),this.cursors.set(t,g)}}return a}async getBlockFilterChanges(t){const r=this.cursors.get(t);if(!r)return fi();const n=await this.getCurrentBlockHeight();if(r>n)return di();console.info(`Fetching blocks from ${r} to ${n} for filter (${t})`);const i=(await Promise.all((0,ot.range)(r,n+1).map(a=>this.getBlockHashByNumber((0,Hr.IntNumber)(a))))).filter(a=>!!a),s=(0,Hr.IntNumber)(r+i.length);return console.info(`Moving cursor position for filter (${t}) from ${r} to ${s}`),this.cursors.set(t,s),Object.assign(Object.assign({},gr),{result:i})}async getPendingTransactionFilterChanges(t){return Promise.resolve(di())}async setInitialCursorPosition(t,r){const n=await this.getCurrentBlockHeight(),i=typeof r=="number"&&r>n?r:n;return this.cursors.set(t,i),i}setFilterTimeout(t){const r=this.timeouts.get(t);r&&window.clearTimeout(r);const n=window.setTimeout(()=>{console.info(`Filter (${t}) timed out`),this.deleteFilter(t)},Ev);this.timeouts.set(t,n)}async getCurrentBlockHeight(){const t=new Date;if(t.getTime()-this.lastFetchTimestamp.getTime()>this.REQUEST_THROTTLE_INTERVAL){this.lastFetchTimestamp=t;const r=await this._getCurrentBlockHeight();this.currentBlockHeight=r,this.resolvers.forEach(n=>n(r)),this.resolvers=[]}return this.currentBlockHeight?this.currentBlockHeight:new Promise(r=>this.resolvers.push(r))}async _getCurrentBlockHeight(){const{result:t}=await this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_blockNumber",params:[]}));return(0,ot.intNumberFromHexString)((0,ot.ensureHexString)(t))}async getBlockHashByNumber(t){const r=await this.sendAsyncPromise(Object.assign(Object.assign({},gr),{method:"eth_getBlockByNumber",params:[(0,ot.hexStringFromIntNumber)(t),!1]}));return r.result&&typeof r.result.hash=="string"?(0,ot.ensureHexString)(r.result.hash):null}}en.FilterPolyfill=Sv;function eh(e){return{fromBlock:nl(e.fromBlock),toBlock:nl(e.toBlock),addresses:e.address===void 0?null:Array.isArray(e.address)?e.address:[e.address],topics:e.topics||[]}}en.filterFromParam=eh;function rl(e){const t={fromBlock:il(e.fromBlock),toBlock:il(e.toBlock),topics:e.topics};return e.addresses!==null&&(t.address=e.addresses),t}function nl(e){if(e===void 0||e==="latest"||e==="pending")return"latest";if(e==="earliest")return(0,Hr.IntNumber)(0);if((0,ot.isHexString)(e))return(0,ot.intNumberFromHexString)(e);throw new Error(`Invalid block option: ${String(e)}`)}function il(e){return e==="latest"?e:(0,ot.hexStringFromIntNumber)(e)}function fi(){return Object.assign(Object.assign({},gr),{error:{code:-32e3,message:"filter not found"}})}function di(){return Object.assign(Object.assign({},gr),{result:[]})}var us={},th={},hs={},fa=Rv;function Rv(e){e=e||{};var t=e.max||Number.MAX_SAFE_INTEGER,r=typeof e.start<"u"?e.start:Math.floor(Math.random()*t);return function(){return r=r%t,r++}}const sl=(e,t)=>function(){const r=t.promiseModule,n=new Array(arguments.length);for(let i=0;i<arguments.length;i++)n[i]=arguments[i];return new r((i,s)=>{t.errorFirst?n.push(function(a,o){if(t.multiArgs){const l=new Array(arguments.length-1);for(let g=1;g<arguments.length;g++)l[g-1]=arguments[g];a?(l.unshift(a),s(l)):i(l)}else a?s(a):i(o)}):n.push(function(a){if(t.multiArgs){const o=new Array(arguments.length-1);for(let l=0;l<arguments.length;l++)o[l]=arguments[l];i(o)}else i(a)}),e.apply(this,n)})};var Mv=(e,t)=>{t=Object.assign({exclude:[/.+(Sync|Stream)$/],errorFirst:!0,promiseModule:Promise},t);const r=i=>{const s=a=>typeof a=="string"?i===a:a.test(i);return t.include?t.include.some(s):!t.exclude.some(s)};let n;typeof e=="function"?n=function(){return t.excludeMain?e.apply(this,arguments):sl(e,t).apply(this,arguments)}:n=Object.create(Object.getPrototypeOf(e));for(const i in e){const s=e[i];n[i]=typeof s=="function"&&r(i)?sl(s,t):s}return n},Vn={},zn={};Object.defineProperty(zn,"__esModule",{value:!0});const Cv=Ci;function ol(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function Iv(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let Av=class extends Cv.EventEmitter{emit(t,...r){let n=t==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const o=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw o.context=a,o}const s=i[t];if(s===void 0)return!1;if(typeof s=="function")ol(s,this,r);else{const a=s.length,o=Iv(s);for(let l=0;l<a;l+=1)ol(o[l],this,r)}return!0}};zn.default=Av;var xv=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.BaseBlockTracker=void 0;const kv=xv(zn),Tv=1e3,Bv=(e,t)=>e+t,al=["sync","latest"];class Nv extends kv.default{constructor(t){super(),this._blockResetDuration=t.blockResetDuration||20*Tv,this._usePastBlocks=t.usePastBlocks||!1,this._currentBlock=null,this._isRunning=!1,this._onNewListener=this._onNewListener.bind(this),this._onRemoveListener=this._onRemoveListener.bind(this),this._resetCurrentBlock=this._resetCurrentBlock.bind(this),this._setupInternalEvents()}async destroy(){this._cancelBlockResetTimeout(),await this._maybeEnd(),super.removeAllListeners()}isRunning(){return this._isRunning}getCurrentBlock(){return this._currentBlock}async getLatestBlock(){return this._currentBlock?this._currentBlock:await new Promise(r=>this.once("latest",r))}removeAllListeners(t){return t?super.removeAllListeners(t):super.removeAllListeners(),this._setupInternalEvents(),this._onRemoveListener(),this}_setupInternalEvents(){this.removeListener("newListener",this._onNewListener),this.removeListener("removeListener",this._onRemoveListener),this.on("newListener",this._onNewListener),this.on("removeListener",this._onRemoveListener)}_onNewListener(t){al.includes(t)&&this._maybeStart()}_onRemoveListener(){this._getBlockTrackerEventCount()>0||this._maybeEnd()}async _maybeStart(){this._isRunning||(this._isRunning=!0,this._cancelBlockResetTimeout(),await this._start(),this.emit("_started"))}async _maybeEnd(){this._isRunning&&(this._isRunning=!1,this._setupBlockResetTimeout(),await this._end(),this.emit("_ended"))}_getBlockTrackerEventCount(){return al.map(t=>this.listenerCount(t)).reduce(Bv)}_shouldUseNewBlock(t){const r=this._currentBlock;if(!r)return!0;const n=cl(t),i=cl(r);return this._usePastBlocks&&n<i||n>i}_newPotentialLatest(t){this._shouldUseNewBlock(t)&&this._setCurrentBlock(t)}_setCurrentBlock(t){const r=this._currentBlock;this._currentBlock=t,this.emit("latest",t),this.emit("sync",{oldBlock:r,newBlock:t})}_setupBlockResetTimeout(){this._cancelBlockResetTimeout(),this._blockResetTimeout=setTimeout(this._resetCurrentBlock,this._blockResetDuration),this._blockResetTimeout.unref&&this._blockResetTimeout.unref()}_cancelBlockResetTimeout(){this._blockResetTimeout&&clearTimeout(this._blockResetTimeout)}_resetCurrentBlock(){this._currentBlock=null}}Vn.BaseBlockTracker=Nv;function cl(e){return Number.parseInt(e,16)}var rh={},nh={},it={};class ih extends TypeError{constructor(t,r){let n;const{message:i,explanation:s,...a}=t,{path:o}=t,l=o.length===0?i:`At path: ${o.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>n??(n=[t,...r()])}}function Pv(e){return _t(e)&&typeof e[Symbol.iterator]=="function"}function _t(e){return typeof e=="object"&&e!=null}function ll(e){if(Object.prototype.toString.call(e)!=="[object Object]")return!1;const t=Object.getPrototypeOf(e);return t===null||t===Object.prototype}function Ye(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function Lv(e){const{done:t,value:r}=e.next();return t?void 0:r}function Ov(e,t,r,n){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:i,branch:s}=t,{type:a}=r,{refinement:o,message:l=`Expected a value of type \`${a}\`${o?` with refinement \`${o}\``:""}, but received: \`${Ye(n)}\``}=e;return{value:n,type:a,refinement:o,key:i[i.length-1],path:i,branch:s,...e,message:l}}function*$o(e,t,r,n){Pv(e)||(e=[e]);for(const i of e){const s=Ov(i,t,r,n);s&&(yield s)}}function*da(e,t,r={}){const{path:n=[],branch:i=[e],coerce:s=!1,mask:a=!1}=r,o={path:n,branch:i};if(s&&(e=t.coercer(e,o),a&&t.type!=="type"&&_t(t.schema)&&_t(e)&&!Array.isArray(e)))for(const g in e)t.schema[g]===void 0&&delete e[g];let l="valid";for(const g of t.validator(e,o))g.explanation=r.message,l="not_valid",yield[g,void 0];for(let[g,p,v]of t.entries(e,o)){const w=da(p,v,{path:g===void 0?n:[...n,g],branch:g===void 0?i:[...i,p],coerce:s,mask:a,message:r.message});for(const k of w)k[0]?(l=k[0].refinement!=null?"not_refined":"not_valid",yield[k[0],void 0]):s&&(p=k[1],g===void 0?e=p:e instanceof Map?e.set(g,p):e instanceof Set?e.add(p):_t(e)&&(p!==void 0||g in e)&&(e[g]=p))}if(l!=="not_valid")for(const g of t.refiner(e,o))g.explanation=r.message,l="not_refined",yield[g,void 0];l==="valid"&&(yield[void 0,e])}class Ge{constructor(t){const{type:r,schema:n,validator:i,refiner:s,coercer:a=l=>l,entries:o=function*(){}}=t;this.type=r,this.schema=n,this.entries=o,this.coercer=a,i?this.validator=(l,g)=>{const p=i(l,g);return $o(p,g,this,l)}:this.validator=()=>[],s?this.refiner=(l,g)=>{const p=s(l,g);return $o(p,g,this,l)}:this.refiner=()=>[]}assert(t,r){return sh(t,this,r)}create(t,r){return oh(t,this,r)}is(t){return pa(t,this)}mask(t,r){return ah(t,this,r)}validate(t,r={}){return dn(t,this,r)}}function sh(e,t,r){const n=dn(e,t,{message:r});if(n[0])throw n[0]}function oh(e,t,r){const n=dn(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function ah(e,t,r){const n=dn(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function pa(e,t){return!dn(e,t)[0]}function dn(e,t,r={}){const n=da(e,t,r),i=Lv(n);return i[0]?[new ih(i[0],function*(){for(const a of n)a[0]&&(yield a[0])}),void 0]:[void 0,i[1]]}function $v(...e){const t=e[0].type==="type",r=e.map(i=>i.schema),n=Object.assign({},...r);return t?Jn(n):Gn(n)}function ut(e,t){return new Ge({type:e,schema:null,validator:t})}function Fv(e,t){return new Ge({...e,refiner:(r,n)=>r===void 0||e.refiner(r,n),validator(r,n){return r===void 0?!0:(t(r,n),e.validator(r,n))}})}function Dv(e){return new Ge({type:"dynamic",schema:null,*entries(t,r){yield*e(t,r).entries(t,r)},validator(t,r){return e(t,r).validator(t,r)},coercer(t,r){return e(t,r).coercer(t,r)},refiner(t,r){return e(t,r).refiner(t,r)}})}function jv(e){let t;return new Ge({type:"lazy",schema:null,*entries(r,n){t??(t=e()),yield*t.entries(r,n)},validator(r,n){return t??(t=e()),t.validator(r,n)},coercer(r,n){return t??(t=e()),t.coercer(r,n)},refiner(r,n){return t??(t=e()),t.refiner(r,n)}})}function Uv(e,t){const{schema:r}=e,n={...r};for(const i of t)delete n[i];switch(e.type){case"type":return Jn(n);default:return Gn(n)}}function Hv(e){const t=e instanceof Ge,r=t?{...e.schema}:{...e};for(const n in r)r[n]=ch(r[n]);return t&&e.type==="type"?Jn(r):Gn(r)}function Wv(e,t){const{schema:r}=e,n={};for(const i of t)n[i]=r[i];switch(e.type){case"type":return Jn(n);default:return Gn(n)}}function qv(e,t){return console.warn("superstruct@0.11 - The `struct` helper has been renamed to `define`."),ut(e,t)}function Vv(){return ut("any",()=>!0)}function zv(e){return new Ge({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Ye(t)}`}})}function Gv(){return ut("bigint",e=>typeof e=="bigint")}function Jv(){return ut("boolean",e=>typeof e=="boolean")}function Zv(){return ut("date",e=>e instanceof Date&&!isNaN(e.getTime())||`Expected a valid \`Date\` object, but received: ${Ye(e)}`)}function Kv(e){const t={},r=e.map(n=>Ye(n)).join();for(const n of e)t[n]=n;return new Ge({type:"enums",schema:t,validator(n){return e.includes(n)||`Expected one of \`${r}\`, but received: ${Ye(n)}`}})}function Yv(){return ut("func",e=>typeof e=="function"||`Expected a function, but received: ${Ye(e)}`)}function Qv(e){return ut("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Ye(t)}`)}function Xv(){return ut("integer",e=>typeof e=="number"&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Ye(e)}`)}function ew(e){return new Ge({type:"intersection",schema:null,*entries(t,r){for(const n of e)yield*n.entries(t,r)},*validator(t,r){for(const n of e)yield*n.validator(t,r)},*refiner(t,r){for(const n of e)yield*n.refiner(t,r)}})}function tw(e){const t=Ye(e),r=typeof e;return new Ge({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?e:null,validator(n){return n===e||`Expected the literal \`${t}\`, but received: ${Ye(n)}`}})}function rw(e,t){return new Ge({type:"map",schema:null,*entries(r){if(e&&t&&r instanceof Map)for(const[n,i]of r.entries())yield[n,n,e],yield[n,i,t]},coercer(r){return r instanceof Map?new Map(r):r},validator(r){return r instanceof Map||`Expected a \`Map\` object, but received: ${Ye(r)}`}})}function ga(){return ut("never",()=>!1)}function nw(e){return new Ge({...e,validator:(t,r)=>t===null||e.validator(t,r),refiner:(t,r)=>t===null||e.refiner(t,r)})}function iw(){return ut("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Ye(e)}`)}function Gn(e){const t=e?Object.keys(e):[],r=ga();return new Ge({type:"object",schema:e||null,*entries(n){if(e&&_t(n)){const i=new Set(Object.keys(n));for(const s of t)i.delete(s),yield[s,n[s],e[s]];for(const s of i)yield[s,n[s],r]}},validator(n){return _t(n)||`Expected an object, but received: ${Ye(n)}`},coercer(n){return _t(n)?{...n}:n}})}function ch(e){return new Ge({...e,validator:(t,r)=>t===void 0||e.validator(t,r),refiner:(t,r)=>t===void 0||e.refiner(t,r)})}function sw(e,t){return new Ge({type:"record",schema:null,*entries(r){if(_t(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator(r){return _t(r)||`Expected an object, but received: ${Ye(r)}`}})}function ow(){return ut("regexp",e=>e instanceof RegExp)}function aw(e){return new Ge({type:"set",schema:null,*entries(t){if(e&&t instanceof Set)for(const r of t)yield[r,r,e]},coercer(t){return t instanceof Set?new Set(t):t},validator(t){return t instanceof Set||`Expected a \`Set\` object, but received: ${Ye(t)}`}})}function lh(){return ut("string",e=>typeof e=="string"||`Expected a string, but received: ${Ye(e)}`)}function cw(e){const t=ga();return new Ge({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${Ye(r)}`}})}function Jn(e){const t=Object.keys(e);return new Ge({type:"type",schema:e,*entries(r){if(_t(r))for(const n of t)yield[n,r[n],e[n]]},validator(r){return _t(r)||`Expected an object, but received: ${Ye(r)}`},coercer(r){return _t(r)?{...r}:r}})}function lw(e){const t=e.map(r=>r.type).join(" | ");return new Ge({type:"union",schema:null,coercer(r){for(const n of e){const[i,s]=n.validate(r,{coerce:!0});if(!i)return s}return r},validator(r,n){const i=[];for(const s of e){const[...a]=da(r,s,n),[o]=a;if(o[0])for(const[l]of a)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ye(r)}`,...i]}})}function uh(){return ut("unknown",()=>!0)}function ma(e,t,r){return new Ge({...e,coercer:(n,i)=>pa(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}function uw(e,t,r={}){return ma(e,uh(),n=>{const i=typeof t=="function"?t():t;if(n===void 0)return i;if(!r.strict&&ll(n)&&ll(i)){const s={...n};let a=!1;for(const o in i)s[o]===void 0&&(s[o]=i[o],a=!0);if(a)return s}return n})}function hw(e){return ma(e,lh(),t=>t.trim())}function fw(e){return Rr(e,"empty",t=>{const r=hh(t);return r===0||`Expected an empty ${e.type} but received one with a size of \`${r}\``})}function hh(e){return e instanceof Map||e instanceof Set?e.size:e.length}function dw(e,t,r={}){const{exclusive:n}=r;return Rr(e,"max",i=>n?i<t:i<=t||`Expected a ${e.type} less than ${n?"":"or equal to "}${t} but received \`${i}\``)}function pw(e,t,r={}){const{exclusive:n}=r;return Rr(e,"min",i=>n?i>t:i>=t||`Expected a ${e.type} greater than ${n?"":"or equal to "}${t} but received \`${i}\``)}function gw(e){return Rr(e,"nonempty",t=>hh(t)>0||`Expected a nonempty ${e.type} but received an empty one`)}function mw(e,t){return Rr(e,"pattern",r=>t.test(r)||`Expected a ${e.type} matching \`/${t.source}/\` but received "${r}"`)}function yw(e,t,r=t){const n=`Expected a ${e.type}`,i=t===r?`of \`${t}\``:`between \`${t}\` and \`${r}\``;return Rr(e,"size",s=>{if(typeof s=="number"||s instanceof Date)return t<=s&&s<=r||`${n} ${i} but received \`${s}\``;if(s instanceof Map||s instanceof Set){const{size:a}=s;return t<=a&&a<=r||`${n} with a size ${i} but received one with a size of \`${a}\``}else{const{length:a}=s;return t<=a&&a<=r||`${n} with a length ${i} but received one with a length of \`${a}\``}})}function Rr(e,t,r){return new Ge({...e,*refiner(n,i){yield*e.refiner(n,i);const s=r(n,i),a=$o(s,i,e,n);for(const o of a)yield{...o,refinement:t}}})}const vw=Object.freeze(Object.defineProperty({__proto__:null,Struct:Ge,StructError:ih,any:Vv,array:zv,assert:sh,assign:$v,bigint:Gv,boolean:Jv,coerce:ma,create:oh,date:Zv,defaulted:uw,define:ut,deprecated:Fv,dynamic:Dv,empty:fw,enums:Kv,func:Yv,instance:Qv,integer:Xv,intersection:ew,is:pa,lazy:jv,literal:tw,map:rw,mask:ah,max:dw,min:pw,never:ga,nonempty:gw,nullable:nw,number:iw,object:Gn,omit:Uv,optional:ch,partial:Hv,pattern:mw,pick:Wv,record:sw,refine:Rr,regexp:ow,set:aw,size:yw,string:lh,struct:qv,trimmed:hw,tuple:cw,type:Jn,union:lw,unknown:uh,validate:dn},Symbol.toStringTag,{value:"Module"})),Mr=nn(vw);Object.defineProperty(it,"__esModule",{value:!0});it.assertExhaustive=it.assertStruct=it.assert=it.AssertionError=void 0;const ww=Mr;function bw(e){return typeof e=="object"&&e!==null&&"message"in e}function _w(e){var t,r;return typeof((r=(t=e?.prototype)===null||t===void 0?void 0:t.constructor)===null||r===void 0?void 0:r.name)=="string"}function Ew(e){const t=bw(e)?e.message:String(e);return t.endsWith(".")?t.slice(0,-1):t}function fh(e,t){return _w(e)?new e({message:t}):e({message:t})}class ya extends Error{constructor(t){super(t.message),this.code="ERR_ASSERTION"}}it.AssertionError=ya;function Sw(e,t="Assertion failed.",r=ya){if(!e)throw t instanceof Error?t:fh(r,t)}it.assert=Sw;function Rw(e,t,r="Assertion failed",n=ya){try{(0,ww.assert)(e,t)}catch(i){throw fh(n,`${r}: ${Ew(i)}.`)}}it.assertStruct=Rw;function Mw(e){throw new Error("Invalid branch reached. Should be detected during compilation.")}it.assertExhaustive=Mw;var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0});Zn.base64=void 0;const Cw=Mr,Iw=it,Aw=(e,t={})=>{var r,n;const i=(r=t.paddingRequired)!==null&&r!==void 0?r:!1,s=(n=t.characterSet)!==null&&n!==void 0?n:"base64";let a;s==="base64"?a=String.raw`[A-Za-z0-9+\/]`:((0,Iw.assert)(s==="base64url"),a=String.raw`[-_A-Za-z0-9]`);let o;return i?o=new RegExp(`^(?:${a}{4})*(?:${a}{3}=|${a}{2}==)?$`,"u"):o=new RegExp(`^(?:${a}{4})*(?:${a}{2,3}|${a}{3}=|${a}{2}==)?$`,"u"),(0,Cw.pattern)(e,o)};Zn.base64=Aw;var we={},Kn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.remove0x=e.add0x=e.assertIsStrictHexString=e.assertIsHexString=e.isStrictHexString=e.isHexString=e.StrictHexStruct=e.HexStruct=void 0;const t=Mr,r=it;e.HexStruct=(0,t.pattern)((0,t.string)(),/^(?:0x)?[0-9a-f]+$/iu),e.StrictHexStruct=(0,t.pattern)((0,t.string)(),/^0x[0-9a-f]+$/iu);function n(g){return(0,t.is)(g,e.HexStruct)}e.isHexString=n;function i(g){return(0,t.is)(g,e.StrictHexStruct)}e.isStrictHexString=i;function s(g){(0,r.assert)(n(g),"Value must be a hexadecimal string.")}e.assertIsHexString=s;function a(g){(0,r.assert)(i(g),'Value must be a hexadecimal string, starting with "0x".')}e.assertIsStrictHexString=a;function o(g){return g.startsWith("0x")?g:g.startsWith("0X")?`0x${g.substring(2)}`:`0x${g}`}e.add0x=o;function l(g){return g.startsWith("0x")||g.startsWith("0X")?g.substring(2):g}e.remove0x=l})(Kn);Object.defineProperty(we,"__esModule",{value:!0});we.createDataView=we.concatBytes=we.valueToBytes=we.stringToBytes=we.numberToBytes=we.signedBigIntToBytes=we.bigIntToBytes=we.hexToBytes=we.bytesToString=we.bytesToNumber=we.bytesToSignedBigInt=we.bytesToBigInt=we.bytesToHex=we.assertIsBytes=we.isBytes=void 0;const dt=it,Fo=Kn,ul=48,hl=58,fl=87;function xw(){const e=[];return()=>{if(e.length===0)for(let t=0;t<256;t++)e.push(t.toString(16).padStart(2,"0"));return e}}const kw=xw();function va(e){return e instanceof Uint8Array}we.isBytes=va;function pn(e){(0,dt.assert)(va(e),"Value must be a Uint8Array.")}we.assertIsBytes=pn;function dh(e){if(pn(e),e.length===0)return"0x";const t=kw(),r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=t[e[n]];return(0,Fo.add0x)(r.join(""))}we.bytesToHex=dh;function ph(e){pn(e);const t=dh(e);return BigInt(t)}we.bytesToBigInt=ph;function Tw(e){pn(e);let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return BigInt.asIntN(e.length*8,t)}we.bytesToSignedBigInt=Tw;function Bw(e){pn(e);const t=ph(e);return(0,dt.assert)(t<=BigInt(Number.MAX_SAFE_INTEGER),"Number is not a safe integer. Use `bytesToBigInt` instead."),Number(t)}we.bytesToNumber=Bw;function Nw(e){return pn(e),new TextDecoder().decode(e)}we.bytesToString=Nw;function fs(e){var t;if(((t=e?.toLowerCase)===null||t===void 0?void 0:t.call(e))==="0x")return new Uint8Array;(0,Fo.assertIsHexString)(e);const r=(0,Fo.remove0x)(e).toLowerCase(),n=r.length%2===0?r:`0${r}`,i=new Uint8Array(n.length/2);for(let s=0;s<i.length;s++){const a=n.charCodeAt(s*2),o=n.charCodeAt(s*2+1),l=a-(a<hl?ul:fl),g=o-(o<hl?ul:fl);i[s]=l*16+g}return i}we.hexToBytes=fs;function gh(e){(0,dt.assert)(typeof e=="bigint","Value must be a bigint."),(0,dt.assert)(e>=BigInt(0),"Value must be a non-negative bigint.");const t=e.toString(16);return fs(t)}we.bigIntToBytes=gh;function Pw(e,t){(0,dt.assert)(t>0);const r=e>>BigInt(31);return!((~e&r)+(e&~r)>>BigInt(t*8+-1))}function Lw(e,t){(0,dt.assert)(typeof e=="bigint","Value must be a bigint."),(0,dt.assert)(typeof t=="number","Byte length must be a number."),(0,dt.assert)(t>0,"Byte length must be greater than 0."),(0,dt.assert)(Pw(e,t),"Byte length is too small to represent the given value.");let r=e;const n=new Uint8Array(t);for(let i=0;i<n.length;i++)n[i]=Number(BigInt.asUintN(8,r)),r>>=BigInt(8);return n.reverse()}we.signedBigIntToBytes=Lw;function mh(e){(0,dt.assert)(typeof e=="number","Value must be a number."),(0,dt.assert)(e>=0,"Value must be a non-negative number."),(0,dt.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToBytes` instead.");const t=e.toString(16);return fs(t)}we.numberToBytes=mh;function yh(e){return(0,dt.assert)(typeof e=="string","Value must be a string."),new TextEncoder().encode(e)}we.stringToBytes=yh;function vh(e){if(typeof e=="bigint")return gh(e);if(typeof e=="number")return mh(e);if(typeof e=="string")return e.startsWith("0x")?fs(e):yh(e);if(va(e))return e;throw new TypeError(`Unsupported value type: "${typeof e}".`)}we.valueToBytes=vh;function Ow(e){const t=new Array(e.length);let r=0;for(let i=0;i<e.length;i++){const s=vh(e[i]);t[i]=s,r+=s.length}const n=new Uint8Array(r);for(let i=0,s=0;i<t.length;i++)n.set(t[i],s),s+=t[i].length;return n}we.concatBytes=Ow;function $w(e){if(typeof Buffer<"u"&&e instanceof Buffer){const t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return new DataView(t)}return new DataView(e.buffer,e.byteOffset,e.byteLength)}we.createDataView=$w;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});ds.ChecksumStruct=void 0;const dl=Mr,Fw=Zn;ds.ChecksumStruct=(0,dl.size)((0,Fw.base64)((0,dl.string)(),{paddingRequired:!0}),44,44);var $t={};Object.defineProperty($t,"__esModule",{value:!0});$t.createHex=$t.createBytes=$t.createBigInt=$t.createNumber=void 0;const ze=Mr,Dw=it,wh=we,ps=Kn,bh=(0,ze.union)([(0,ze.number)(),(0,ze.bigint)(),(0,ze.string)(),ps.StrictHexStruct]),jw=(0,ze.coerce)((0,ze.number)(),bh,Number),Uw=(0,ze.coerce)((0,ze.bigint)(),bh,BigInt);(0,ze.union)([ps.StrictHexStruct,(0,ze.instance)(Uint8Array)]);const Hw=(0,ze.coerce)((0,ze.instance)(Uint8Array),(0,ze.union)([ps.StrictHexStruct]),wh.hexToBytes),Ww=(0,ze.coerce)(ps.StrictHexStruct,(0,ze.instance)(Uint8Array),wh.bytesToHex);function qw(e){try{const t=(0,ze.create)(e,jw);return(0,Dw.assert)(Number.isFinite(t),`Expected a number-like value, got "${e}".`),t}catch(t){throw t instanceof ze.StructError?new Error(`Expected a number-like value, got "${e}".`):t}}$t.createNumber=qw;function Vw(e){try{return(0,ze.create)(e,Uw)}catch(t){throw t instanceof ze.StructError?new Error(`Expected a number-like value, got "${String(t.value)}".`):t}}$t.createBigInt=Vw;function zw(e){if(typeof e=="string"&&e.toLowerCase()==="0x")return new Uint8Array;try{return(0,ze.create)(e,Hw)}catch(t){throw t instanceof ze.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}$t.createBytes=zw;function Gw(e){if(e instanceof Uint8Array&&e.length===0||typeof e=="string"&&e.toLowerCase()==="0x")return"0x";try{return(0,ze.create)(e,Ww)}catch(t){throw t instanceof ze.StructError?new Error(`Expected a bytes-like value, got "${String(t.value)}".`):t}}$t.createHex=Gw;var tn={},_h=ee&&ee.__classPrivateFieldSet||function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},at=ee&&ee.__classPrivateFieldGet||function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},St,kt;Object.defineProperty(tn,"__esModule",{value:!0});tn.FrozenSet=tn.FrozenMap=void 0;class wa{constructor(t){St.set(this,void 0),_h(this,St,new Map(t),"f"),Object.freeze(this)}get size(){return at(this,St,"f").size}[(St=new WeakMap,Symbol.iterator)](){return at(this,St,"f")[Symbol.iterator]()}entries(){return at(this,St,"f").entries()}forEach(t,r){return at(this,St,"f").forEach((n,i,s)=>t.call(r,n,i,this))}get(t){return at(this,St,"f").get(t)}has(t){return at(this,St,"f").has(t)}keys(){return at(this,St,"f").keys()}values(){return at(this,St,"f").values()}toString(){return`FrozenMap(${this.size}) {${this.size>0?` ${[...this.entries()].map(([t,r])=>`${String(t)} => ${String(r)}`).join(", ")} `:""}}`}}tn.FrozenMap=wa;class ba{constructor(t){kt.set(this,void 0),_h(this,kt,new Set(t),"f"),Object.freeze(this)}get size(){return at(this,kt,"f").size}[(kt=new WeakMap,Symbol.iterator)](){return at(this,kt,"f")[Symbol.iterator]()}entries(){return at(this,kt,"f").entries()}forEach(t,r){return at(this,kt,"f").forEach((n,i,s)=>t.call(r,n,i,this))}has(t){return at(this,kt,"f").has(t)}keys(){return at(this,kt,"f").keys()}values(){return at(this,kt,"f").values()}toString(){return`FrozenSet(${this.size}) {${this.size>0?` ${[...this.values()].map(t=>String(t)).join(", ")} `:""}}`}}tn.FrozenSet=ba;Object.freeze(wa);Object.freeze(wa.prototype);Object.freeze(ba);Object.freeze(ba.prototype);var Eh={};Object.defineProperty(Eh,"__esModule",{value:!0});var Sh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getJsonRpcIdValidator=e.assertIsJsonRpcError=e.isJsonRpcError=e.assertIsJsonRpcFailure=e.isJsonRpcFailure=e.assertIsJsonRpcSuccess=e.isJsonRpcSuccess=e.assertIsJsonRpcResponse=e.isJsonRpcResponse=e.assertIsPendingJsonRpcResponse=e.isPendingJsonRpcResponse=e.JsonRpcResponseStruct=e.JsonRpcFailureStruct=e.JsonRpcSuccessStruct=e.PendingJsonRpcResponseStruct=e.assertIsJsonRpcRequest=e.isJsonRpcRequest=e.assertIsJsonRpcNotification=e.isJsonRpcNotification=e.JsonRpcNotificationStruct=e.JsonRpcRequestStruct=e.JsonRpcParamsStruct=e.JsonRpcErrorStruct=e.JsonRpcIdStruct=e.JsonRpcVersionStruct=e.jsonrpc2=e.getJsonSize=e.isValidJson=e.JsonStruct=e.UnsafeJsonStruct=void 0;const t=Mr,r=it,n=()=>(0,t.define)("finite number",U=>(0,t.is)(U,(0,t.number)())&&Number.isFinite(U));e.UnsafeJsonStruct=(0,t.union)([(0,t.literal)(null),(0,t.boolean)(),n(),(0,t.string)(),(0,t.array)((0,t.lazy)(()=>e.UnsafeJsonStruct)),(0,t.record)((0,t.string)(),(0,t.lazy)(()=>e.UnsafeJsonStruct))]),e.JsonStruct=(0,t.define)("Json",(U,z)=>{function te(Q,Y){const oe=[...Y.validator(Q,z)];return oe.length>0?oe:!0}try{const Q=te(U,e.UnsafeJsonStruct);return Q!==!0?Q:te(JSON.parse(JSON.stringify(U)),e.UnsafeJsonStruct)}catch(Q){return Q instanceof RangeError?"Circular reference detected":!1}});function i(U){return(0,t.is)(U,e.JsonStruct)}e.isValidJson=i;function s(U){(0,r.assertStruct)(U,e.JsonStruct,"Invalid JSON value");const z=JSON.stringify(U);return new TextEncoder().encode(z).byteLength}e.getJsonSize=s,e.jsonrpc2="2.0",e.JsonRpcVersionStruct=(0,t.literal)(e.jsonrpc2),e.JsonRpcIdStruct=(0,t.nullable)((0,t.union)([(0,t.number)(),(0,t.string)()])),e.JsonRpcErrorStruct=(0,t.object)({code:(0,t.integer)(),message:(0,t.string)(),data:(0,t.optional)(e.JsonStruct),stack:(0,t.optional)((0,t.string)())}),e.JsonRpcParamsStruct=(0,t.optional)((0,t.union)([(0,t.record)((0,t.string)(),e.JsonStruct),(0,t.array)(e.JsonStruct)])),e.JsonRpcRequestStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,method:(0,t.string)(),params:e.JsonRpcParamsStruct}),e.JsonRpcNotificationStruct=(0,t.omit)(e.JsonRpcRequestStruct,["id"]);function a(U){return(0,t.is)(U,e.JsonRpcNotificationStruct)}e.isJsonRpcNotification=a;function o(U,z){(0,r.assertStruct)(U,e.JsonRpcNotificationStruct,"Invalid JSON-RPC notification",z)}e.assertIsJsonRpcNotification=o;function l(U){return(0,t.is)(U,e.JsonRpcRequestStruct)}e.isJsonRpcRequest=l;function g(U,z){(0,r.assertStruct)(U,e.JsonRpcRequestStruct,"Invalid JSON-RPC request",z)}e.assertIsJsonRpcRequest=g,e.PendingJsonRpcResponseStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:(0,t.optional)((0,t.unknown)()),error:(0,t.optional)(e.JsonRpcErrorStruct)}),e.JsonRpcSuccessStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,result:e.JsonStruct}),e.JsonRpcFailureStruct=(0,t.object)({id:e.JsonRpcIdStruct,jsonrpc:e.JsonRpcVersionStruct,error:e.JsonRpcErrorStruct}),e.JsonRpcResponseStruct=(0,t.union)([e.JsonRpcSuccessStruct,e.JsonRpcFailureStruct]);function p(U){return(0,t.is)(U,e.PendingJsonRpcResponseStruct)}e.isPendingJsonRpcResponse=p;function v(U,z){(0,r.assertStruct)(U,e.PendingJsonRpcResponseStruct,"Invalid pending JSON-RPC response",z)}e.assertIsPendingJsonRpcResponse=v;function w(U){return(0,t.is)(U,e.JsonRpcResponseStruct)}e.isJsonRpcResponse=w;function k(U,z){(0,r.assertStruct)(U,e.JsonRpcResponseStruct,"Invalid JSON-RPC response",z)}e.assertIsJsonRpcResponse=k;function j(U){return(0,t.is)(U,e.JsonRpcSuccessStruct)}e.isJsonRpcSuccess=j;function O(U,z){(0,r.assertStruct)(U,e.JsonRpcSuccessStruct,"Invalid JSON-RPC success response",z)}e.assertIsJsonRpcSuccess=O;function D(U){return(0,t.is)(U,e.JsonRpcFailureStruct)}e.isJsonRpcFailure=D;function I(U,z){(0,r.assertStruct)(U,e.JsonRpcFailureStruct,"Invalid JSON-RPC failure response",z)}e.assertIsJsonRpcFailure=I;function P(U){return(0,t.is)(U,e.JsonRpcErrorStruct)}e.isJsonRpcError=P;function B(U,z){(0,r.assertStruct)(U,e.JsonRpcErrorStruct,"Invalid JSON-RPC error",z)}e.assertIsJsonRpcError=B;function W(U){const{permitEmptyString:z,permitFractions:te,permitNull:Q}=Object.assign({permitEmptyString:!0,permitFractions:!1,permitNull:!0},U);return de=>!!(typeof de=="number"&&(te||Number.isInteger(de))||typeof de=="string"&&(z||de.length>0)||Q&&de===null)}e.getJsonRpcIdValidator=W})(Sh);var Rh={};Object.defineProperty(Rh,"__esModule",{value:!0});var rn={},Jw=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rn,"__esModule",{value:!0});rn.createModuleLogger=rn.createProjectLogger=void 0;const Zw=Jw(Zh),Kw=(0,Zw.default)("metamask");function Yw(e){return Kw.extend(e)}rn.createProjectLogger=Yw;function Qw(e,t){return e.extend(t)}rn.createModuleLogger=Qw;var Mh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.calculateNumberSize=e.calculateStringSize=e.isASCII=e.isPlainObject=e.ESCAPE_CHARACTERS_REGEXP=e.JsonSize=e.hasProperty=e.isObject=e.isNullOrUndefined=e.isNonEmptyArray=void 0;function t(g){return Array.isArray(g)&&g.length>0}e.isNonEmptyArray=t;function r(g){return g==null}e.isNullOrUndefined=r;function n(g){return!!g&&typeof g=="object"&&!Array.isArray(g)}e.isObject=n;const i=(g,p)=>Object.hasOwnProperty.call(g,p);e.hasProperty=i,function(g){g[g.Null=4]="Null",g[g.Comma=1]="Comma",g[g.Wrapper=1]="Wrapper",g[g.True=4]="True",g[g.False=5]="False",g[g.Quote=1]="Quote",g[g.Colon=1]="Colon",g[g.Date=24]="Date"}(e.JsonSize||(e.JsonSize={})),e.ESCAPE_CHARACTERS_REGEXP=/"|\\|\n|\r|\t/gu;function s(g){if(typeof g!="object"||g===null)return!1;try{let p=g;for(;Object.getPrototypeOf(p)!==null;)p=Object.getPrototypeOf(p);return Object.getPrototypeOf(g)===p}catch{return!1}}e.isPlainObject=s;function a(g){return g.charCodeAt(0)<=127}e.isASCII=a;function o(g){var p;return g.split("").reduce((w,k)=>a(k)?w+1:w+2,0)+((p=g.match(e.ESCAPE_CHARACTERS_REGEXP))!==null&&p!==void 0?p:[]).length}e.calculateStringSize=o;function l(g){return g.toString().length}e.calculateNumberSize=l})(Mh);var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.hexToBigInt=Ft.hexToNumber=Ft.bigIntToHex=Ft.numberToHex=void 0;const Jr=it,Rn=Kn,Xw=e=>((0,Jr.assert)(typeof e=="number","Value must be a number."),(0,Jr.assert)(e>=0,"Value must be a non-negative number."),(0,Jr.assert)(Number.isSafeInteger(e),"Value is not a safe integer. Use `bigIntToHex` instead."),(0,Rn.add0x)(e.toString(16)));Ft.numberToHex=Xw;const eb=e=>((0,Jr.assert)(typeof e=="bigint","Value must be a bigint."),(0,Jr.assert)(e>=0,"Value must be a non-negative bigint."),(0,Rn.add0x)(e.toString(16)));Ft.bigIntToHex=eb;const tb=e=>{(0,Rn.assertIsHexString)(e);const t=parseInt(e,16);return(0,Jr.assert)(Number.isSafeInteger(t),"Value is not a safe integer. Use `hexToBigInt` instead."),t};Ft.hexToNumber=tb;const rb=e=>((0,Rn.assertIsHexString)(e),BigInt((0,Rn.add0x)(e)));Ft.hexToBigInt=rb;var Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});var Ih={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.timeSince=e.inMilliseconds=e.Duration=void 0,function(s){s[s.Millisecond=1]="Millisecond",s[s.Second=1e3]="Second",s[s.Minute=6e4]="Minute",s[s.Hour=36e5]="Hour",s[s.Day=864e5]="Day",s[s.Week=6048e5]="Week",s[s.Year=31536e6]="Year"}(e.Duration||(e.Duration={}));const t=s=>Number.isInteger(s)&&s>=0,r=(s,a)=>{if(!t(s))throw new Error(`"${a}" must be a non-negative integer. Received: "${s}".`)};function n(s,a){return r(s,"count"),s*a}e.inMilliseconds=n;function i(s){return r(s,"timestamp"),Date.now()-s}e.timeSince=i})(Ih);var Ah={};Object.defineProperty(Ah,"__esModule",{value:!0});var xh={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.satisfiesVersionRange=e.gtRange=e.gtVersion=e.assertIsSemVerRange=e.assertIsSemVerVersion=e.isValidSemVerRange=e.isValidSemVerVersion=e.VersionRangeStruct=e.VersionStruct=void 0;const t=H0,r=Mr,n=it;e.VersionStruct=(0,r.refine)((0,r.string)(),"Version",v=>(0,t.valid)(v)===null?`Expected SemVer version, got "${v}"`:!0),e.VersionRangeStruct=(0,r.refine)((0,r.string)(),"Version range",v=>(0,t.validRange)(v)===null?`Expected SemVer range, got "${v}"`:!0);function i(v){return(0,r.is)(v,e.VersionStruct)}e.isValidSemVerVersion=i;function s(v){return(0,r.is)(v,e.VersionRangeStruct)}e.isValidSemVerRange=s;function a(v){(0,n.assertStruct)(v,e.VersionStruct)}e.assertIsSemVerVersion=a;function o(v){(0,n.assertStruct)(v,e.VersionRangeStruct)}e.assertIsSemVerRange=o;function l(v,w){return(0,t.gt)(v,w)}e.gtVersion=l;function g(v,w){return(0,t.gtr)(v,w)}e.gtRange=g;function p(v,w){return(0,t.satisfies)(v,w,{includePrerelease:!0})}e.satisfiesVersionRange=p})(xh);(function(e){var t=ee&&ee.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s);var o=Object.getOwnPropertyDescriptor(i,s);(!o||("get"in o?!i.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return i[s]}}),Object.defineProperty(n,a,o)}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=ee&&ee.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(it,e),r(Zn,e),r(we,e),r(ds,e),r($t,e),r(tn,e),r(Eh,e),r(Kn,e),r(Sh,e),r(Rh,e),r(rn,e),r(Mh,e),r(Ft,e),r(Ch,e),r(Ih,e),r(Ah,e),r(xh,e)})(nh);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createModuleLogger=e.projectLogger=void 0;const t=nh;Object.defineProperty(e,"createModuleLogger",{enumerable:!0,get:function(){return t.createModuleLogger}}),e.projectLogger=(0,t.createProjectLogger)("eth-block-tracker")})(rh);var kh=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(hs,"__esModule",{value:!0});hs.PollingBlockTracker=void 0;const nb=kh(fa),ib=kh(Mv),sb=Vn,pl=rh,gl=(0,pl.createModuleLogger)(pl.projectLogger,"polling-block-tracker"),ob=(0,nb.default)(),ab=1e3;class cb extends sb.BaseBlockTracker{constructor(t={}){var r;if(!t.provider)throw new Error("PollingBlockTracker - no provider specified.");super(Object.assign(Object.assign({},t),{blockResetDuration:(r=t.blockResetDuration)!==null&&r!==void 0?r:t.pollingInterval})),this._provider=t.provider,this._pollingInterval=t.pollingInterval||20*ab,this._retryTimeout=t.retryTimeout||this._pollingInterval/10,this._keepEventLoopActive=t.keepEventLoopActive===void 0?!0:t.keepEventLoopActive,this._setSkipCacheFlag=t.setSkipCacheFlag||!1}async checkForLatestBlock(){return await this._updateLatestBlock(),await this.getLatestBlock()}async _start(){this._synchronize()}async _end(){}async _synchronize(){for(var t;this._isRunning;)try{await this._updateLatestBlock();const r=ml(this._pollingInterval,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await r}catch(r){const n=new Error(`PollingBlockTracker - encountered an error while attempting to update latest block:
${(t=r.stack)!==null&&t!==void 0?t:r}`);try{this.emit("error",n)}catch{console.error(n)}const i=ml(this._retryTimeout,!this._keepEventLoopActive);this.emit("_waitingForNextIteration"),await i}}async _updateLatestBlock(){const t=await this._fetchLatestBlock();this._newPotentialLatest(t)}async _fetchLatestBlock(){const t={jsonrpc:"2.0",id:ob(),method:"eth_blockNumber",params:[]};this._setSkipCacheFlag&&(t.skipCache=!0),gl("Making request",t);const r=await(0,ib.default)(n=>this._provider.sendAsync(t,n))();if(gl("Got response",r),r.error)throw new Error(`PollingBlockTracker - encountered error fetching block:
${r.error.message}`);return r.result}}hs.PollingBlockTracker=cb;function ml(e,t){return new Promise(r=>{const n=setTimeout(r,e);n.unref&&t&&n.unref()})}var gs={},lb=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gs,"__esModule",{value:!0});gs.SubscribeBlockTracker=void 0;const ub=lb(fa),hb=Vn,fb=(0,ub.default)();class db extends hb.BaseBlockTracker{constructor(t={}){if(!t.provider)throw new Error("SubscribeBlockTracker - no provider specified.");super(t),this._provider=t.provider,this._subscriptionId=null}async checkForLatestBlock(){return await this.getLatestBlock()}async _start(){if(this._subscriptionId===void 0||this._subscriptionId===null)try{const t=await this._call("eth_blockNumber");this._subscriptionId=await this._call("eth_subscribe","newHeads"),this._provider.on("data",this._handleSubData.bind(this)),this._newPotentialLatest(t)}catch(t){this.emit("error",t)}}async _end(){if(this._subscriptionId!==null&&this._subscriptionId!==void 0)try{await this._call("eth_unsubscribe",this._subscriptionId),this._subscriptionId=null}catch(t){this.emit("error",t)}}_call(t,...r){return new Promise((n,i)=>{this._provider.sendAsync({id:fb(),method:t,params:r,jsonrpc:"2.0"},(s,a)=>{s?i(s):n(a.result)})})}_handleSubData(t,r){var n;r.method==="eth_subscription"&&((n=r.params)===null||n===void 0?void 0:n.subscription)===this._subscriptionId&&this._newPotentialLatest(r.params.result.number)}}gs.SubscribeBlockTracker=db;(function(e){var t=ee&&ee.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=ee&&ee.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(hs,e),r(gs,e)})(th);var _a={},ms={},Yn={};Object.defineProperty(Yn,"__esModule",{value:!0});Yn.getUniqueId=void 0;const Th=4294967295;let Ro=Math.floor(Math.random()*Th);function pb(){return Ro=(Ro+1)%Th,Ro}Yn.getUniqueId=pb;Object.defineProperty(ms,"__esModule",{value:!0});ms.createIdRemapMiddleware=void 0;const gb=Yn;function mb(){return(e,t,r,n)=>{const i=e.id,s=gb.getUniqueId();e.id=s,t.id=s,r(a=>{e.id=i,t.id=i,a()})}}ms.createIdRemapMiddleware=mb;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});ys.createAsyncMiddleware=void 0;function yb(e){return async(t,r,n,i)=>{let s;const a=new Promise(p=>{s=p});let o=null,l=!1;const g=async()=>{l=!0,n(p=>{o=p,s()}),await a};try{await e(t,r,g),l?(await a,o(null)):i(null)}catch(p){o?o(p):i(p)}}}ys.createAsyncMiddleware=yb;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});vs.createScaffoldMiddleware=void 0;function vb(e){return(t,r,n,i)=>{const s=e[t.method];return s===void 0?n():typeof s=="function"?s(t,r,n,i):(r.result=s,i())}}vs.createScaffoldMiddleware=vb;var Qn={},Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});const wb=Ci;function yl(e,t,r){try{Reflect.apply(e,t,r)}catch(n){setTimeout(()=>{throw n})}}function bb(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}let _b=class extends wb.EventEmitter{emit(t,...r){let n=t==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let a;if(r.length>0&&([a]=r),a instanceof Error)throw a;const o=new Error(`Unhandled error.${a?` (${a.message})`:""}`);throw o.context=a,o}const s=i[t];if(s===void 0)return!1;if(typeof s=="function")yl(s,this,r);else{const a=s.length,o=bb(s);for(let l=0;l<a;l+=1)yl(o[l],this,r)}return!0}};Ea.default=_b;var Bh={},Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.EthereumProviderError=Gt.EthereumRpcError=void 0;const Eb=W0;class Nh extends Error{constructor(t,r,n){if(!Number.isInteger(t))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),this.stack&&(t.stack=this.stack),t}toString(){return Eb.default(this.serialize(),Mb,2)}}Gt.EthereumRpcError=Nh;class Sb extends Nh{constructor(t,r,n){if(!Rb(t))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(t,r,n)}}Gt.EthereumProviderError=Sb;function Rb(e){return Number.isInteger(e)&&e>=1e3&&e<=4999}function Mb(e,t){if(t!=="[Circular]")return t}var Sa={},Jt={};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.errorValues=Jt.errorCodes=void 0;Jt.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}};Jt.errorValues={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.serializeError=e.isValidCode=e.getMessageFromCode=e.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const t=Jt,r=Gt,n=t.errorCodes.rpc.internal,i="Unspecified error message. This is a bug, please report it.",s={code:n,message:a(n)};e.JSON_RPC_SERVER_ERROR_MESSAGE="Unspecified server error.";function a(w,k=i){if(Number.isInteger(w)){const j=w.toString();if(v(t.errorValues,j))return t.errorValues[j].message;if(g(w))return e.JSON_RPC_SERVER_ERROR_MESSAGE}return k}e.getMessageFromCode=a;function o(w){if(!Number.isInteger(w))return!1;const k=w.toString();return!!(t.errorValues[k]||g(w))}e.isValidCode=o;function l(w,{fallbackError:k=s,shouldIncludeStack:j=!1}={}){var O,D;if(!k||!Number.isInteger(k.code)||typeof k.message!="string")throw new Error("Must provide fallback error with integer number code and string message.");if(w instanceof r.EthereumRpcError)return w.serialize();const I={};if(w&&typeof w=="object"&&!Array.isArray(w)&&v(w,"code")&&o(w.code)){const B=w;I.code=B.code,B.message&&typeof B.message=="string"?(I.message=B.message,v(B,"data")&&(I.data=B.data)):(I.message=a(I.code),I.data={originalError:p(w)})}else{I.code=k.code;const B=(O=w)===null||O===void 0?void 0:O.message;I.message=B&&typeof B=="string"?B:k.message,I.data={originalError:p(w)}}const P=(D=w)===null||D===void 0?void 0:D.stack;return j&&w&&P&&typeof P=="string"&&(I.stack=P),I}e.serializeError=l;function g(w){return w>=-32099&&w<=-32e3}function p(w){return w&&typeof w=="object"&&!Array.isArray(w)?Object.assign({},w):w}function v(w,k){return Object.prototype.hasOwnProperty.call(w,k)}})(Sa);var ws={};Object.defineProperty(ws,"__esModule",{value:!0});ws.ethErrors=void 0;const Ra=Gt,Ph=Sa,st=Jt;ws.ethErrors={rpc:{parse:e=>mt(st.errorCodes.rpc.parse,e),invalidRequest:e=>mt(st.errorCodes.rpc.invalidRequest,e),invalidParams:e=>mt(st.errorCodes.rpc.invalidParams,e),methodNotFound:e=>mt(st.errorCodes.rpc.methodNotFound,e),internal:e=>mt(st.errorCodes.rpc.internal,e),server:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:t}=e;if(!Number.isInteger(t)||t>-32005||t<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return mt(t,e)},invalidInput:e=>mt(st.errorCodes.rpc.invalidInput,e),resourceNotFound:e=>mt(st.errorCodes.rpc.resourceNotFound,e),resourceUnavailable:e=>mt(st.errorCodes.rpc.resourceUnavailable,e),transactionRejected:e=>mt(st.errorCodes.rpc.transactionRejected,e),methodNotSupported:e=>mt(st.errorCodes.rpc.methodNotSupported,e),limitExceeded:e=>mt(st.errorCodes.rpc.limitExceeded,e)},provider:{userRejectedRequest:e=>yn(st.errorCodes.provider.userRejectedRequest,e),unauthorized:e=>yn(st.errorCodes.provider.unauthorized,e),unsupportedMethod:e=>yn(st.errorCodes.provider.unsupportedMethod,e),disconnected:e=>yn(st.errorCodes.provider.disconnected,e),chainDisconnected:e=>yn(st.errorCodes.provider.chainDisconnected,e),custom:e=>{if(!e||typeof e!="object"||Array.isArray(e))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:t,message:r,data:n}=e;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new Ra.EthereumProviderError(t,r,n)}}};function mt(e,t){const[r,n]=Lh(t);return new Ra.EthereumRpcError(e,r||Ph.getMessageFromCode(e),n)}function yn(e,t){const[r,n]=Lh(t);return new Ra.EthereumProviderError(e,r||Ph.getMessageFromCode(e),n)}function Lh(e){if(e){if(typeof e=="string")return[e];if(typeof e=="object"&&!Array.isArray(e)){const{message:t,data:r}=e;if(t&&typeof t!="string")throw new Error("Must specify string message.");return[t||void 0,r]}}return[]}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getMessageFromCode=e.serializeError=e.EthereumProviderError=e.EthereumRpcError=e.ethErrors=e.errorCodes=void 0;const t=Gt;Object.defineProperty(e,"EthereumRpcError",{enumerable:!0,get:function(){return t.EthereumRpcError}}),Object.defineProperty(e,"EthereumProviderError",{enumerable:!0,get:function(){return t.EthereumProviderError}});const r=Sa;Object.defineProperty(e,"serializeError",{enumerable:!0,get:function(){return r.serializeError}}),Object.defineProperty(e,"getMessageFromCode",{enumerable:!0,get:function(){return r.getMessageFromCode}});const n=ws;Object.defineProperty(e,"ethErrors",{enumerable:!0,get:function(){return n.ethErrors}});const i=Jt;Object.defineProperty(e,"errorCodes",{enumerable:!0,get:function(){return i.errorCodes}})})(Bh);var Cb=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.JsonRpcEngine=void 0;const Ib=Cb(Ea),yt=Bh;class Dt extends Ib.default{constructor(){super(),this._middleware=[]}push(t){this._middleware.push(t)}handle(t,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(t)?r?this._handleBatch(t,r):this._handleBatch(t):r?this._handle(t,r):this._promiseHandle(t)}asMiddleware(){return async(t,r,n,i)=>{try{const[s,a,o]=await Dt._runAllMiddleware(t,r,this._middleware);return a?(await Dt._runReturnHandlers(o),i(s)):n(async l=>{try{await Dt._runReturnHandlers(o)}catch(g){return l(g)}return l()})}catch(s){return i(s)}}}async _handleBatch(t,r){try{const n=await Promise.all(t.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(t){return new Promise(r=>{this._handle(t,(n,i)=>{r(i)})})}async _handle(t,r){if(!t||Array.isArray(t)||typeof t!="object"){const a=new yt.EthereumRpcError(yt.errorCodes.rpc.invalidRequest,`Requests must be plain objects. Received: ${typeof t}`,{request:t});return r(a,{id:void 0,jsonrpc:"2.0",error:a})}if(typeof t.method!="string"){const a=new yt.EthereumRpcError(yt.errorCodes.rpc.invalidRequest,`Must specify a string method. Received: ${typeof t.method}`,{request:t});return r(a,{id:t.id,jsonrpc:"2.0",error:a})}const n=Object.assign({},t),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(a){s=a}return s&&(delete i.result,i.error||(i.error=yt.serializeError(s))),r(s,i)}async _processRequest(t,r){const[n,i,s]=await Dt._runAllMiddleware(t,r,this._middleware);if(Dt._checkForCompletion(t,r,i),await Dt._runReturnHandlers(s),n)throw n}static async _runAllMiddleware(t,r,n){const i=[];let s=null,a=!1;for(const o of n)if([s,a]=await Dt._runMiddleware(t,r,o,i),a)break;return[s,a,i.reverse()]}static _runMiddleware(t,r,n,i){return new Promise(s=>{const a=l=>{const g=l||r.error;g&&(r.error=yt.serializeError(g)),s([g,!0])},o=l=>{r.error?a(r.error):(l&&(typeof l!="function"&&a(new yt.EthereumRpcError(yt.errorCodes.rpc.internal,`JsonRpcEngine: "next" return handlers must be functions. Received "${typeof l}" for request:
${Mo(t)}`,{request:t})),i.push(l)),s([null,!1]))};try{n(t,r,o,a)}catch(l){a(l)}})}static async _runReturnHandlers(t){for(const r of t)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(t,r,n){if(!("result"in r)&&!("error"in r))throw new yt.EthereumRpcError(yt.errorCodes.rpc.internal,`JsonRpcEngine: Response has no error or result for request:
${Mo(t)}`,{request:t});if(!n)throw new yt.EthereumRpcError(yt.errorCodes.rpc.internal,`JsonRpcEngine: Nothing ended request:
${Mo(t)}`,{request:t})}}Qn.JsonRpcEngine=Dt;function Mo(e){return JSON.stringify(e,null,2)}var bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.mergeMiddleware=void 0;const Ab=Qn;function xb(e){const t=new Ab.JsonRpcEngine;return e.forEach(r=>t.push(r)),t.asMiddleware()}bs.mergeMiddleware=xb;(function(e){var t=ee&&ee.__createBinding||(Object.create?function(n,i,s,a){a===void 0&&(a=s),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[s]}})}:function(n,i,s,a){a===void 0&&(a=s),n[a]=i[s]}),r=ee&&ee.__exportStar||function(n,i){for(var s in n)s!=="default"&&!Object.prototype.hasOwnProperty.call(i,s)&&t(i,n,s)};Object.defineProperty(e,"__esModule",{value:!0}),r(ms,e),r(ys,e),r(vs,e),r(Yn,e),r(Qn,e),r(bs,e)})(_a);var Oh={},Ma={},_s={};Object.defineProperty(_s,"__esModule",{value:!0});var vl=Do,kb=function(){function e(t){if(this._maxConcurrency=t,this._queue=[],t<=0)throw new Error("semaphore must be initialized to a positive value");this._value=t}return e.prototype.acquire=function(){var t=this,r=this.isLocked(),n=new Promise(function(i){return t._queue.push(i)});return r||this._dispatch(),n},e.prototype.runExclusive=function(t){return vl.__awaiter(this,void 0,void 0,function(){var r,n,i;return vl.__generator(this,function(s){switch(s.label){case 0:return[4,this.acquire()];case 1:r=s.sent(),n=r[0],i=r[1],s.label=2;case 2:return s.trys.push([2,,4,5]),[4,t(n)];case 3:return[2,s.sent()];case 4:return i(),[7];case 5:return[2]}})})},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");if(this._currentReleaser){var t=this._currentReleaser;this._currentReleaser=void 0,t()}},e.prototype._dispatch=function(){var t=this,r=this._queue.shift();if(r){var n=!1;this._currentReleaser=function(){n||(n=!0,t._value++,t._dispatch())},r([this._value--,this._currentReleaser])}},e}();_s.default=kb;Object.defineProperty(Ma,"__esModule",{value:!0});var wl=Do,Tb=_s,Bb=function(){function e(){this._semaphore=new Tb.default(1)}return e.prototype.acquire=function(){return wl.__awaiter(this,void 0,void 0,function(){var t,r;return wl.__generator(this,function(n){switch(n.label){case 0:return[4,this._semaphore.acquire()];case 1:return t=n.sent(),r=t[1],[2,r]}})})},e.prototype.runExclusive=function(t){return this._semaphore.runExclusive(function(){return t()})},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();Ma.default=Bb;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});Es.withTimeout=void 0;var pi=Do;function Nb(e,t,r){var n=this;return r===void 0&&(r=new Error("timeout")),{acquire:function(){return new Promise(function(i,s){return pi.__awaiter(n,void 0,void 0,function(){var a,o,l;return pi.__generator(this,function(g){switch(g.label){case 0:return a=!1,setTimeout(function(){a=!0,s(r)},t),[4,e.acquire()];case 1:return o=g.sent(),a?(l=Array.isArray(o)?o[1]:o,l()):i(o),[2]}})})})},runExclusive:function(i){return pi.__awaiter(this,void 0,void 0,function(){var s,a;return pi.__generator(this,function(o){switch(o.label){case 0:s=function(){},o.label=1;case 1:return o.trys.push([1,,7,8]),[4,this.acquire()];case 2:return a=o.sent(),Array.isArray(a)?(s=a[1],[4,i(a[0])]):[3,4];case 3:return[2,o.sent()];case 4:return s=a,[4,i()];case 5:return[2,o.sent()];case 6:return[3,8];case 7:return s(),[7];case 8:return[2]}})})},release:function(){e.release()},isLocked:function(){return e.isLocked()}}}Es.withTimeout=Nb;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.withTimeout=e.Semaphore=e.Mutex=void 0;var t=Ma;Object.defineProperty(e,"Mutex",{enumerable:!0,get:function(){return t.default}});var r=_s;Object.defineProperty(e,"Semaphore",{enumerable:!0,get:function(){return r.default}});var n=Es;Object.defineProperty(e,"withTimeout",{enumerable:!0,get:function(){return n.withTimeout}})})(Oh);var Pb=Ob,Lb=Object.prototype.hasOwnProperty;function Ob(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r)Lb.call(r,n)&&(e[n]=r[n])}return e}const $b=Pb,Fb=fa();var Db=le;function le(e){const t=this;t.currentProvider=e}le.prototype.getBalance=Xn(2,"eth_getBalance");le.prototype.getCode=Xn(2,"eth_getCode");le.prototype.getTransactionCount=Xn(2,"eth_getTransactionCount");le.prototype.getStorageAt=Xn(3,"eth_getStorageAt");le.prototype.call=Xn(2,"eth_call");le.prototype.protocolVersion=ge("eth_protocolVersion");le.prototype.syncing=ge("eth_syncing");le.prototype.coinbase=ge("eth_coinbase");le.prototype.mining=ge("eth_mining");le.prototype.hashrate=ge("eth_hashrate");le.prototype.gasPrice=ge("eth_gasPrice");le.prototype.accounts=ge("eth_accounts");le.prototype.blockNumber=ge("eth_blockNumber");le.prototype.getBlockTransactionCountByHash=ge("eth_getBlockTransactionCountByHash");le.prototype.getBlockTransactionCountByNumber=ge("eth_getBlockTransactionCountByNumber");le.prototype.getUncleCountByBlockHash=ge("eth_getUncleCountByBlockHash");le.prototype.getUncleCountByBlockNumber=ge("eth_getUncleCountByBlockNumber");le.prototype.sign=ge("eth_sign");le.prototype.sendTransaction=ge("eth_sendTransaction");le.prototype.sendRawTransaction=ge("eth_sendRawTransaction");le.prototype.estimateGas=ge("eth_estimateGas");le.prototype.getBlockByHash=ge("eth_getBlockByHash");le.prototype.getBlockByNumber=ge("eth_getBlockByNumber");le.prototype.getTransactionByHash=ge("eth_getTransactionByHash");le.prototype.getTransactionByBlockHashAndIndex=ge("eth_getTransactionByBlockHashAndIndex");le.prototype.getTransactionByBlockNumberAndIndex=ge("eth_getTransactionByBlockNumberAndIndex");le.prototype.getTransactionReceipt=ge("eth_getTransactionReceipt");le.prototype.getUncleByBlockHashAndIndex=ge("eth_getUncleByBlockHashAndIndex");le.prototype.getUncleByBlockNumberAndIndex=ge("eth_getUncleByBlockNumberAndIndex");le.prototype.getCompilers=ge("eth_getCompilers");le.prototype.compileLLL=ge("eth_compileLLL");le.prototype.compileSolidity=ge("eth_compileSolidity");le.prototype.compileSerpent=ge("eth_compileSerpent");le.prototype.newFilter=ge("eth_newFilter");le.prototype.newBlockFilter=ge("eth_newBlockFilter");le.prototype.newPendingTransactionFilter=ge("eth_newPendingTransactionFilter");le.prototype.uninstallFilter=ge("eth_uninstallFilter");le.prototype.getFilterChanges=ge("eth_getFilterChanges");le.prototype.getFilterLogs=ge("eth_getFilterLogs");le.prototype.getLogs=ge("eth_getLogs");le.prototype.getWork=ge("eth_getWork");le.prototype.submitWork=ge("eth_submitWork");le.prototype.submitHashrate=ge("eth_submitHashrate");le.prototype.sendAsync=function(e,t){this.currentProvider.sendAsync(jb(e),function(n,i){if(!n&&i.error&&(n=new Error("EthQuery - RPC Error - "+i.error.message)),n)return t(n);t(null,i.result)})};function ge(e){return function(){const t=this;var r=[].slice.call(arguments),n=r.pop();t.sendAsync({method:e,params:r},n)}}function Xn(e,t){return function(){const r=this;var n=[].slice.call(arguments),i=n.pop();n.length<e&&n.push("latest"),r.sendAsync({method:t,params:n},i)}}function jb(e){return $b({id:Fb(),jsonrpc:"2.0",params:[]},e)}const bl=(e,t,r,n)=>function(...i){const s=t.promiseModule;return new s((a,o)=>{t.multiArgs?i.push((...g)=>{t.errorFirst?g[0]?o(g):(g.shift(),a(g)):a(g)}):t.errorFirst?i.push((g,p)=>{g?o(g):a(p)}):i.push(a),Reflect.apply(e,this===r?n:this,i)})},_l=new WeakMap;var Ub=(e,t)=>{t={exclude:[/.+(?:Sync|Stream)$/],errorFirst:!0,promiseModule:Promise,...t};const r=typeof e;if(!(e!==null&&(r==="object"||r==="function")))throw new TypeError(`Expected \`input\` to be a \`Function\` or \`Object\`, got \`${e===null?"null":r}\``);const n=(a,o)=>{let l=_l.get(a);if(l||(l={},_l.set(a,l)),o in l)return l[o];const g=j=>typeof j=="string"||typeof o=="symbol"?o===j:j.test(o),p=Reflect.getOwnPropertyDescriptor(a,o),v=p===void 0||p.writable||p.configurable,k=(t.include?t.include.some(g):!t.exclude.some(g))&&v;return l[o]=k,k},i=new WeakMap,s=new Proxy(e,{apply(a,o,l){const g=i.get(a);if(g)return Reflect.apply(g,o,l);const p=t.excludeMain?a:bl(a,t,s,a);return i.set(a,p),Reflect.apply(p,o,l)},get(a,o){const l=a[o];if(!n(a,o)||l===Function.prototype[o])return l;const g=i.get(l);if(g)return g;if(typeof l=="function"){const p=bl(l,t,s,a);return i.set(l,p),p}return l}});return s};const Hb=zn.default;let Wb=class extends Hb{constructor(){super(),this.updates=[]}async initialize(){}async update(){throw new Error("BaseFilter - no update method specified")}addResults(t){this.updates=this.updates.concat(t),t.forEach(r=>this.emit("update",r))}addInitialResults(t){}getChangesAndClear(){const t=this.updates;return this.updates=[],t}};var Ca=Wb;const qb=Ca;let Vb=class extends qb{constructor(){super(),this.allResults=[]}async update(){throw new Error("BaseFilterWithHistory - no update method specified")}addResults(t){this.allResults=this.allResults.concat(t),super.addResults(t)}addInitialResults(t){this.allResults=this.allResults.concat(t),super.addInitialResults(t)}getAllResults(){return this.allResults}};var zb=Vb,ei={minBlockRef:Gb,maxBlockRef:Jb,sortBlockRefs:Ia,bnToHex:Zb,blockRefIsNumber:Kb,hexToInt:Mi,incrementHexInt:Yb,intToHex:$h,unsafeRandomBytes:Qb};function Gb(...e){return Ia(e)[0]}function Jb(...e){const t=Ia(e);return t[t.length-1]}function Ia(e){return e.sort((t,r)=>t==="latest"||r==="earliest"?1:r==="latest"||t==="earliest"?-1:Mi(t)-Mi(r))}function Zb(e){return"0x"+e.toString(16)}function Kb(e){return e&&!["earliest","latest","pending"].includes(e)}function Mi(e){return e==null?e:Number.parseInt(e,16)}function Yb(e){if(e==null)return e;const t=Mi(e);return $h(t+1)}function $h(e){if(e==null)return e;let t=e.toString(16);return t.length%2&&(t="0"+t),"0x"+t}function Qb(e){let t="0x";for(let r=0;r<e;r++)t+=El(),t+=El();return t}function El(){return Math.floor(Math.random()*16).toString(16)}const Xb=Db,e2=Ub,t2=zb,{bnToHex:y_,hexToInt:gi,incrementHexInt:r2,minBlockRef:n2,blockRefIsNumber:i2}=ei;let s2=class extends t2{constructor({provider:t,params:r}){super(),this.type="log",this.ethQuery=new Xb(t),this.params=Object.assign({fromBlock:"latest",toBlock:"latest",address:void 0,topics:[]},r),this.params.address&&(Array.isArray(this.params.address)||(this.params.address=[this.params.address]),this.params.address=this.params.address.map(n=>n.toLowerCase()))}async initialize({currentBlock:t}){let r=this.params.fromBlock;["latest","pending"].includes(r)&&(r=t),r==="earliest"&&(r="0x0"),this.params.fromBlock=r;const n=n2(this.params.toBlock,t),i=Object.assign({},this.params,{toBlock:n}),s=await this._fetchLogs(i);this.addInitialResults(s)}async update({oldBlock:t,newBlock:r}){const n=r;let i;t?i=r2(t):i=r;const s=Object.assign({},this.params,{fromBlock:i,toBlock:n}),o=(await this._fetchLogs(s)).filter(l=>this.matchLog(l));this.addResults(o)}async _fetchLogs(t){return await e2(n=>this.ethQuery.getLogs(t,n))()}matchLog(t){if(gi(this.params.fromBlock)>=gi(t.blockNumber)||i2(this.params.toBlock)&&gi(this.params.toBlock)<=gi(t.blockNumber))return!1;const r=t.address&&t.address.toLowerCase();return this.params.address&&r&&!this.params.address.includes(r)?!1:this.params.topics.every((i,s)=>{let a=t.topics[s];if(!a)return!1;a=a.toLowerCase();let o=Array.isArray(i)?i:[i];return o.includes(null)?!0:(o=o.map(p=>p.toLowerCase()),o.includes(a))})}};var o2=s2,Aa=a2;async function a2({provider:e,fromBlock:t,toBlock:r}){t||(t=r);const n=Sl(t),s=Sl(r)-n+1,a=Array(s).fill().map((l,g)=>n+g).map(c2);let o=await Promise.all(a.map(l=>u2(e,"eth_getBlockByNumber",[l,!1])));return o=o.filter(l=>l!==null),o}function Sl(e){return e==null?e:Number.parseInt(e,16)}function c2(e){return e==null?e:"0x"+e.toString(16)}function l2(e,t){return new Promise((r,n)=>{e.sendAsync(t,(i,s)=>{i?n(i):s.error?n(s.error):s.result?r(s.result):n(new Error("Result was empty"))})})}async function u2(e,t,r){for(let n=0;n<3;n++)try{return await l2(e,{id:1,jsonrpc:"2.0",method:t,params:r})}catch(i){console.error(`provider.sendAsync failed: ${i.stack||i.message||i}`)}return null}const h2=Ca,f2=Aa,{incrementHexInt:d2}=ei;let p2=class extends h2{constructor({provider:t,params:r}){super(),this.type="block",this.provider=t}async update({oldBlock:t,newBlock:r}){const n=r,i=d2(t),a=(await f2({provider:this.provider,fromBlock:i,toBlock:n})).map(o=>o.hash);this.addResults(a)}};var g2=p2;const m2=Ca,y2=Aa,{incrementHexInt:v2}=ei;let w2=class extends m2{constructor({provider:t}){super(),this.type="tx",this.provider=t}async update({oldBlock:t}){const r=t,n=v2(t),i=await y2({provider:this.provider,fromBlock:n,toBlock:r}),s=[];for(const a of i)s.push(...a.transactions);this.addResults(s)}};var b2=w2;const _2=Oh.Mutex,{createAsyncMiddleware:E2,createScaffoldMiddleware:S2}=_a,R2=o2,M2=g2,C2=b2,{intToHex:Fh,hexToInt:Co}=ei;var I2=A2;function A2({blockTracker:e,provider:t}){let r=0,n={};const i=new _2,s=x2({mutex:i}),a=S2({eth_newFilter:s(Io(l)),eth_newBlockFilter:s(Io(g)),eth_newPendingTransactionFilter:s(Io(p)),eth_uninstallFilter:s(bi(k)),eth_getFilterChanges:s(bi(v)),eth_getFilterLogs:s(bi(w))}),o=async({oldBlock:P,newBlock:B})=>{if(n.length===0)return;const W=await i.acquire();try{await Promise.all(jr(n).map(async U=>{try{await U.update({oldBlock:P,newBlock:B})}catch(z){console.error(z)}}))}catch(U){console.error(U)}W()};return a.newLogFilter=l,a.newBlockFilter=g,a.newPendingTransactionFilter=p,a.uninstallFilter=k,a.getFilterChanges=v,a.getFilterLogs=w,a.destroy=()=>{D()},a;async function l(P){const B=new R2({provider:t,params:P});return await j(B),B}async function g(){const P=new M2({provider:t});return await j(P),P}async function p(){const P=new C2({provider:t});return await j(P),P}async function v(P){const B=Co(P),W=n[B];if(!W)throw new Error(`No filter for index "${B}"`);return W.getChangesAndClear()}async function w(P){const B=Co(P),W=n[B];if(!W)throw new Error(`No filter for index "${B}"`);let U=[];return W.type==="log"&&(U=W.getAllResults()),U}async function k(P){const B=Co(P),U=!!n[B];return U&&await O(B),U}async function j(P){const B=jr(n).length,W=await e.getLatestBlock();await P.initialize({currentBlock:W}),r++,n[r]=P,P.id=r,P.idHex=Fh(r);const U=jr(n).length;return I({prevFilterCount:B,newFilterCount:U}),r}async function O(P){const B=jr(n).length;delete n[P];const W=jr(n).length;I({prevFilterCount:B,newFilterCount:W})}async function D(){const P=jr(n).length;n={},I({prevFilterCount:P,newFilterCount:0})}function I({prevFilterCount:P,newFilterCount:B}){if(P===0&&B>0){e.on("sync",o);return}if(P>0&&B===0){e.removeListener("sync",o);return}}}function Io(e){return bi(async(...t)=>{const r=await e(...t);return Fh(r.id)})}function bi(e){return E2(async(t,r)=>{const n=await e.apply(null,t.params);r.result=n})}function x2({mutex:e}){return t=>async(r,n,i,s)=>{(await e.acquire())(),t(r,n,i,s)}}function jr(e,t){const r=[];for(let n in e)r.push(e[n]);return r}const k2=zn.default,{createAsyncMiddleware:Rl,createScaffoldMiddleware:T2}=_a,B2=I2,{unsafeRandomBytes:N2,incrementHexInt:P2}=ei,L2=Aa;var O2=$2;function $2({blockTracker:e,provider:t}){const r={},n=B2({blockTracker:e,provider:t});let i=!1;const s=new k2,a=T2({eth_subscribe:Rl(o),eth_unsubscribe:Rl(l)});return a.destroy=p,{events:s,middleware:a};async function o(v,w){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const k=v.params[0],j=N2(16);let O;switch(k){case"newHeads":O=D({subId:j});break;case"logs":const P=v.params[1],B=await n.newLogFilter(P);O=I({subId:j,filter:B});break;default:throw new Error(`SubscriptionManager - unsupported subscription type "${k}"`)}r[j]=O,w.result=j;return;function D({subId:P}){const B={type:k,destroy:async()=>{e.removeListener("sync",B.update)},update:async({oldBlock:W,newBlock:U})=>{const z=U,te=P2(W);(await L2({provider:t,fromBlock:te,toBlock:z})).map(F2).filter(de=>de!==null).forEach(de=>{g(P,de)})}};return e.on("sync",B.update),B}function I({subId:P,filter:B}){return B.on("update",U=>g(P,U)),{type:k,destroy:async()=>await n.uninstallFilter(B.idHex)}}}async function l(v,w){if(i)throw new Error("SubscriptionManager - attempting to use after destroying");const k=v.params[0],j=r[k];if(!j){w.result=!1;return}delete r[k],await j.destroy(),w.result=!0}function g(v,w){s.emit("notification",{jsonrpc:"2.0",method:"eth_subscription",params:{subscription:v,result:w}})}function p(){s.removeAllListeners();for(const v in r)r[v].destroy(),delete r[v];i=!0}}function F2(e){return e==null?null:{hash:e.hash,parentHash:e.parentHash,sha3Uncles:e.sha3Uncles,miner:e.miner,stateRoot:e.stateRoot,transactionsRoot:e.transactionsRoot,receiptsRoot:e.receiptsRoot,logsBloom:e.logsBloom,difficulty:e.difficulty,number:e.number,gasLimit:e.gasLimit,gasUsed:e.gasUsed,nonce:e.nonce,mixHash:e.mixHash,timestamp:e.timestamp,extraData:e.extraData}}Object.defineProperty(us,"__esModule",{value:!0});us.SubscriptionManager=void 0;const D2=th,j2=O2,Ml=()=>{};class U2{constructor(t){const r=new D2.PollingBlockTracker({provider:t,pollingInterval:15e3,setSkipCacheFlag:!0}),{events:n,middleware:i}=j2({blockTracker:r,provider:t});this.events=n,this.subscriptionMiddleware=i}async handleRequest(t){const r={};return await this.subscriptionMiddleware(t,r,Ml,Ml),r}destroy(){this.subscriptionMiddleware.destroy()}}us.SubscriptionManager=U2;var Dh=ee&&ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.CoinbaseWalletProvider=void 0;const H2=Dh(Pi),W2=Ep,ye=Cn,fe=X,q2=kn,Cl=wt,mi=ln,ht=on,Ao=Dh(bv),vn=cn,V2=en,z2=us,Il="DefaultChainId",Al="DefaultJsonRpcUrl";class G2 extends W2.EventEmitter{constructor(t){var r,n;super(),this._filterPolyfill=new V2.FilterPolyfill(this),this._subscriptionManager=new z2.SubscriptionManager(this),this._relay=null,this._addresses=[],this.hasMadeFirstChainChangedEmission=!1,this.setProviderInfo=this.setProviderInfo.bind(this),this.updateProviderInfo=this.updateProviderInfo.bind(this),this.getChainId=this.getChainId.bind(this),this.setAppInfo=this.setAppInfo.bind(this),this.enable=this.enable.bind(this),this.close=this.close.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this.request=this.request.bind(this),this._setAddresses=this._setAddresses.bind(this),this.scanQRCode=this.scanQRCode.bind(this),this.genericRequest=this.genericRequest.bind(this),this._chainIdFromOpts=t.chainId,this._jsonRpcUrlFromOpts=t.jsonRpcUrl,this._overrideIsMetaMask=t.overrideIsMetaMask,this._relayProvider=t.relayProvider,this._storage=t.storage,this._relayEventManager=t.relayEventManager,this.diagnostic=t.diagnosticLogger,this.reloadOnDisconnect=!0,this.isCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this.isCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this.qrUrl=t.qrUrl;const i=this.getChainId(),s=(0,fe.prepend0x)(i.toString(16));this.emit("connect",{chainIdStr:s});const a=this._storage.getItem(Cl.LOCAL_STORAGE_ADDRESSES_KEY);if(a){const o=a.split(" ");o[0]!==""&&(this._addresses=o.map(l=>(0,fe.ensureAddressString)(l)),this.emit("accountsChanged",o))}this._subscriptionManager.events.on("notification",o=>{this.emit("message",{type:o.method,data:o.params})}),this._isAuthorized()&&this.initializeRelay(),window.addEventListener("message",o=>{var l;if(!(o.origin!==location.origin||o.source!==window)&&o.data.type==="walletLinkMessage"&&o.data.data.action==="dappChainSwitched"){const g=o.data.data.chainId,p=(l=o.data.data.jsonRpcUrl)!==null&&l!==void 0?l:this.jsonRpcUrl;this.updateProviderInfo(p,Number(g))}})}get selectedAddress(){return this._addresses[0]||void 0}get networkVersion(){return this.getChainId().toString(10)}get chainId(){return(0,fe.prepend0x)(this.getChainId().toString(16))}get isWalletLink(){return!0}get isMetaMask(){return this._overrideIsMetaMask}get host(){return this.jsonRpcUrl}get connected(){return!0}isConnected(){return!0}get jsonRpcUrl(){var t;return(t=this._storage.getItem(Al))!==null&&t!==void 0?t:this._jsonRpcUrlFromOpts}set jsonRpcUrl(t){this._storage.setItem(Al,t)}disableReloadOnDisconnect(){this.reloadOnDisconnect=!1}setProviderInfo(t,r){this.isCoinbaseBrowser||(this._chainIdFromOpts=r,this._jsonRpcUrlFromOpts=t),this.updateProviderInfo(this.jsonRpcUrl,this.getChainId())}updateProviderInfo(t,r){this.jsonRpcUrl=t;const n=this.getChainId();this._storage.setItem(Il,r.toString(10)),((0,fe.ensureIntNumber)(r)!==n||!this.hasMadeFirstChainChangedEmission)&&(this.emit("chainChanged",this.getChainId()),this.hasMadeFirstChainChangedEmission=!0)}async watchAsset(t,r,n,i,s,a){const l=await(await this.initializeRelay()).watchAsset(t,r,n,i,s,a?.toString()).promise;return(0,ht.isErrorResponse)(l)?!1:!!l.result}async addEthereumChain(t,r,n,i,s,a){var o,l;if((0,fe.ensureIntNumber)(t)===this.getChainId())return!1;const g=await this.initializeRelay(),p=g.inlineAddEthereumChain(t.toString());!this._isAuthorized()&&!p&&await g.requestEthereumAccounts().promise;const v=await g.addEthereumChain(t.toString(),r,s,n,i,a).promise;return(0,ht.isErrorResponse)(v)?!1:(((o=v.result)===null||o===void 0?void 0:o.isApproved)===!0&&this.updateProviderInfo(r[0],t),((l=v.result)===null||l===void 0?void 0:l.isApproved)===!0)}async switchEthereumChain(t){const n=await(await this.initializeRelay()).switchEthereumChain(t.toString(10),this.selectedAddress||void 0).promise;if((0,ht.isErrorResponse)(n)){if(!n.errorCode)return;throw n.errorCode===ye.standardErrorCodes.provider.unsupportedChain?ye.standardErrors.provider.unsupportedChain():ye.standardErrors.provider.custom({message:n.errorMessage,code:n.errorCode})}const i=n.result;i.isApproved&&i.rpcUrl.length>0&&this.updateProviderInfo(i.rpcUrl,t)}setAppInfo(t,r){this.initializeRelay().then(n=>n.setAppInfo(t,r))}async enable(){var t;return(t=this.diagnostic)===null||t===void 0||t.log(vn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::enable",addresses_length:this._addresses.length,sessionIdHash:this._relay?mi.Session.hash(this._relay.session.id):void 0}),this._isAuthorized()?[...this._addresses]:await this.send("eth_requestAccounts")}async close(){(await this.initializeRelay()).resetAndReload()}send(t,r){try{const n=this._send(t,r);if(n instanceof Promise)return n.catch(i=>{throw(0,ye.serializeError)(i,t)})}catch(n){throw(0,ye.serializeError)(n,t)}}_send(t,r){if(typeof t=="string"){const i=t,s=Array.isArray(r)?r:r!==void 0?[r]:[],a={jsonrpc:"2.0",id:0,method:i,params:s};return this._sendRequestAsync(a).then(o=>o.result)}if(typeof r=="function"){const i=t,s=r;return this._sendAsync(i,s)}if(Array.isArray(t))return t.map(s=>this._sendRequest(s));const n=t;return this._sendRequest(n)}async sendAsync(t,r){try{return this._sendAsync(t,r).catch(n=>{throw(0,ye.serializeError)(n,t)})}catch(n){return Promise.reject((0,ye.serializeError)(n,t))}}async _sendAsync(t,r){if(typeof r!="function")throw new Error("callback is required");if(Array.isArray(t)){const i=r;this._sendMultipleRequestsAsync(t).then(s=>i(null,s)).catch(s=>i(s,null));return}const n=r;return this._sendRequestAsync(t).then(i=>n(null,i)).catch(i=>n(i,null))}async request(t){try{return this._request(t).catch(r=>{throw(0,ye.serializeError)(r,t.method)})}catch(r){return Promise.reject((0,ye.serializeError)(r,t.method))}}async _request(t){if(!t||typeof t!="object"||Array.isArray(t))throw ye.standardErrors.rpc.invalidRequest({message:"Expected a single, non-array, object argument.",data:t});const{method:r,params:n}=t;if(typeof r!="string"||r.length===0)throw ye.standardErrors.rpc.invalidRequest({message:"'args.method' must be a non-empty string.",data:t});if(n!==void 0&&!Array.isArray(n)&&(typeof n!="object"||n===null))throw ye.standardErrors.rpc.invalidRequest({message:"'args.params' must be an object or array if provided.",data:t});const i=n===void 0?[]:n,s=this._relayEventManager.makeRequestId();return(await this._sendRequestAsync({method:r,params:i,jsonrpc:"2.0",id:s})).result}async scanQRCode(t){const n=await(await this.initializeRelay()).scanQRCode((0,fe.ensureRegExpString)(t)).promise;if((0,ht.isErrorResponse)(n))throw(0,ye.serializeError)(n.errorMessage,"scanQRCode");if(typeof n.result!="string")throw(0,ye.serializeError)("result was not a string","scanQRCode");return n.result}async genericRequest(t,r){const i=await(await this.initializeRelay()).genericRequest(t,r).promise;if((0,ht.isErrorResponse)(i))throw(0,ye.serializeError)(i.errorMessage,"generic");if(typeof i.result!="string")throw(0,ye.serializeError)("result was not a string","generic");return i.result}async connectAndSignIn(t){var r;(r=this.diagnostic)===null||r===void 0||r.log(vn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::connectAndSignIn",sessionIdHash:this._relay?mi.Session.hash(this._relay.session.id):void 0});let n;try{const s=await this.initializeRelay();if(!(s instanceof q2.MobileRelay))throw new Error("connectAndSignIn is only supported on mobile");if(n=await s.connectAndSignIn(t).promise,(0,ht.isErrorResponse)(n))throw new Error(n.errorMessage)}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied account authorization"):s}if(!n.result)throw new Error("accounts received is empty");const{accounts:i}=n.result;return this._setAddresses(i),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),n.result}async selectProvider(t){const n=await(await this.initializeRelay()).selectProvider(t).promise;if((0,ht.isErrorResponse)(n))throw(0,ye.serializeError)(n.errorMessage,"selectProvider");if(typeof n.result!="string")throw(0,ye.serializeError)("result was not a string","selectProvider");return n.result}supportsSubscriptions(){return!1}subscribe(){throw new Error("Subscriptions are not supported")}unsubscribe(){throw new Error("Subscriptions are not supported")}disconnect(){return!0}_sendRequest(t){const r={jsonrpc:"2.0",id:t.id},{method:n}=t;if(r.result=this._handleSynchronousMethods(t),r.result===void 0)throw new Error(`Coinbase Wallet does not support calling ${n} synchronously without a callback. Please provide a callback parameter to call ${n} asynchronously.`);return r}_setAddresses(t,r){if(!Array.isArray(t))throw new Error("addresses is not an array");const n=t.map(i=>(0,fe.ensureAddressString)(i));JSON.stringify(n)!==JSON.stringify(this._addresses)&&(this._addresses=n,this.emit("accountsChanged",this._addresses),this._storage.setItem(Cl.LOCAL_STORAGE_ADDRESSES_KEY,n.join(" ")))}_sendRequestAsync(t){return new Promise((r,n)=>{try{const i=this._handleSynchronousMethods(t);if(i!==void 0)return r({jsonrpc:"2.0",id:t.id,result:i});const s=this._handleAsynchronousFilterMethods(t);if(s!==void 0){s.then(o=>r(Object.assign(Object.assign({},o),{id:t.id}))).catch(o=>n(o));return}const a=this._handleSubscriptionMethods(t);if(a!==void 0){a.then(o=>r({jsonrpc:"2.0",id:t.id,result:o.result})).catch(o=>n(o));return}}catch(i){return n(i)}this._handleAsynchronousMethods(t).then(i=>i&&r(Object.assign(Object.assign({},i),{id:t.id}))).catch(i=>n(i))})}_sendMultipleRequestsAsync(t){return Promise.all(t.map(r=>this._sendRequestAsync(r)))}_handleSynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_accounts":return this._eth_accounts();case"eth_coinbase":return this._eth_coinbase();case"eth_uninstallFilter":return this._eth_uninstallFilter(n);case"net_version":return this._net_version();case"eth_chainId":return this._eth_chainId();default:return}}async _handleAsynchronousMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_sign":return this._eth_sign(n);case"eth_ecRecover":return this._eth_ecRecover(n);case"personal_sign":return this._personal_sign(n);case"personal_ecRecover":return this._personal_ecRecover(n);case"eth_signTransaction":return this._eth_signTransaction(n);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(n);case"eth_sendTransaction":return this._eth_sendTransaction(n);case"eth_signTypedData_v1":return this._eth_signTypedData_v1(n);case"eth_signTypedData_v2":return this._throwUnsupportedMethodError();case"eth_signTypedData_v3":return this._eth_signTypedData_v3(n);case"eth_signTypedData_v4":case"eth_signTypedData":return this._eth_signTypedData_v4(n);case"cbWallet_arbitrary":return this._cbwallet_arbitrary(n);case"wallet_addEthereumChain":return this._wallet_addEthereumChain(n);case"wallet_switchEthereumChain":return this._wallet_switchEthereumChain(n);case"wallet_watchAsset":return this._wallet_watchAsset(n)}return(await this.initializeRelay()).makeEthereumJSONRPCRequest(t,this.jsonRpcUrl).catch(s=>{var a;throw(s.code===ye.standardErrorCodes.rpc.methodNotFound||s.code===ye.standardErrorCodes.rpc.methodNotSupported)&&((a=this.diagnostic)===null||a===void 0||a.log(vn.EVENTS.METHOD_NOT_IMPLEMENTED,{method:t.method,sessionIdHash:this._relay?mi.Session.hash(this._relay.session.id):void 0})),s})}_handleAsynchronousFilterMethods(t){const{method:r}=t,n=t.params||[];switch(r){case"eth_newFilter":return this._eth_newFilter(n);case"eth_newBlockFilter":return this._eth_newBlockFilter();case"eth_newPendingTransactionFilter":return this._eth_newPendingTransactionFilter();case"eth_getFilterChanges":return this._eth_getFilterChanges(n);case"eth_getFilterLogs":return this._eth_getFilterLogs(n)}}_handleSubscriptionMethods(t){switch(t.method){case"eth_subscribe":case"eth_unsubscribe":return this._subscriptionManager.handleRequest(t)}}_isKnownAddress(t){try{const r=(0,fe.ensureAddressString)(t);return this._addresses.map(i=>(0,fe.ensureAddressString)(i)).includes(r)}catch{}return!1}_ensureKnownAddress(t){var r;if(!this._isKnownAddress(t))throw(r=this.diagnostic)===null||r===void 0||r.log(vn.EVENTS.UNKNOWN_ADDRESS_ENCOUNTERED),new Error("Unknown Ethereum address")}_prepareTransactionParams(t){const r=t.from?(0,fe.ensureAddressString)(t.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=t.to?(0,fe.ensureAddressString)(t.to):null,i=t.value!=null?(0,fe.ensureBN)(t.value):new H2.default(0),s=t.data?(0,fe.ensureBuffer)(t.data):Buffer.alloc(0),a=t.nonce!=null?(0,fe.ensureIntNumber)(t.nonce):null,o=t.gasPrice!=null?(0,fe.ensureBN)(t.gasPrice):null,l=t.maxFeePerGas!=null?(0,fe.ensureBN)(t.maxFeePerGas):null,g=t.maxPriorityFeePerGas!=null?(0,fe.ensureBN)(t.maxPriorityFeePerGas):null,p=t.gas!=null?(0,fe.ensureBN)(t.gas):null,v=t.chainId?(0,fe.ensureIntNumber)(t.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:a,gasPriceInWei:o,maxFeePerGas:l,maxPriorityFeePerGas:g,gasLimit:p,chainId:v}}_isAuthorized(){return this._addresses.length>0}_requireAuthorization(){if(!this._isAuthorized())throw ye.standardErrors.provider.unauthorized({})}_throwUnsupportedMethodError(){throw ye.standardErrors.provider.unsupportedMethod({})}async _signEthereumMessage(t,r,n,i){this._ensureKnownAddress(r);try{const a=await(await this.initializeRelay()).signEthereumMessage(t,r,n,i).promise;if((0,ht.isErrorResponse)(a))throw new Error(a.errorMessage);return{jsonrpc:"2.0",id:0,result:a.result}}catch(s){throw typeof s.message=="string"&&s.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied message signature"):s}}async _ethereumAddressFromSignedMessage(t,r,n){const s=await(await this.initializeRelay()).ethereumAddressFromSignedMessage(t,r,n).promise;if((0,ht.isErrorResponse)(s))throw new Error(s.errorMessage);return{jsonrpc:"2.0",id:0,result:s.result}}_eth_accounts(){return[...this._addresses]}_eth_coinbase(){return this.selectedAddress||null}_net_version(){return this.getChainId().toString(10)}_eth_chainId(){return(0,fe.hexStringFromIntNumber)(this.getChainId())}getChainId(){const t=this._storage.getItem(Il);if(!t)return(0,fe.ensureIntNumber)(this._chainIdFromOpts);const r=parseInt(t,10);return(0,fe.ensureIntNumber)(r)}async _eth_requestAccounts(){var t;if((t=this.diagnostic)===null||t===void 0||t.log(vn.EVENTS.ETH_ACCOUNTS_STATE,{method:"provider::_eth_requestAccounts",addresses_length:this._addresses.length,sessionIdHash:this._relay?mi.Session.hash(this._relay.session.id):void 0}),this._isAuthorized())return Promise.resolve({jsonrpc:"2.0",id:0,result:this._addresses});let r;try{if(r=await(await this.initializeRelay()).requestEthereumAccounts().promise,(0,ht.isErrorResponse)(r))throw new Error(r.errorMessage)}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied account authorization"):n}if(!r.result)throw new Error("accounts received is empty");return this._setAddresses(r.result),this.isCoinbaseBrowser||await this.switchEthereumChain(this.getChainId()),{jsonrpc:"2.0",id:0,result:this._addresses}}_eth_sign(t){this._requireAuthorization();const r=(0,fe.ensureAddressString)(t[0]),n=(0,fe.ensureBuffer)(t[1]);return this._signEthereumMessage(n,r,!1)}_eth_ecRecover(t){const r=(0,fe.ensureBuffer)(t[0]),n=(0,fe.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!1)}_personal_sign(t){this._requireAuthorization();const r=(0,fe.ensureBuffer)(t[0]),n=(0,fe.ensureAddressString)(t[1]);return this._signEthereumMessage(r,n,!0)}_personal_ecRecover(t){const r=(0,fe.ensureBuffer)(t[0]),n=(0,fe.ensureBuffer)(t[1]);return this._ethereumAddressFromSignedMessage(r,n,!0)}async _eth_signTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const i=await(await this.initializeRelay()).signEthereumTransaction(r).promise;if((0,ht.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_sendRawTransaction(t){const r=(0,fe.ensureBuffer)(t[0]),i=await(await this.initializeRelay()).submitEthereumTransaction(r,this.getChainId()).promise;if((0,ht.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}async _eth_sendTransaction(t){this._requireAuthorization();const r=this._prepareTransactionParams(t[0]||{});try{const i=await(await this.initializeRelay()).signAndSubmitEthereumTransaction(r).promise;if((0,ht.isErrorResponse)(i))throw new Error(i.errorMessage);return{jsonrpc:"2.0",id:0,result:i.result}}catch(n){throw typeof n.message=="string"&&n.message.match(/(denied|rejected)/i)?ye.standardErrors.provider.userRejectedRequest("User denied transaction signature"):n}}async _eth_signTypedData_v1(t){this._requireAuthorization();const r=(0,fe.ensureParsedJSONObject)(t[0]),n=(0,fe.ensureAddressString)(t[1]);this._ensureKnownAddress(n);const i=Ao.default.hashForSignTypedDataLegacy({data:r}),s=JSON.stringify(r,null,2);return this._signEthereumMessage(i,n,!1,s)}async _eth_signTypedData_v3(t){this._requireAuthorization();const r=(0,fe.ensureAddressString)(t[0]),n=(0,fe.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=Ao.default.hashForSignTypedData_v3({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _eth_signTypedData_v4(t){this._requireAuthorization();const r=(0,fe.ensureAddressString)(t[0]),n=(0,fe.ensureParsedJSONObject)(t[1]);this._ensureKnownAddress(r);const i=Ao.default.hashForSignTypedData_v4({data:n}),s=JSON.stringify(n,null,2);return this._signEthereumMessage(i,r,!1,s)}async _cbwallet_arbitrary(t){const r=t[0],n=t[1];if(typeof n!="string")throw new Error("parameter must be a string");if(typeof r!="object"||r===null)throw new Error("parameter must be an object");return{jsonrpc:"2.0",id:0,result:await this.genericRequest(r,n)}}async _wallet_addEthereumChain(t){var r,n,i,s;const a=t[0];if(((r=a.rpcUrls)===null||r===void 0?void 0:r.length)===0)return{jsonrpc:"2.0",id:0,error:{code:2,message:"please pass in at least 1 rpcUrl"}};if(!a.chainName||a.chainName.trim()==="")throw ye.standardErrors.rpc.invalidParams("chainName is a required field");if(!a.nativeCurrency)throw ye.standardErrors.rpc.invalidParams("nativeCurrency is a required field");const o=parseInt(a.chainId,16);return await this.addEthereumChain(o,(n=a.rpcUrls)!==null&&n!==void 0?n:[],(i=a.blockExplorerUrls)!==null&&i!==void 0?i:[],a.chainName,(s=a.iconUrls)!==null&&s!==void 0?s:[],a.nativeCurrency)?{jsonrpc:"2.0",id:0,result:null}:{jsonrpc:"2.0",id:0,error:{code:2,message:"unable to add ethereum chain"}}}async _wallet_switchEthereumChain(t){const r=t[0];return await this.switchEthereumChain(parseInt(r.chainId,16)),{jsonrpc:"2.0",id:0,result:null}}async _wallet_watchAsset(t){const r=Array.isArray(t)?t[0]:t;if(!r.type)throw ye.standardErrors.rpc.invalidParams("Type is required");if(r?.type!=="ERC20")throw ye.standardErrors.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!r?.options)throw ye.standardErrors.rpc.invalidParams("Options are required");if(!r?.options.address)throw ye.standardErrors.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:a,decimals:o}=r.options;return{jsonrpc:"2.0",id:0,result:await this.watchAsset(r.type,i,s,o,a,n)}}_eth_uninstallFilter(t){const r=(0,fe.ensureHexString)(t[0]);return this._filterPolyfill.uninstallFilter(r)}async _eth_newFilter(t){const r=t[0];return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newFilter(r)}}async _eth_newBlockFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newBlockFilter()}}async _eth_newPendingTransactionFilter(){return{jsonrpc:"2.0",id:0,result:await this._filterPolyfill.newPendingTransactionFilter()}}_eth_getFilterChanges(t){const r=(0,fe.ensureHexString)(t[0]);return this._filterPolyfill.getFilterChanges(r)}_eth_getFilterLogs(t){const r=(0,fe.ensureHexString)(t[0]);return this._filterPolyfill.getFilterLogs(r)}initializeRelay(){return this._relay?Promise.resolve(this._relay):this._relayProvider().then(t=>(t.setAccountsCallback((r,n)=>this._setAddresses(r,n)),t.setChainCallback((r,n)=>{this.updateProviderInfo(n,parseInt(r,10))}),t.setDappDefaultChainCallback(this._chainIdFromOpts),this._relay=t,t))}}Zr.CoinbaseWalletProvider=G2;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});Ss.RelayEventManager=void 0;const J2=X;class Z2{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const t=this._nextRequestId,r=(0,J2.prepend0x)(t.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),t}}Ss.RelayEventManager=Z2;Object.defineProperty(_n,"__esModule",{value:!0});_n.CoinbaseWalletSDK=void 0;const K2=Bi,Y2=Ni,xl=X,Q2=Di,X2=Zr,e_=kn,t_=qn,r_=Ss,n_=Un,i_=Tn,jh=an;class Rs{constructor(t){var r,n,i;this._appName="",this._appLogoUrl=null,this._relay=null,this._relayEventManager=null;const s=t.linkAPIUrl||Y2.LINK_API_URL;typeof t.overrideIsMetaMask>"u"?this._overrideIsMetaMask=!1:this._overrideIsMetaMask=t.overrideIsMetaMask,this._overrideIsCoinbaseWallet=(r=t.overrideIsCoinbaseWallet)!==null&&r!==void 0?r:!0,this._overrideIsCoinbaseBrowser=(n=t.overrideIsCoinbaseBrowser)!==null&&n!==void 0?n:!1,this._diagnosticLogger=t.diagnosticLogger,this._reloadOnDisconnect=(i=t.reloadOnDisconnect)!==null&&i!==void 0?i:!0;const a=new URL(s),o=`${a.protocol}//${a.host}`;if(this._storage=new Q2.ScopedLocalStorage(`-walletlink:${o}`),this._storage.setItem("version",Rs.VERSION),this.walletExtension||this.coinbaseBrowser)return;this._relayEventManager=new r_.RelayEventManager;const l=(0,xl.isMobileWeb)(),g=t.uiConstructor||(v=>l?new t_.MobileRelayUI(v):new n_.WalletLinkRelayUI(v)),p={linkAPIUrl:s,version:jh.LIB_VERSION,darkMode:!!t.darkMode,headlessMode:!!t.headlessMode,uiConstructor:g,storage:this._storage,relayEventManager:this._relayEventManager,diagnosticLogger:this._diagnosticLogger,reloadOnDisconnect:this._reloadOnDisconnect,enableMobileWalletLink:t.enableMobileWalletLink};this._relay=l?new e_.MobileRelay(p):new i_.WalletLinkRelay(p),this.setAppInfo(t.appName,t.appLogoUrl),!t.headlessMode&&this._relay.attachUI()}makeWeb3Provider(t="",r=1){const n=this.walletExtension;if(n)return this.isCipherProvider(n)||n.setProviderInfo(t,r),this._reloadOnDisconnect===!1&&typeof n.disableReloadOnDisconnect=="function"&&n.disableReloadOnDisconnect(),n;const i=this.coinbaseBrowser;if(i)return i;const s=this._relay;if(!s||!this._relayEventManager||!this._storage)throw new Error("Relay not initialized, should never happen");return t||s.setConnectDisabled(!0),new X2.CoinbaseWalletProvider({relayProvider:()=>Promise.resolve(s),relayEventManager:this._relayEventManager,storage:this._storage,jsonRpcUrl:t,chainId:r,qrUrl:this.getQrUrl(),diagnosticLogger:this._diagnosticLogger,overrideIsMetaMask:this._overrideIsMetaMask,overrideIsCoinbaseWallet:this._overrideIsCoinbaseWallet,overrideIsCoinbaseBrowser:this._overrideIsCoinbaseBrowser})}setAppInfo(t,r){var n;this._appName=t||"DApp",this._appLogoUrl=r||(0,xl.getFavicon)();const i=this.walletExtension;i?this.isCipherProvider(i)||i.setAppInfo(this._appName,this._appLogoUrl):(n=this._relay)===null||n===void 0||n.setAppInfo(this._appName,this._appLogoUrl)}disconnect(){var t;const r=this===null||this===void 0?void 0:this.walletExtension;r?r.close():(t=this._relay)===null||t===void 0||t.resetAndReload()}getQrUrl(){var t,r;return(r=(t=this._relay)===null||t===void 0?void 0:t.getQRCodeUrl())!==null&&r!==void 0?r:null}getCoinbaseWalletLogo(t,r=240){return(0,K2.walletLogo)(t,r)}get walletExtension(){var t;return(t=window.coinbaseWalletExtension)!==null&&t!==void 0?t:window.walletLinkExtension}get coinbaseBrowser(){var t,r;try{const n=(t=window.ethereum)!==null&&t!==void 0?t:(r=window.top)===null||r===void 0?void 0:r.ethereum;return n&&"isCoinbaseBrowser"in n&&n.isCoinbaseBrowser?n:void 0}catch{return}}isCipherProvider(t){return typeof t.isCipher=="boolean"&&t.isCipher}}_n.CoinbaseWalletSDK=Rs;Rs.VERSION=jh.LIB_VERSION;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CoinbaseWalletProvider=e.CoinbaseWalletSDK=void 0;const t=_n,r=Zr;var n=_n;Object.defineProperty(e,"CoinbaseWalletSDK",{enumerable:!0,get:function(){return n.CoinbaseWalletSDK}});var i=Zr;Object.defineProperty(e,"CoinbaseWalletProvider",{enumerable:!0,get:function(){return i.CoinbaseWalletProvider}}),e.default=t.CoinbaseWalletSDK,typeof window<"u"&&(window.CoinbaseWalletSDK=t.CoinbaseWalletSDK,window.CoinbaseWalletProvider=r.CoinbaseWalletProvider,window.WalletLink=t.CoinbaseWalletSDK,window.WalletLinkProvider=r.CoinbaseWalletProvider)})(Jo);const s_=Uh(Jo),__=qh({__proto__:null,default:s_},[Jo]);export{__ as i};
