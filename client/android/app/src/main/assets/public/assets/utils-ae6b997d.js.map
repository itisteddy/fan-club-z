{"version":3,"file":"utils-ae6b997d.js","sources":["../../src/lib/utils.ts"],"sourcesContent":["import { type ClassValue, clsx } from 'clsx';\nimport { twMerge } from 'tailwind-merge';\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}\n\nexport const formatCurrency = (amount: number, currency: string = 'USD'): string => {\n  const formatters: Record<string, Intl.NumberFormat> = {\n    NGN: new Intl.NumberFormat('en-NG', {\n      style: 'currency',\n      currency: 'NGN',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 2,\n    }),\n    USD: new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 0,\n      maximumFractionDigits: 2,\n    }),\n    USDT: new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 6,\n    }),\n    ETH: new Intl.NumberFormat('en-US', {\n      minimumFractionDigits: 4,\n      maximumFractionDigits: 8,\n    }),\n  };\n\n  const formatter: Intl.NumberFormat = formatters[currency] ?? formatters.USD ?? new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' });\n  \n  if (currency === 'USDT') {\n    return `${formatter.format(amount)} USDT`;\n  }\n  \n  if (currency === 'ETH') {\n    return `${formatter.format(amount)} ETH`;\n  }\n  \n  return formatter.format(amount);\n};\n\nexport const formatTimeRemaining = (dateString: string): string => {\n  const target = new Date(dateString).getTime();\n  const now = Date.now();\n  const diffMs = target - now;\n\n  if (!Number.isFinite(diffMs)) return '';\n  if (diffMs <= 0) return 'Ended';\n\n  const diffSeconds = Math.floor(diffMs / 1000);\n\n  const units = [\n    { label: 'y', seconds: 60 * 60 * 24 * 365 },\n    { label: 'mo', seconds: 60 * 60 * 24 * 30 },\n    { label: 'd', seconds: 60 * 60 * 24 },\n    { label: 'h', seconds: 60 * 60 },\n    { label: 'm', seconds: 60 },\n    { label: 's', seconds: 1 }\n  ];\n\n  const parts: string[] = [];\n  let remaining = diffSeconds;\n\n  for (const unit of units) {\n    if (remaining <= 0) break;\n    const value = Math.floor(remaining / unit.seconds);\n    if (value > 0) {\n      parts.push(`${value}${unit.label}`);\n      remaining -= value * unit.seconds;\n    }\n    if (parts.length === 2) break; // keep it concise\n  }\n\n  if (parts.length === 0) {\n    return '0s';\n  }\n\n  return parts.join(' ');\n};\n\nexport const formatDate = (dateString: string): string => {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n\n  if (diffMins < 1) return 'Just now';\n  if (diffMins < 60) return `${diffMins}m ago`;\n  if (diffHours < 24) return `${diffHours}h ago`;\n  if (diffDays < 7) return `${diffDays}d ago`;\n  \n  return date.toLocaleDateString();\n};\n\nexport const formatTimeAgo = (dateString: string): string => {\n  const date = new Date(dateString);\n  const now = new Date();\n  const diffMs = now.getTime() - date.getTime();\n  const diffSecs = Math.floor(diffMs / 1000);\n  const diffMins = Math.floor(diffMs / 60000);\n  const diffHours = Math.floor(diffMs / 3600000);\n  const diffDays = Math.floor(diffMs / 86400000);\n  const diffWeeks = Math.floor(diffDays / 7);\n  const diffMonths = Math.floor(diffDays / 30);\n  const diffYears = Math.floor(diffDays / 365);\n\n  if (diffSecs < 30) return 'now';\n  if (diffMins < 1) return `${diffSecs}s`;\n  if (diffMins < 60) return `${diffMins}m`;\n  if (diffHours < 24) return `${diffHours}h`;\n  if (diffDays < 7) return `${diffDays}d`;\n  if (diffWeeks < 4) return `${diffWeeks}w`;\n  if (diffMonths < 12) return `${diffMonths}mo`;\n  \n  return `${diffYears}y`;\n};\n\nexport const calculateOdds = (totalPool: number, optionStaked: number): number => {\n  if (optionStaked === 0) return 1;\n  return Math.max(1, totalPool / optionStaked);\n};\n\nexport const calculatePotentialPayout = (stake: number, odds: number): number => {\n  return stake * odds;\n};\n\nexport const truncateText = (text: string, maxLength: number = 100): string => {\n  if (text.length <= maxLength) return text;\n  return `${text.substring(0, maxLength)}...`;\n};\n\nexport const generateInitials = (name?: string): string => {\n  if (!name) return 'U';\n  return name\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase())\n    .slice(0, 2)\n    .join('');\n};\n\nexport const getAvatarUrl = (user: { avatar_url?: string; username?: string; full_name?: string }): string => {\n  if (user.avatar_url) return user.avatar_url;\n  \n  const initials = generateInitials(user.full_name || user.username);\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=00D084&color=fff&size=128`;\n};\n"],"names":["cn","inputs","twMerge","clsx","formatTimeRemaining","dateString","target","now","diffMs","diffSeconds","units","parts","remaining","unit","value"],"mappings":"0CAGO,SAASA,KAAMC,EAAsB,CACnC,OAAAC,EAAQC,EAAKF,CAAM,CAAC,CAC7B,CAyCa,MAAAG,EAAuBC,GAA+B,CACjE,MAAMC,EAAS,IAAI,KAAKD,CAAU,EAAE,QAAQ,EACtCE,EAAM,KAAK,MACXC,EAASF,EAASC,EAEpB,GAAA,CAAC,OAAO,SAASC,CAAM,EAAU,MAAA,GACrC,GAAIA,GAAU,EAAU,MAAA,QAExB,MAAMC,EAAc,KAAK,MAAMD,EAAS,GAAI,EAEtCE,EAAQ,CACZ,CAAE,MAAO,IAAK,QAAS,GAAK,GAAK,GAAK,GAAI,EAC1C,CAAE,MAAO,KAAM,QAAS,GAAK,GAAK,GAAK,EAAG,EAC1C,CAAE,MAAO,IAAK,QAAS,GAAK,GAAK,EAAG,EACpC,CAAE,MAAO,IAAK,QAAS,GAAK,EAAG,EAC/B,CAAE,MAAO,IAAK,QAAS,EAAG,EAC1B,CAAE,MAAO,IAAK,QAAS,CAAE,CAAA,EAGrBC,EAAkB,CAAA,EACxB,IAAIC,EAAYH,EAEhB,UAAWI,KAAQH,EAAO,CACxB,GAAIE,GAAa,EAAG,MACpB,MAAME,EAAQ,KAAK,MAAMF,EAAYC,EAAK,OAAO,EAKjD,GAJIC,EAAQ,IACVH,EAAM,KAAK,GAAGG,CAAK,GAAGD,EAAK,KAAK,EAAE,EAClCD,GAAaE,EAAQD,EAAK,SAExBF,EAAM,SAAW,EAAG,KAC1B,CAEI,OAAAA,EAAM,SAAW,EACZ,KAGFA,EAAM,KAAK,GAAG,CACvB"}