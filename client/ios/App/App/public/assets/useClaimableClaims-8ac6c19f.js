import{u as l}from"./utils-617af415.js";import{l as m}from"./index-78beacc5.js";function f(t,r=20){return l({queryKey:["wallet","claimable",(t||"").toLowerCase(),r],enabled:!!t,queryFn:async()=>{const i=new URLSearchParams({address:String(t),limit:String(r)}),a=await fetch(`${m()}/api/v2/settlement/claimable?${i.toString()}`,{headers:{Accept:"application/json"},credentials:"include"});if(!a.ok){const e=await a.json().catch(()=>({}));throw new Error(e?.message||"Failed to load claimable items")}const c=(await a.json())?.data?.claims??[],o=new Map;for(const e of c)o.has(e.predictionId)||o.set(e.predictionId,e);const n=Array.from(o.values());try{const e=(t||"").toLowerCase();return n.filter(s=>!localStorage.getItem(`fcz:claimed:${s.predictionId}:${e}`))}catch{return n}},staleTime:15e3,refetchInterval:3e4})}export{f as u};
