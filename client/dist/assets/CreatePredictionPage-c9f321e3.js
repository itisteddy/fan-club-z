import{j as e,m as c,A as re}from"./ui-78f6af00.js";import{r as n}from"./vendor-2237fdcd.js";import{u as se}from"./predictionStore-b57c3d4f.js";import{c as le}from"./utils-718748af.js";import{s as p,c as ie,p as ne,u as oe,b as ce,m as O,z as A,q as de,h as B,X as me,P as ue,C as xe}from"./index-ed10b69d.js";import{A as he}from"./arrow-left-12a90acd.js";import{C as G}from"./check-5827933d.js";import{D as pe}from"./dollar-sign-7966139d.js";import{U as be}from"./users-c41e2c9e.js";import"./index-0f9ae2a6.js";const ge=le((r,i)=>({approvedSources:[],settlementConfigs:{},settlements:{},playerAcceptances:{},disputes:{},auditTimeline:{},loading:!1,error:null,selectedSource:null,settlementModalOpen:!1,disputeModalOpen:!1,fetchApprovedSources:async s=>{r({loading:!0,error:null});try{let a=p.from("approved_sources").select("*").eq("status","approved").order("name");s&&(a=a.eq("category",s));const{data:l,error:o}=await a;if(o)throw o;r({approvedSources:l||[]})}catch(a){console.error("Error fetching approved sources:",a),r({error:"Failed to fetch approved sources"})}finally{r({loading:!1})}},createSettlementConfig:async(s,a)=>{r({loading:!0,error:null});try{const{data:l,error:o}=await p.from("settlement_configs").insert({prediction_id:s,method:a.method||"manual",primary_source_id:a.primary_source_id,backup_source_id:a.backup_source_id,rule_text:a.rule_text||"",timezone:a.timezone||"Africa/Lagos",contingencies:a.contingencies||{},risk_flags:a.risk_flags||[],badges:a.badges||[]}).select().single();if(o)throw o;r(x=>({settlementConfigs:{...x.settlementConfigs,[s]:l}}))}catch(l){console.error("Error creating settlement config:",l),r({error:"Failed to create settlement configuration"})}finally{r({loading:!1})}},fetchSettlement:async s=>{r({loading:!0,error:null});try{const{data:a,error:l}=await p.from("settlements").select("*").eq("prediction_id",s).single();if(l&&l.code!=="PGRST116")throw l;a&&r(o=>({settlements:{...o.settlements,[s]:a}}))}catch(a){console.error("Error fetching settlement:",a),r({error:"Failed to fetch settlement data"})}finally{r({loading:!1})}},updateSettlementState:async(s,a,l,o)=>{r({loading:!0,error:null});try{const{data:x,error:N}=await p.rpc("update_settlement_state",{prediction_uuid:s,new_state:a,outcome_val:l,proof_data:o||{}});if(N)throw N;await i().fetchSettlement(s)}catch(x){console.error("Error updating settlement state:",x),r({error:"Failed to update settlement state"})}finally{r({loading:!1})}},acceptOutcome:async s=>{r({loading:!0,error:null});try{const{data:{user:a}}=await p.auth.getUser();if(!a)throw new Error("User not authenticated");const{error:l}=await p.rpc("record_player_acceptance",{prediction_uuid:s,user_uuid:a.id,action_val:"accepted"});if(l)throw l;await i().fetchPlayerAcceptances(s)}catch(a){console.error("Error accepting outcome:",a),r({error:"Failed to accept outcome"})}finally{r({loading:!1})}},createDispute:async(s,a,l)=>{r({loading:!0,error:null});try{const{data:{user:o}}=await p.auth.getUser();if(!o)throw new Error("User not authenticated");const{error:x}=await p.rpc("create_dispute",{prediction_uuid:s,user_uuid:o.id,reason_val:a,evidence_data:l||[]});if(x)throw x;await i().fetchDisputes(s)}catch(o){console.error("Error creating dispute:",o),r({error:"Failed to create dispute"})}finally{r({loading:!1})}},fetchPlayerAcceptances:async s=>{try{const{data:a,error:l}=await p.from("player_acceptances").select("*").eq("prediction_id",s).order("timestamp",{ascending:!1});if(l)throw l;r(o=>({playerAcceptances:{...o.playerAcceptances,[s]:a||[]}}))}catch(a){console.error("Error fetching player acceptances:",a)}},fetchDisputes:async s=>{try{const{data:a,error:l}=await p.from("disputes").select("*").eq("prediction_id",s).order("opened_at",{ascending:!1});if(l)throw l;r(o=>({disputes:{...o.disputes,[s]:a||[]}}))}catch(a){console.error("Error fetching disputes:",a)}},fetchAuditTimeline:async s=>{try{const{data:a,error:l}=await p.from("audit_timeline").select("*").eq("prediction_id",s).order("timestamp",{ascending:!1});if(l)throw l;r(o=>({auditTimeline:{...o.auditTimeline,[s]:a||[]}}))}catch(a){console.error("Error fetching audit timeline:",a)}},setSelectedSource:s=>r({selectedSource:s}),setSettlementModalOpen:s=>r({settlementModalOpen:s}),setDisputeModalOpen:s=>r({disputeModalOpen:s}),clearError:()=>r({error:null})})),fe=({title:r,subtitle:i,showLogo:s=!1,showBack:a=!1,onBack:l,actions:o=[],sticky:x=!0,transparent:N=!1,className:E="",children:M})=>{const T=ie(),b=ne(),$=()=>{l?l():window.history.length>1?window.history.back():T("/")},S=(m="default")=>{const u="p-2 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2";switch(m){case"primary":return`${u} bg-emerald-500 text-white hover:bg-emerald-600`;case"ghost":return`${u} text-gray-400 hover:text-gray-600 hover:bg-gray-100`;default:return`${u} text-gray-600 hover:text-gray-900 hover:bg-gray-100`}};return e.jsx(c.header,{initial:b?{}:{y:-10,opacity:0},animate:{y:0,opacity:1},className:`
        ${x?"sticky top-0 z-40":""} 
        ${N?"bg-transparent":"bg-white border-b border-gray-100"} 
        ${E}
      `,children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a&&e.jsx("button",{onClick:$,className:"p-2 -ml-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:ring-offset-2","aria-label":"Go back",children:e.jsx(he,{className:"w-6 h-6"})}),s&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-white font-bold text-lg",children:"F"})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("span",{className:"text-lg font-bold text-gray-900 truncate",children:"Fan Club Z"}),i&&e.jsx("span",{className:"text-sm text-gray-600 truncate",children:i})]})]}),!s&&(r||i)&&e.jsxs("div",{className:"flex flex-col min-w-0",children:[r&&e.jsx("h1",{className:"text-xl font-bold text-gray-900 truncate",children:r}),i&&e.jsx("p",{className:"text-sm text-gray-600 truncate",children:i})]}),M&&e.jsx("div",{className:"flex-1 min-w-0",children:M})]}),o.length>0&&e.jsx("div",{className:"flex items-center space-x-2 ml-3",children:o.map(m=>{const u=m.icon;return e.jsx("button",{onClick:m.onClick,className:S(m.variant),"aria-label":m.label,children:e.jsxs("div",{className:"relative",children:[e.jsx(u,{className:"w-5 h-5"}),m.badge&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full min-w-[18px] h-[18px] flex items-center justify-center px-1",children:typeof m.badge=="number"&&m.badge>99?"99+":m.badge})]})},m.id)})})]})})})},Oe=({onNavigateBack:r})=>{const[i,s]=n.useState(1),[a,l]=n.useState(!1),[o,x]=n.useState(!1),{createPrediction:N}=se(),{user:E,isAuthenticated:M}=oe(),[,T]=ce();n.useEffect(()=>{O({delay:200})},[]);const[b,$]=n.useState(""),[S,m]=n.useState(""),[u,D]=n.useState(""),[f,F]=n.useState("binary"),[g,k]=n.useState([{id:"1",label:"Yes"},{id:"2",label:"No"}]),[j,q]=n.useState(""),[w,H]=n.useState("1"),[P,L]=n.useState("1000"),[C,z]=n.useState("manual"),[_,R]=n.useState(!1),[W,ye]=n.useState(null),[X,je]=n.useState(null),[Z,we]=n.useState(""),[J,ve]=n.useState("Africa/Lagos"),[K,Ne]=n.useState({postponed:"auto_void",source_down:"use_backup"}),Y=[{id:"sports",label:"Sports",icon:"âš½",gradient:"from-orange-500 to-red-500"},{id:"politics",label:"Politics",icon:"ðŸ›ï¸",gradient:"from-blue-500 to-indigo-500"},{id:"entertainment",label:"Entertainment",icon:"ðŸŽ¬",gradient:"from-purple-500 to-pink-500"},{id:"crypto",label:"Crypto",icon:"â‚¿",gradient:"from-yellow-500 to-orange-500"},{id:"tech",label:"Technology",icon:"ðŸ’»",gradient:"from-purple-500 to-teal-500"},{id:"custom",label:"Custom",icon:"âš¡",gradient:"from-gray-500 to-gray-600"}],Q=[{id:"binary",label:"Yes/No",description:"Simple binary outcome prediction",icon:"ðŸŽ¯"},{id:"multiple",label:"Multiple Choice",description:"Multiple possible outcomes",icon:"ðŸŽ²"}],V=n.useCallback(()=>{const t=(g.length+1).toString();k(d=>[...d,{id:t,label:""}])},[g.length]),I=n.useCallback(t=>{k(d=>d.filter(y=>y.id!==t))},[]),ee=n.useCallback((t,d)=>{k(y=>y.map(h=>h.id===t?{...h,label:d}:h))},[]),v=n.useCallback(t=>{switch(t){case 1:return!!(b.trim()&&u);case 2:return!!(f&&g.every(d=>d.label.trim()));case 3:return!!(j&&w);case 4:return!0;default:return!0}},[b,u,f,g,j,w]),te=n.useCallback(()=>{v(i)&&i<4&&(s(i+1),O({delay:150}))},[i,v]),U=n.useCallback(()=>{i>1?(s(i-1),O({delay:150})):r&&r()},[i,r]),ae=n.useCallback(async()=>{if(!v(4)){A.error("Please fill in all required fields");return}l(!0);try{if(!b.trim())throw new Error("Title is required");if(!u)throw new Error("Category is required");if(!j)throw new Error("Entry deadline is required");const t=new Date(j);if(t<=new Date)throw new Error("Entry deadline must be in the future");if(!M||!E?.id)throw new Error("You must be logged in to create predictions");const d={title:b.trim(),description:S.trim()||void 0,category:u,type:f,options:g.filter(h=>h.label.trim()).map(h=>({id:h.id,label:h.label.trim(),totalStaked:0,currentOdds:2})),entryDeadline:t,stakeMin:Math.max(1,parseFloat(w)||100),stakeMax:P?Math.max(parseFloat(w)||100,parseFloat(P)):void 0,settlementMethod:C,isPrivate:_,creatorId:E.id};if(d.options.length<2)throw new Error("At least 2 prediction options are required");console.log("Creating prediction with data:",d);const y=await N(d);if(console.log("Prediction created successfully!",y),C==="auto"&&y)try{const{createSettlementConfig:h}=ge.getState();await h(y.id,{method:"web",primary_source_id:W?.id,backup_source_id:X?.id,rule_text:Z||`Check if ${b} by ${j}`,timezone:J,contingencies:K}),console.log("Settlement configuration created successfully!")}catch(h){console.error("Failed to create settlement configuration:",h)}A.success("ðŸŽ‰ Prediction created successfully!"),x(!0),setTimeout(()=>{s(1),$(""),m(""),D(""),F("binary"),k([{id:"1",label:"Yes"},{id:"2",label:"No"}]),q(""),H("100"),L("10000"),z("manual"),R(!1),x(!1),l(!1),r&&(r(),setTimeout(()=>{T("/predictions")},100))},2e3)}catch(t){console.error("Failed to create prediction:",t);const d=t instanceof Error?t.message:"Failed to create prediction. Please try again.";A.error(d),l(!1)}},[v,b,u,j,S,f,g,w,P,C,_,N,r,T]);return o?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-teal-100 flex items-center justify-center px-6",children:e.jsxs(c.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-3xl p-8 text-center shadow-2xl border border-teal-200",children:[e.jsx(c.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200,damping:10},className:"w-16 h-16 bg-teal-500 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(G,{size:32,className:"text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Prediction Created!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your prediction has been successfully created and is now live."}),e.jsx("div",{className:"text-sm text-teal-600 font-medium",children:"Redirecting to My Predictions..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 pb-20 create-prediction-page",children:[e.jsx(fe,{title:"Create Prediction",subtitle:`Step ${i} of 4`,showLogo:!1,showBack:!0,onBack:U,className:"bg-gradient-to-r from-emerald-500 to-teal-600 text-white border-b-0"}),e.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-600 px-4 pb-4",children:e.jsx("div",{className:"bg-white/20 rounded-full h-2",children:e.jsx(c.div,{initial:{width:0},animate:{width:`${i/4*100}%`},transition:{duration:.5},className:"h-full bg-white rounded-full"})})}),e.jsx("div",{className:"px-6 -mt-4 pb-8 relative z-20",children:e.jsxs(c.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white/90 backdrop-blur-xl rounded-3xl border border-gray-200/50 shadow-2xl p-6",children:[e.jsxs(re,{mode:"wait",initial:!1,children:[i===1&&e.jsxs(c.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-teal-600 rounded-2xl flex items-center justify-center",children:e.jsx(de,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Basic Information"}),e.jsx("p",{className:"text-gray-600",children:"Tell us about your prediction"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Prediction Title *"}),e.jsx("input",{type:"text",value:b,onChange:t=>$(t.target.value),placeholder:"Will Bitcoin reach $100,000 by end of 2024?",className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder-gray-500"})]}),e.jsxs("div",{className:"textarea-container",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Description (Optional)"}),e.jsx("textarea",{value:S,onChange:t=>m(t.target.value),placeholder:"Provide additional context and rules for your prediction...",rows:4,className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none transition-all duration-200 text-gray-900 placeholder-gray-500 resize-none"})]}),e.jsxs("div",{className:"form-section",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Category *"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:Y.map(t=>e.jsxs(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(t.id),className:`motion-button pill-category px-4 py-2.5 rounded-full text-sm font-semibold transition-all flex items-center gap-2 min-h-[40px] ${u===t.id?`bg-gradient-to-r ${t.gradient} text-white shadow-lg`:"bg-gray-100 text-gray-700 hover:bg-gray-200 border border-gray-200"}`,children:[e.jsx("span",{className:"text-base",children:t.icon}),e.jsx("span",{children:t.label})]},t.id))})]})]})]},"step1"),i===2&&e.jsxs(c.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center",children:e.jsx(B,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Prediction Setup"}),e.jsx("p",{className:"text-gray-600",children:"Configure your prediction options"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Prediction Type *"}),e.jsx("div",{className:"space-y-3",children:Q.map(t=>e.jsx(c.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>{F(t.id),t.id==="binary"?k([{id:"1",label:"Yes"},{id:"2",label:"No"}]):t.id==="multiple"&&k([{id:"1",label:""},{id:"2",label:""},{id:"3",label:""}])},className:`motion-button w-full p-4 rounded-2xl border-2 text-left transition-all duration-200 ${f===t.id?"border-blue-500 bg-blue-50":"border-gray-200 bg-white hover:border-blue-300"}`,children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:t.label}),e.jsx("p",{className:"text-sm text-gray-600",children:t.description})]})]})},t.id))})]}),(f==="binary"||f==="multiple")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Prediction Options *"}),e.jsxs("div",{className:"space-y-3",children:[g.map((t,d)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"input-container flex-1",children:e.jsx("input",{type:"text",value:t.label,onChange:y=>ee(t.id,y.target.value),placeholder:`Option ${d+1}`,className:"w-full p-3 border-2 border-gray-200 rounded-xl focus:border-blue-500 focus:outline-none transition-all duration-200"})}),f==="multiple"&&g.length>2&&e.jsx(c.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>I(t.id),className:"motion-button w-10 h-10 bg-red-100 text-red-600 rounded-xl flex items-center justify-center hover:bg-red-200 transition-colors",children:e.jsx(me,{size:18})})]},t.id)),f==="multiple"&&g.length<6&&e.jsxs(c.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:V,className:"motion-button w-full p-3 border-2 border-dashed border-gray-300 rounded-xl text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-all duration-200 flex items-center justify-center gap-2",children:[e.jsx(ue,{size:18}),e.jsx("span",{children:"Add Option"})]})]})]})]})]},"step2"),i===3&&e.jsxs(c.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(pe,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Settings & Launch"}),e.jsx("p",{className:"text-gray-600",children:"Final configuration details"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Entry Deadline *"}),e.jsx("input",{type:"datetime-local",value:j,onChange:t=>q(t.target.value),min:new Date().toISOString().slice(0,16),className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none transition-all duration-200"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"input-container",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Minimum Stake ($)"}),e.jsx("input",{type:"number",value:w,onChange:t=>H(t.target.value),placeholder:"100",min:"1",className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none transition-all duration-200"})]}),e.jsxs("div",{className:"input-container",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Maximum Stake ($)"}),e.jsx("input",{type:"number",value:P,onChange:t=>L(t.target.value),placeholder:"100000",min:w||"1",className:"w-full p-4 border-2 border-gray-200 rounded-2xl focus:border-teal-500 focus:outline-none transition-all duration-200"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Settlement Method"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(c.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>z("manual"),className:`w-full p-4 rounded-2xl border-2 text-left transition-all duration-200 ${C==="manual"?"border-teal-500 bg-teal-50":"border-gray-200 bg-white hover:border-teal-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx(be,{size:16,className:"text-teal-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Manual Settlement"}),e.jsx("p",{className:"text-sm text-gray-600",children:"You resolve the prediction manually"})]})]})}),e.jsx(c.button,{whileHover:{scale:1.01},whileTap:{scale:.99},onClick:()=>z("auto"),className:`w-full p-4 rounded-2xl border-2 text-left transition-all duration-200 ${C==="auto"?"border-teal-500 bg-teal-50":"border-gray-200 bg-white hover:border-teal-300"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx(B,{size:16,className:"text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Automatic Settlement"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Resolved automatically when possible"})]})]})})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Private Prediction"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Only people with link can participate"})]}),e.jsx(c.button,{whileTap:{scale:.95},onClick:()=>R(!_),className:`relative w-12 h-6 rounded-full transition-all duration-200 ${_?"bg-teal-500":"bg-gray-300"}`,children:e.jsx(c.div,{animate:{x:_?24:2},transition:{type:"spring",stiffness:500,damping:30},className:"absolute top-1 w-4 h-4 bg-white rounded-full shadow"})})]})})]})]},"step3"),i===4&&e.jsxs(c.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-2xl flex items-center justify-center",children:e.jsx(G,{size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Preview & Confirm"}),e.jsx("p",{className:"text-gray-600",children:"Review your prediction before publishing"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-2xl border border-gray-200 p-6 shadow-sm",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Prediction Preview"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Title"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900",children:b})]}),S&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Description"}),e.jsx("p",{className:"text-gray-700",children:S})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Category"}),e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",children:Y.find(t=>t.id===u)?.label||u})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-2",children:"Options"}),e.jsx("div",{className:"space-y-2",children:g.map((t,d)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Option ",d+1,":"]}),e.jsx("span",{className:"font-semibold text-gray-900",children:t.label})]},t.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Stake Limits"}),e.jsxs("p",{className:"text-gray-900",children:["$",w," - $",P]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Deadline"}),e.jsx("p",{className:"text-gray-900",children:new Date(j).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Settlement"}),e.jsx("p",{className:"text-gray-900 capitalize",children:C})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Privacy"}),e.jsx("p",{className:"text-gray-900",children:_?"Private":"Public"})]})]})]}),e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-2xl p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xe,{size:20,className:"text-teal-600"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-teal-800",children:"Ready to Publish"}),e.jsx("p",{className:"text-sm text-teal-700",children:'Your prediction looks good! Click "Create Prediction" to publish it.'})]})]})})]})]},"step4")]}),e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-gray-200",children:[e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:U,className:"px-6 py-3 bg-gray-100 text-gray-700 font-semibold rounded-xl hover:bg-gray-200 transition-all duration-200",children:i===1?"Cancel":"Back"}),i<4?e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:te,disabled:!v(i),className:`px-8 py-3 font-semibold rounded-xl shadow-lg transition-all duration-200 ${v(i)?"bg-gradient-to-r from-purple-500 to-teal-600 text-white shadow-purple-500/25 hover:shadow-xl hover:shadow-purple-500/30":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:i===3?"Preview":"Continue"}):e.jsx(c.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ae,disabled:!v(4)||a,className:`px-8 py-3 font-semibold rounded-xl shadow-lg transition-all duration-200 flex items-center gap-2 ${v(4)&&!a?"bg-gradient-to-r from-purple-500 to-teal-600 text-white shadow-purple-500/25 hover:shadow-xl hover:shadow-purple-500/30":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:a?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Creating..."]}):"Create Prediction"})]})]})})]})};export{Oe as default};
