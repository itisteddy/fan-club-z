# Fan Club Z v 1.1

## Project Description
Our Vision:
Fan Club Z aims to revolutionize the betting industry by creating an open and decentralized platform where individuals can create, manage, and promote their own betting games and scenarios. By democratizing bet creation, Fan Club Z empowers users to act as their own "house," fostering innovation, community engagement, and a dynamic wagering experience. Our platform will ensure transparency, security, and ease of use, making betting more accessible and diverse than ever before.

Values:

Empowerment - Give users full control over bet creation and management.
Transparency - Utilize blockchain or secure smart contracts for trust and fairness.
Community-driven - Foster a collaborative ecosystem where users engage with one another, contribute to and benefit from the platform.
Security & Compliance - Ensure security measures and regulatory adherence.

Methods:

Develop a platform with a great user experience for creating and managing betting scenarios for individuals.
Offer customizable betting rules and mechanics to cater to different types of wagers.
Create a live feed where users can promote, discover and participate in bets.
Implement a secure and transparent transaction system using blockchain or other verifiable methods.
Enable social features to promote engagement for user-generated bets.
Build a reputation and trust system that rewards well-managed bets.
Leverage AI and analytics to detect fraud, manage risk, and provide insights.

Obstacles:

Establishing a sustainable business model that incentivizes both creators and participants while creating value for the platform.
Navigating complex betting regulations.
Building trust among users in a decentralized betting environment.
Overcoming adoption challenges in an industry dominated by traditional betting platforms.
Ensuring fair play and mitigating fraudulent activities.
Managing financial transactions securely while avoiding illicit activities.

Measures:

Launch a beta version with an initial user base of 10,000 active participants within the first year of launch.
Facilitate #10M in betting volume within the first year of launch.
Ensure a fraud detection and dispute resolution system with a 90% success rate. This will require proper planning from a compliance perspective.
Maintain an average user rating of 4.0+ for quality and platform experience.
Grow partnerships with at least 50 game creators or influencers in the first year.
Attain a 30% month-over-month growth in active users within the first six months.

In today's digital world, fans and content creators engage with sports, pop culture, and trending moments in real-time. However, their participation is mostly passive—liking, commenting, and sharing opinions—without tangible rewards or deeper community involvement.

Fans crave competition and validation—they want to prove they know more than their peers about their favorite topics.
Influencers and content creators drive conversations, yet their audiences can only react, not actively participate in meaningful ways.
Betting platforms are rigid and traditional, focused on fixed odds and sports rather than the organic, ever-changing nature of internet culture.
Celebrity drama, sports rivalries, and viral moments fuel engagement, but fans lack a direct way to capitalize on their insights and predictions.

Our Solution: Fan Club Z
Fan Club Z is a social engagement platform where users create and participate in personalized challenges, predictions, and wagers—centered around sports, pop culture, and viral events.

It is not just betting—it is a new way to play, connect, and earn around the events people care about most.

What Makes Fan Club Z Unique
User-Created Bets – Anyone can launch a bet on anything: sports, music, memes, or live events.
Community-Driven – Chat, leaderboards, fan clubs, and viral bet sharing make participation engaging.
Monetization for Creators – Influencers can host betting events, monetize engagement, and grow their audience.
Gamified Experience – XP, badges, streaks, and rewards ensure engagement is fun beyond just betting.
Web3-Enabled – Smart contracts ensure fairness, transparency, and optional crypto transactions.

Our Vision
Fan Club Z is building the future of fan-powered entertainment—where betting, discussion, streaming, and community all merge into one dynamic ecosystem.

Think of it as a combination of Fantasy League meets TikTok meets Robinhood—designed for fans, by fans..

Jobs to be done

For both bet creators and bettors, their experience on Fan Club Z revolves around discovering, engaging with, and profiting from betting. We can break this high level job into more specific jobs for those 2 user groups:

Bet Creator’s Perspective

When I create a bet, I want to easily set up the scenario and outcomes, so I can offer unique wagers for participants and bettors.

When I create/manage a bet, I want to ensure transparency, so I can build credibility and attract more bettors to my games. 

Bettor’s Perspective

When I place a bet, I want to clearly understand the scenario, outcome and potential payouts, so I can make informed decisions and minimize my risks.

When I participate in a bet, I want to place my bet securely and seamlessly, so I can trust that my money is safe and my bet is valid.

When I engage in multiple bets, I want to easily track my active bets and potential payouts, so I can stay informed and manage my betting activities effectively.

When I win a bet, I want to withdraw my earnings quickly and hassle-free, so I can enjoy my winnings.

Problem:
We believe that people need a flexible and decentralized way to create and participate in bets outside traditional betting platforms.
Traditional betting platforms limit users to curated, pre-defined bets and odds, restricting creativity and control.
People (betters) lack the tools to easily create, manage and monetize betting scenarios.
Solution:
We believe that there is an opportunity to create a decentralized, user-driven betting platform that allows individuals to create, manage, and promote their own bets while ensuring trust, transparency, and seamless payouts.
The platform will enable bet creators to be their own "house," setting their own custom rules and managing bets.
Smart contract escrow and secure payment integrations will ensure fair play and trust.
Social and viral mechanisms (influencer bets, community-driven betting feed) will enhance engagement.
Hypothesis:
Hypothesis 1: Bet creators will be willing to pay a fee or commission for premium tools that help them create, manage, and promote their betting games.
Hypothesis 2: Betters will trust and engage more with bets that have transparent rules, blockchain-backed escrow protection, and instant payout options, reducing skepticism about fraud or delayed withdrawals.
Hypothesis 3: Social and influencer-driven betting models (e.g., influencer-hosted bets, meme bets, community betting pools) will drive higher engagement and user retention compared to traditional betting platforms with curated bets.
Early Adopter Hypothesis:
Crypto enthusiasts and experienced sports betters will adopt Fan Club Z first because they already engage in decentralized finance (DeFi), prefer trustless smart contract (blockchain) settlements, and are looking for new and engaging betting experiences beyond traditional casinos and sportsbooks.


Product Requirement Document (PRD) - Fan Club Z MVP
Version: 1.0
Product Manager: Efe Ono
Status: Draft

Overview

Fan Club Z aims to revolutionize the betting industry by creating an open and decentralized platform where individuals can create, manage, and promote their own betting games and scenarios. By democratizing bet creation, Fan Club Z empowers users to act as their own "house," fostering innovation, community engagement, and a dynamic wagering experience. Our platform will ensure transparency, security, and ease of use, making betting more accessible and diverse than ever before.

Jobs to be done

For both bet creators and bettors, their experience on Fan Club Z revolves around discovering, engaging with, and profiting from betting. We can break this high level job into more specific jobs for those 2 user groups:

Bet Creator’s Perspective
When I create a bet, I want to easily set up the scenario and outcomes, so I can offer unique wagers for participants and bettors.
When I create/manage a bet, I want to ensure transparency, so I can build credibility and attract more bettors to my games. 

Bettor’s Perspective
When I place a bet, I want to clearly understand the scenario, outcome and potential payouts, so I can make informed decisions and minimize my risks.
When I participate in a bet, I want to place my bet securely and seamlessly, so I can trust that my money is safe and my bet is valid.
When I engage in multiple bets, I want to easily track my active bets and potential payouts, so I can stay informed and manage my betting activities effectively.
When I win a bet, I want to withdraw my earnings quickly and hassle-free, so I can enjoy my winnings.

Goals & Success Metrics
The primary goal of the MVP is to enable bet creators to create and manage their own bets, and also allow individual betters/participants to discover and join bets with ease. Secondary goals include:
Ensuring transparent and secure fund management via escrow.
Supporting both traditional and crypto payment methods.

The success metrics we will be tracking are:
User Activation Rate – % of new users who place a bet within the first 7 days.
Bet Completion Rate – % of created bets that receive at least one participant.
Transaction Volume – Total wagered amount per month (fiat + crypto).
User Retention – % of active users returning within 30 days.

Features requirements (Phase i)
FR1: User Registration: Set up wallet and email signup with OTP verification. 
[Optional - phase 2] 
Integration with a third-party KYC service for basic identity verification (Name, Date of Birth, Government ID Upload).
Tiered Access: Small bets don’t require full KYC, but high-stake bets do.

FR2: Bet Creation & Customization: Allows users to set up their own betting scenarios with varying categories, such as individual sports, social events ( e.g., election outcomes, reality show winners, celebrity events), custom scenarios (e.g., “Will it rain in Lagos tomorrow?”). The bet creator should be able to define the following parameters:
Bet title & description (e.g., “Will Manchester United win against Chelsea?”).
Bet Type (Binary Yes/No, multi-outcome, pool-based etc).
Stake limits, entry minimum and fees.
Deadlines.

FR3: Betting Discovery: Allows users to browse a feed and discover ongoing bets easily. The user should be able to search and filter bets based on specific categories. As long as bet criteria is met, the user should be able to participate with one-click using their wallet balance

FR4: In-App Wallet and Payment System: The user should have a crypto currency wallet with which they can deposit using either fiat or crypto. This wallet once funded will act as in app currency for any payment that is required. 

FR5: Escrow Management: Provide a secure, transparent way of holding funds until bet outcomes are determined and allow instant payouts to all parties when the bet outcome is verified.

Phase II Social engagement features
FR6: Social Engagement & Interaction: Enables users to actively engage with bets through likes, comments, shares, and reactions. 
Users should be able to discuss bets within dedicated chat threads, fostering interaction and community-driven discussions. A live activity feed should display trending bets, user participation, and top-performing bettors.
Users should be able to see live updates, contribute to discussions, and react dynamically as events unfold. This feature should support special event coverage, such as live sports games, elections, or awards shows, enhancing the communal experience.

FR7: Sharing: Enables users to share bets seamlessly across social media platforms such as Twitter, Instagram, and WhatsApp. A referral system should track engagement from shared links, rewarding users for bringing in new participants. Social integration should also allow for embedding bet results in external content.





Phase III Features (nice-to-have features and post-MVP improvements)
FR8: Creator Monetization: Provides a system where influencers can earn commission-based rewards for hosting high-engagement bets. Custom bet hosting fees should allow creators to charge a percentage of the betting pool. Verified creators should have access to premium engagement tools such as pinned bet promotions and enhanced visibility within the platform.

FR9: Creator Challenges & Leaderboards: Allows influencers and high-engagement users to create special betting challenges where followers can participate. Leaderboards should rank participants based on accuracy, frequency of wins, and total earnings, promoting competition and ongoing engagement.

FR10: Clubs & Communities: Provides users with the ability to create and join fan clubs dedicated to specific interests such as sports teams, reality shows, or celebrity gossip. Within these communities, users can create exclusive bets, participate in discussions, and track group statistics. Admins should be able to set participation rules and moderate discussions.

Leaderboard
Badges for betting milestones
Real-time bet steaming.
Live chat


Product Requirement Document (PRD) - Fan Club Z MVP
Version: 2.0
Product Manager: Efe Ono
Status: Draft
Last Updated: 2025-06-25

1. Introduction & Scope
Fan Club Z is a decentralized, social wagering platform where users create, share, and participate in bets on sports, pop culture, and viral moments. This PRD V2 expands on the initial MVP spec with detailed technical definitions, data models, API contracts, service architecture, and acceptance criteria for each module.
MVP Objectives:
Validate user-created betting as a social engagement mechanism.


Ensure secure, transparent fund management via in-app wallet and smart contracts.


Deliver core flows: user onboarding, bet creation, bet participation, settlement, and social interactions.



2. Core Modules & Detailed Requirements
2.1 User & Authentication Module
Features & Flows:
Registration: Users register via email/OTP or social login (Google/Apple). Request: POST /api/v2/users/register with body { email, phone, password?, authProvider? }. Returns JWT and user profile.


Login: POST /api/v2/users/login accepts { email|phone, password } or social token; returns JWT.


2FA: Optional TOTP setup flow: POST /api/v2/users/2fa/setup → returns QR code; POST /api/v2/users/2fa/verify.


KYC Tiering: Attributes: kycLevel: "none" | "basic" | "enhanced". Basic (name, dob) for bets < 100 NGN; Enhanced (ID upload) for high-stakes. Endpoints: POST /api/v2/users/kyc.


Data Model:
User {
  id: UUID,
  email: string,
  phone: string,
  walletAddress: string,
  kycLevel: string,
  createdAt: timestamp,
  updatedAt: timestamp
}

Acceptance Criteria:
New user receives JWT valid for 24h with refresh flow.


Unverified users can place bets up to stakeLimit(derived from config).


Verified users see increased limits and wallet features.



2.2 Wallet & Payment Module
Features & Flows:
In-App Wallet Balances: Multi-currency ledger for NGN, USDT, ETH. Schema: Balance { userId, currency, available, reserved }.


Top-Up (Fiat): POST /api/v2/wallet/deposit/fiat triggers Paystack payment session → callback GET /api/v2/wallet/deposit/fiat/callback to update ledger.


Top-Up (Crypto): POST /api/v2/wallet/deposit/crypto returns deposit address + QR; background service confirms on-chain transfers.


Withdraw: POST /api/v2/wallet/withdraw with { currency, amount, destination }; requires 2FA and KYC level.


Transfer (P2P): POST /api/v2/wallet/transfer to another user ID.


Smart Contract Escrow:
Lock Funds: On bet placement, API calls on-chain to escrow.lock(betId, amount) via web3 library.


Release Funds: On settlement, backend triggers escrow.release(betId, winners[]).


Data Model:
WalletTransaction {
  id: UUID,
  userId: UUID,
  type: "deposit"|"withdraw"|"bet_lock"|"bet_release"|"transfer",
  currency: string,
  amount: decimal,
  status: "pending"|"completed"|"failed",
  reference: string,
  createdAt: timestamp
}

Acceptance Criteria:
Deposits reflect in ledger within 2 minutes for crypto, immediate for fiat.


Withdrawals processed with audit trail, funds debited instantly and show pending.


Escrow lock fails revert transaction and notify user.



2.3 Bet Management Module
Features & Flows:
Create Bet: POST /api/v2/bets with payload:

 {
  title: string,
  description: string,
  type: "binary"|"multi"|"pool",
  options: [{ id, label }],
  stakeMin: decimal,
  stakeMax: decimal,
  entryDeadline: timestamp,
  settlementMethod: "auto"|"manual",
  isPrivate: boolean,
  password?: string
}


List Bets: GET /api/v2/bets?status=active&category=sports|pop|custom


Get Bet: GET /api/v2/bets/{betId}


Place Bet: POST /api/v2/bets/{betId}/place → locks funds in escrow.


Odds & Pool Logic:
For binary/multi: odds = totalPool / amountOnOption.


For pool: dynamic share = userStake / totalStakeOnWinningOption.


Data Model:
Bet {
  id: UUID,
  creatorId: UUID,
  title: string,
  type: string,
  options: [{ id, label, totalStaked }],
  status: "pending"|"open"|"closed"|"settled",
  stakeMin, stakeMax,
  poolTotal: decimal,
  entryDeadline,
  settlementMethod,
  createdAt,
  updatedAt
}

Acceptance Criteria:
Bet creation returns 201 with betId and initial pool metrics.


Bet list pagination (limit, offset) returns correct counts.


Option stakes update atomically under concurrent placements.



2.4 Settlement & Dispute Module
Features & Flows:
Auto-Settle: Cron job polls external APIs (sports data) or uses on-chain oracles; calls POST /api/v2/bets/{betId}/settle.


Manual Settle: Creator/admin calls settle with outcome payload and proof.


Dispute: POST /api/v2/disputes with { betId, reason, evidenceUrl }; admin dashboard to resolve.


Data Model:
Dispute {
  id: UUID,
  betId: UUID,
  userId,
  reason: string,
  status: "open"|"resolved"|"rejected",
  resolution: string,
  createdAt,
  updatedAt
}

Acceptance Criteria:
Auto-settlement completes within 5 minutes of event end.


Disputes assigned and resolved within SLO (24h).


Smart contract release always matches settlement outcome.



2.5 Social & Engagement Module
Features & Flows:
Comments & Reactions: POST /api/v2/bets/{betId}/comments, POST /api/v2/bets/{betId}/reactions.


Leaderboards: Weekly and all-time ranking by wins, earnings: GET /api/v2/leaderboards?type=weekly|all


Badges & XP: Track actions: bet_created, bet_placed, comment_made. XP thresholds unlock badges.


Data Model:
Comment {
  id, betId, userId, content, createdAt
}
Reaction {
  id, betId, userId, type (like|cheer), createdAt
}
Badge {
  id, userId, badgeType, awardedAt
}

Acceptance Criteria:
Comments and reactions display in real-time (<1s) via WebSocket.


Leaderboard queries return top N users in <200ms.


Badge awards trigger in-app notification.



3. Technical Architecture
Overview Diagram:
API Gateway (Node.js + Express) → routes to microservices


Auth Service (JWT, 2FA)


User Service (Profile, KYC)


Wallet Service (Ledger, Escrow)


Bet Service (Creation, Placement, Odds)


Settlement Service (Auto/manual, Oracles)


Social Service (Comments, Reactions, Leaderboards)


Notification Service (Email/SMS/WebSocket)


Database: PostgreSQL (primary), Redis (cache, pub/sub), RabbitMQ (jobs)


Blockchain: Polygon Testnet → smart contract layer for escrow


Deployment & CI/CD:
GitHub Actions pipeline: lint → unit tests → integration tests → deploy to staging


Terraform for infra: ECS/Fargate or Kubernetes cluster, RDS, ElastiCache


Monitoring: Prometheus + Grafana, ELK stack, Sentry for error tracking



4. Non-Functional Requirements
Scalability: Handle 10k RPS on read endpoints, 200 EPS (events per sec) on write during peaks


Reliability: 99.9% uptime SLA; auto-scaling groups


Security: OWASP Top 10 compliance, penetration tests, smart contract audits


Performance: API P95 latency < 150ms


Data Retention: 7 years for financial records, immutable S3 storage for evidence



5. Release Plan & Milestones
Phase
Timeline
Deliverables
Phase 1: Setup
Weeks 1–2
Infra provisioning, OpenAPI spec, smart contract scaffold
Phase 2: Build
Weeks 3–6
User, Auth, Wallet, Bet services, DB migrations
Phase 3: Integrate
Weeks 7–8
Smart contract integration, real-time notifications
Phase 4: Test
Weeks 9–10
End-to-end tests, penetration test, load test
Phase 5: Launch Beta
Weeks 11–12
Public beta release, monitoring, feedback loop


6. Success Metrics & KPIs
Activation: 30% of signups create or join a bet within 7 days


Retention: 20% DAU/MAU ratio by month 3


Transaction Volume: ₦50M+ or equivalent in crypto within first quarter post-launch


Engagement: 5 comments/reactions per active user per week


Reliability: <0.1% error rate on transactions



End of PRD V2.0 – ready for Cursor scaffolding and implementation.





Betting Algorithm (Core Mechanics)
Outcome Modeling & Odds Calculation: The system should dynamically calculate odds based on real-time participation using a parimutuel betting system or a market maker model like AMM (Automated Market Maker).

Parimutuel (used in horse racing, e.g., TwinSpires): All bets are placed into a single pool. Odds are not fixed and will fluctuate based on how much is staked on each outcome. After the event, the total pool (minus platform fee) is divided among the winners.

AMM (used in DeFi protocols like Augur, Polymarket): Uses a bonding curve (e.g., LMSR – Logarithmic Market Scoring Rule) to adjust odds and prices dynamically as users place bets. The earlier you bet, the better your odds.

Platform Fee & Incentives:

Platform takes a small cut (e.g., 2-5%) on total bet pool as revenue.

Bet creators earn a portion of the fee (e.g., 1%) to incentivize high-quality bets.


How are odds calculated?
Modern platforms (crypto based) utilize Dynamic Odds via Market Making (Peer-to-Peer). Odds are not fixed by the house but derived from how much money is staked on each outcome. The more money on one outcome, the lower its odds. This mimics Betfair Exchange (P2P betting) and automated market makers (AMMs) like Uniswap or Polymarket, where odds adjust with volume and price discovery is crowd-driven.

Formula (Simplified):
Odds = Total Pool / Amount Bet on Outcome

Example:

Total Pool: $1,000
$700 bet on Team A, $300 on Team B
Odds for Team A = 1000 / 700 ≈ 1.43
Odds for Team B = 1000 / 300 ≈ 3.33


How is liquidity generated on a betting platform?

Peer-to-Peer Betting (Fan Club Z Model): Users fund each other’s winnings. No need for the platform to seed liquidity.

Liquidity Incentives for Creators: Bet creators can seed bets with an initial stake to attract early bettors. Creators earn a percentage cut (fee) from the final pool (like a “house take”).

Liquidity Mining / Yield Farming (Web3): In crypto-enabled versions, users can stake tokens into pools to earn passive returns, similar to Polymarket’s LP incentives.

Important Note: In P2P betting like Fan Club Z, the “house” is not counterparty to bets. But here’s how liquidity is still assured:

a. Escrow Smart Contracts (Web3 model): All funds are held in smart contracts once a bet is placed. This guarantees payouts are secure and prevents rug pulls.

b. Participation Caps and Minimum Liquidity Thresholds: A bet must reach a minimum threshold before being locked in (e.g., $100 total pool). This ensures liquidity is deep enough to support payouts.

c. Platform Fees: Fan Club Z can collect a small percentage (e.g., 2–5%) from each pool for operations. Part of this fee can go into a reserve fund or insurance pool to back unexpected liquidity gaps.

Polymarket uses conditional tokens and liquidity providers who stake funds for yield.

Betfair ensures payouts by only matching bets once counter-stakes are confirmed.


Fan Club Z – OpenAPI Specification
Document Owner: Product Manager, Fan Club Z
Version: 1.0
Last Updated: 2025-06-25
ID: 6858a4c64d948191a5a11bd08e8ee585

1. OpenAPI 3.0.3 Specification (Core Services)
openapi: 3.0.3
info:
  title: Fan Club Z API
  version: "1.0.0"
  description: Core services for Fan Club Z MVP
servers:
  - url: https://api.fanclubz.com/v2
security:
  - bearerAuth: []

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    User:
      type: object
      properties:
        id:
          type: string
          format: uuid
        email:
          type: string
          format: email
        phone:
          type: string
        walletAddress:
          type: string
        kycLevel:
          type: string
          enum: [none, basic, enhanced]
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    RegisterRequest:
      type: object
      required: [email, phone]
      properties:
        email:
          type: string
          format: email
        phone:
          type: string
        password:
          type: string
        authProvider:
          type: string

    AuthResponse:
      type: object
      properties:
        token:
          type: string
        user:
          $ref: '#/components/schemas/User'

    WalletTransaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        type:
          type: string
          enum: [deposit, withdraw, bet_lock, bet_release, transfer]
        currency:
          type: string
        amount:
          type: number
        status:
          type: string
          enum: [pending, completed, failed]
        reference:
          type: string
        createdAt:
          type: string
          format: date-time

    Bet:
      type: object
      properties:
        id:
          type: string
          format: uuid
        creatorId:
          type: string
          format: uuid
        title:
          type: string
        description:
          type: string
        type:
          type: string
          enum: [binary, multi, pool]
        options:
          type: array
          items:
            type: object
            properties:
              id:
                type: string
                format: uuid
              label:
                type: string
              totalStaked:
                type: number
        status:
          type: string
          enum: [pending, open, closed, settled]
        stakeMin:
          type: number
        stakeMax:
          type: number
        poolTotal:
          type: number
        entryDeadline:
          type: string
          format: date-time
        settlementMethod:
          type: string
          enum: [auto, manual]
        isPrivate:
          type: boolean
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time

    Comment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        betId:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        content:
          type: string
        createdAt:
          type: string
          format: date-time

    Reaction:
      type: object
      properties:
        id:
          type: string
          format: uuid
        betId:
          type: string
          format: uuid
        userId:
          type: string
          format: uuid
        type:
          type: string
          enum: [like, cheer]
        createdAt:
          type: string
          format: date-time

paths:
  /users/register:
    post:
      summary: Register a new user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RegisterRequest'
      responses:
        '201':
          description: User registered
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'

  /users/login:
    post:
      summary: Login user
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                email:
                  type: string
                phone:
                  type: string
                password:
                  type: string
      responses:
        '200':
          description: Authenticated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'

  /users/kyc:
    post:
      summary: Submit KYC documents
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                idDocument:
                  type: string
                  format: binary
                level:
                  type: string
                  enum: [basic, enhanced]
      responses:
        '200':
          description: KYC submitted

  /wallet/deposit/fiat:
    post:
      summary: Initiate fiat deposit
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Payment session created

  /wallet/deposit/fiat/callback:
    get:
      summary: Fiat deposit callback
      responses:
        '200':
          description: Deposit confirmed

  /wallet/deposit/crypto:
    post:
      summary: Generate crypto deposit address
      security:
        - bearerAuth: []
      responses:
        '200':
          description: Deposit address returned
          content:
            application/json:
              schema:
                type: object
                properties:
                  address:
                    type: string
                  qrCode:
                    type: string

  /wallet/withdraw:
    post:
      summary: Withdraw funds
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                currency:
                  type: string
                amount:
                  type: number
                destination:
                  type: string
      responses:
        '202':
          description: Withdrawal pending

  /wallet/transfer:
    post:
      summary: Transfer funds P2P
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                toUserId:
                  type: string
                currency:
                  type: string
                amount:
                  type: number
      responses:
        '200':
          description: Transfer completed

  /bets:
    post:
      summary: Create a new bet
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Bet'
      responses:
        '201':
          description: Bet created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Bet'
    get:
      summary: List active bets
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [active, pending, closed]
        - name: category
          in: query
          schema:
            type: string
        - name: limit
          in: query
          schema:
            type: integer
        - name: offset
          in: query
          schema:
            type: integer
      responses:
        '200':
          description: List of bets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Bet'

  /bets/{betId}:
    get:
      summary: Get a bet by ID
      parameters:
        - name: betId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Bet details
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Bet'

  /bets/{bettId}/place:
    post:
      summary: Place a stake on a bet
      security:
        - bearerAuth: []
      parameters:
        - name: betId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                optionId:
                  type: string
                amount:
                  type: number
      responses:
        '200':
          description: Stake placed

  /bets/{betId}/settle:
    post:
      summary: Settle a bet (auto or manual)
      security:
        - bearerAuth: []
      parameters:
        - name: betId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                outcomeOptionId:
                  type: string
                proofUrl:
                  type: string
      responses:
        '200':
          description: Bet settled

  /disputes:
    post:
      summary: Open a dispute
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/Dispute'
      responses:
        '201':
          description: Dispute created

  /bets/{betId}/comments:
    post:
      summary: Add a comment to a bet
      security:
        - bearerAuth: []
      parameters:
        - name: betId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                content:
                  type: string
      responses:
        '201':
          description: Comment added

  /bets/{betId}/reactions:
    post:
      summary: React to a bet
      security:
        - bearerAuth: []
      parameters:
        - name: betId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
           schema:
              type: object
              properties:
                type:
                  type: string
                  enum: [like, cheer]
      responses:
        '200':
          description: Reaction recorded

  /leaderboards:
    get:
      summary: Retrieve leaderboards
      parameters:
        - name: type
          in: query
          schema:
            type: string
            enum: [weekly, all]
      responses:
        '200':
          description: Leaderboard entries
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    userId:
                      type: string
                    score:
                      type: number

tags:
  - name: users
  - name: wallet
  - name: bets
  - name: disputes
  - name: social

2. Next Steps
Import the Spec into Cursor: Create a new project in Cursor, import this OpenAPI file to scaffold controllers, models, routes, and validation layers.


Define Database Migrations: Based on the schemas, generate migration scripts for PostgreSQL tables and Redis structures.


Configure CI/CD: Extend GitHub Actions workflows to run linting, generated code tests, and deployment to staging.


Implement Business Logic: Flesh out the scaffolded code with odds calculation, escrow state machine, KYC throttling, and referral engine.


Set Up Monitoring & Alerts: Deploy Prometheus, Grafana, Sentry, and ELK to track API performance, error rates, and user flows.


Internal QA & Testing: Write unit and integration tests (Jest, Mocha, or equivalent) and perform load tests simulating 200 EPS.


Beta Release & Feedback Loop: Deploy to staging, onboard 20–50 creators, gather feedback, iterate on critical fixes.


# Fan Club Z - Social Betting Demo

## Project Overview

Fan Club Z is a mobile-first social betting platform that allows users to create and participate in bets, manage wallets, and engage with a community through clubs and social interactions. The platform features real-time betting, social engagement tools, and club-based communities with a modern, clean design inspired by Robinhood and Twitter aesthetics.

## Technology Stack

- **State Management**: Zustand
- **Data Fetching**: TanStack Query (React Query)
- **Styling**: Tailwind CSS + shadcn/ui components with custom design system
- **Design System**: Modern green color scheme (#22c55e) with Robinhood/Twitter inspired aesthetics
- **Icons**: Remix Icons + Lucide React
- **Animations**: Framer Motion for smooth transitions and micro-interactions

## Project Structure

```
├── client/src/
│   ├── components/
│   │   ├── ui/                     # shadcn/ui components
│   │   ├── modals/                 # Modal components
│   │   ├── onboarding/             # Onboarding tutorial components
│   │   ├── BetCard.tsx             # Bet display component
│   │   ├── BottomNavigation.tsx    # Mobile bottom navigation
│   │   ├── MainHeader.tsx          # Top navigation header
│   │   └── SearchBar.tsx           # Search functionality
│   ├── pages/
│   │   ├── auth/                   # Authentication pages
│   │   ├── DiscoverTab.tsx         # Main bet discovery page
│   │   ├── BetsTab.tsx             # User's bets management
│   │   ├── CreateBetTab.tsx        # Bet creation interface
│   │   ├── ClubsTab.tsx            # Clubs discovery and management
│   │   ├── ClubDetailPage.tsx      # Individual club details
│   │   ├── BetDetailPage.tsx       # Individual bet details
│   │   ├── DiscussionDetailPage.tsx # Club discussion threads
│   │   ├── ProfilePage.tsx         # User profile
│   │   └── WalletTab.tsx           # Wallet and transactions
│   ├── store/
│   │   ├── authStore.ts            # Authentication state
│   │   ├── betStore.ts             # Betting logic and state
│   │   └── walletStore.ts          # Wallet and transaction state
│   ├── hooks/
│   │   └── use-toast.ts            # Toast notification hook
│   ├── lib/
│   │   ├── queryClient.ts          # API client configuration
│   │   └── utils.ts                # Utility functions
│   ├── App.tsx                     # Main application component
│   ├── main.tsx                    # Application entry point
│   └── index.css                   # Global styles and animations
├── server/
│   ├── index.ts                    # Express server entry point
│   ├── routes.ts                   # API route definitions
│   ├── storage.ts                  # In-memory data storage
│   └── vite.ts                     # Vite development server setup
├── shared/
│   └── schema.ts                   # TypeScript types and schema
├── package.json                    # Dependencies and scripts
├── tailwind.config.ts              # Tailwind CSS configuration
├── theme.json                      # UI theme configuration
└── vite.config.ts                  # Vite build configuration
```

## Core Features

### 1. Betting System
- **Bet Discovery**: Browse trending and recent bets by category
- **Bet Creation**: Create binary (Yes/No) and multiple choice bets
- **Bet Participation**: Place bets with real-time feedback
- **Bet Management**: Track active, created, and completed bets
- **Live Betting**: Real-time updates for active bets

### 2. Social Features
- **Likes and Comments**: Social interaction on bets
- **Sharing**: Share bets across platforms (future feature)
- **Activity Feed**: Live updates on bet activities
- **User Profiles**: Manage personal information and preferences

### 3. Clubs System
- **Club Discovery**: Browse and join betting clubs
- **Club Betting**: Participate in club-specific bets
- **Discussions**: Club discussion threads and comments
- **Club Management**: Create and manage clubs
- **Member Interactions**: Invite and manage club members

### 4. Wallet System
- **Balance Management**: View and manage wallet balance
- **Transactions**: Track deposits, withdrawals, and bet placements
- **Transaction History**: Detailed transaction records
- **Deposit Functionality**: Add funds to wallet

### 5. Mobile-First Design
- **Responsive Layout**: Optimized for mobile devices
- **Touch Interactions**: Mobile-friendly touch targets
- **Bottom Navigation**: Easy thumb navigation
- **Swipe Gestures**: Horizontal scrolling for bet discovery

## Key Components

### BetCard (`client/src/components/BetCard.tsx`)
The core component for displaying bets with three variants:
- **User Entry Card**: Shows user's active bets with position details
- **Horizontal Card**: Used in discovery scrolling lists
- **Vertical Card**: Used in main bet lists

Features:
- Social interactions (like, comment, share)
- Quick bet placement
- Real-time updates
- Mobile-optimized touch interactions
- Modern card design with rounded corners and shadows
- Smooth hover effects and transitions

### Design System
The platform follows a modern design system inspired by Robinhood and Twitter:

#### Color Scheme
- **Primary**: Green (#22c55e) - Used for buttons, highlights, and brand elements
- **Background**: Light gray (#f9fafb) - Main background color
- **Cards**: White with subtle shadows for depth
- **Text**: Dark gray (#111827) for headings, medium gray (#6b7280) for body text

#### Typography
- **Headings**: Bold, large font sizes with tight tracking
- **Body**: Medium weight with improved line height
- **Buttons**: Semibold text for better readability

#### Layout Principles
- **Card-based Design**: All content organized in clean, rounded cards
- **Generous Spacing**: Consistent padding and margins throughout
- **Smooth Animations**: Hover effects and transitions for better UX
- **Mobile-first**: Optimized for touch interactions and mobile viewing

### State Management

#### BetStore (`client/src/store/betStore.ts`)
Manages all betting-related state:
- Available bets
- User's active bets
- Created bets
- Bet entries and outcomes

#### WalletStore (`client/src/store/walletStore.ts`)
Handles financial operations:
- Wallet balance
- Transaction history
- Deposit/withdrawal operations

#### AuthStore (`client/src/store/authStore.ts`)
User authentication and profile:
- User session management
- Profile information
- Authentication state

### API Routes (`server/routes.ts`)

#### Betting Endpoints
- `GET /api/bets` - Fetch all bets with filters
- `POST /api/bets` - Create new bet
- `GET /api/bets/trending` - Get trending bets
- `GET /api/bets/user/:userId` - Get user's bets
- `POST /api/bet-entries` - Place a bet
- `GET /api/bet-entries/user/:userId` - Get user's bet entries

#### Club Endpoints
- `GET /api/clubs` - Fetch all clubs
- `POST /api/clubs` - Create new club
- `GET /api/clubs/:id` - Get club details
- `POST /api/clubs/:id/join` - Join a club
- `GET /api/clubs/:id/bets` - Get club bets
- `POST /api/club-discussions` - Create discussion
- `GET /api/club-discussions/:id/comments` - Get discussion comments

#### User Endpoints
- `GET /api/user/:id` - Get user profile
- `PUT /api/user/:id` - Update user profile
- `GET /api/transactions/:userId` - Get user transactions

### Data Schema (`shared/schema.ts`)

#### Core Entities
- **User**: Profile, wallet balance, authentication
- **Bet**: Betting details, outcomes, deadlines
- **BetEntry**: User's bet placements
- **Club**: Community groups for betting
- **ClubMember**: Club membership records
- **Transaction**: Financial transaction records
- **Comment**: Comments on bets and discussions

## Mobile Optimizations

### UI/UX Improvements
- **Touch Targets**: Minimum 44px touch targets for buttons
- **Active States**: Visual feedback on touch interactions
- **Smooth Animations**: CSS transitions for better feel
- **Safe Areas**: Proper handling of device safe areas
- **Sticky Navigation**: Fixed header and bottom navigation

### Performance
- **Lazy Loading**: Components loaded on demand
- **Optimized Images**: Proper image sizing and formats
- **Efficient Rendering**: React memo and optimization patterns
- **Fast Navigation**: Client-side routing with Wouter

## Development Features

### Mock Data System
The app uses a comprehensive mock data system for development:
- Pre-populated bets across different categories
- Sample users and clubs
- Transaction history
- Discussion threads and comments

### Development Tools
- **Hot Module Replacement**: Instant updates during development
- **TypeScript**: Full type safety across the application
- **ESLint**: Code quality and consistency
- **Prettier**: Code formatting

## Future Enhancements

### Planned Features
1. **KYC Integration**: Identity verification for users
2. **Advanced Bet Types**: Beyond binary yes/no betting
3. **Payment Integration**: Real payment processing
4. **Push Notifications**: Real-time bet updates
5. **Advanced Analytics**: Betting statistics and insights
6. **Referral System**: User referral tracking and rewards

### Technical Improvements
1. **Database Integration**: Replace in-memory storage with persistent database
2. **Real-time Features**: WebSocket integration for live updates
3. **Caching**: Redis for improved performance
4. **Security**: Enhanced authentication and authorization
5. **Testing**: Comprehensive test suite
6. **Deployment**: Production deployment pipeline

## Installation and Setup

### Prerequisites
- Node.js 18+ 
- npm or yarn

### Development Setup
```bash
# Install dependencies
npm install

# Start development server
npm run dev
```

### Available Scripts
- `npm run dev` - Start development server
- `npm run build` - Build for production
- `npm run preview` - Preview production build

## Environment Configuration

### Development
The app runs in development mode with:
- In-memory storage
- Mock authentication
- Hot reloading enabled
- Debug logging

### Key Environment Variables
- `NODE_ENV` - Environment setting
- `PORT` - Server port (default: 5000)
- Database connection strings (when implemented)

## Recent Updates (July 2025)

### Major UI/UX Redesign
The platform underwent a comprehensive design overhaul implementing modern design principles:

#### Design Improvements
- **Modern Color Scheme**: Implemented signature green primary color (#22c55e)
- **Enhanced Typography**: Improved font weights, sizes, and spacing throughout
- **Card-based Layouts**: All content now uses consistent card designs with rounded corners
- **Smooth Animations**: Added hover effects and transitions for better user experience
- **Gradient Backgrounds**: Implemented sophisticated gradient designs for key components

#### Component Updates
- **DiscoverTab**: Modern header with emoji icons and improved filtering
- **BetsTab**: Enhanced tabs with green accent colors and better spacing
- **ClubsTab**: Redesigned search and category filtering with modern buttons
- **WalletTab**: Updated balance card with gradient background and improved typography
- **CreateBetTab**: Modern form design with white card background
- **ProfilePage**: Enhanced profile header with gradient cover photo

#### Navigation Improvements
- **Bottom Navigation**: Modernized with consistent styling and smooth transitions
- **Main Header**: Updated with improved typography and spacing
- **Button Styles**: Consistent rounded buttons with hover effects throughout

## Architecture Decisions

### Frontend Architecture
- **Component-Based**: Modular React components with modern design system
- **State Management**: Zustand for simplicity and performance
- **Styling**: Utility-first CSS with Tailwind and custom design tokens
- **Type Safety**: Full TypeScript implementation

### Backend Architecture
- **RESTful API**: Standard REST endpoints
- **Express Middleware**: Authentication and validation
- **In-Memory Storage**: Development-friendly data persistence
- **Type Sharing**: Shared TypeScript types between frontend and backend

### Mobile-First Approach
- **Progressive Enhancement**: Desktop features built on mobile foundation
- **Touch-First**: All interactions optimized for touch
- **Performance**: Optimized for mobile network conditions

## Security Considerations

### Current Implementation
- Input validation on all forms
- Type safety with TypeScript
- CORS configuration for API security

### Production Requirements
- Authentication tokens (JWT)
- Input sanitization
- Rate limiting
- HTTPS enforcement
- Database security

## Performance Metrics

### Mobile Performance
- **First Contentful Paint**: < 2 seconds
- **Time to Interactive**: < 3 seconds
- **Bundle Size**: Optimized with code splitting

### User Experience
- **Touch Response**: < 100ms feedback
- **Navigation**: Instant client-side routing
- **Animations**: 60fps smooth transitions

This documentation provides a comprehensive overview of the Fan Club Z betting platform, its architecture, features, and implementation details.


## Product Requirements Document
Not available

## Technology Stack
Not available

## Project Structure
Not available

## Database Schema Design
Not available

## User Flow
Not available

## Styling Guidelines
Not available
