{"version":3,"file":"WalletPage-15bf6fa5.js","sources":["../../src/legacy/pages/WalletPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Plus, ArrowDownToLine, DollarSign, Lock, Wallet, RefreshCw } from 'lucide-react';\nimport { useAuthStore } from '../../store/authStore';\nimport { useAccount } from 'wagmi';\nimport { useLocation } from 'wouter';\nimport { openAuthGate } from '../../auth/authGateAdapter';\nimport AppHeader from '../../components/layout/AppHeader';\nimport { formatCurrency } from '@/lib/format';\nimport { useEscrowBalance } from '../../hooks/useEscrowBalance';\nimport { useUSDCBalance } from '../../hooks/useUSDCBalance';\nimport { useWalletActivity, WalletActivityItem } from '../../hooks/useWalletActivity';\nimport DepositUSDCModal from '../../components/wallet/DepositUSDCModal';\nimport WithdrawUSDCModal from '../../components/wallet/WithdrawUSDCModal';\nimport ConnectWalletSheet from '../../components/wallet/ConnectWalletSheet';\n\ninterface WalletPageProps {\n  onNavigateBack?: () => void;\n}\n\nconst WalletPage: React.FC<WalletPageProps> = ({ onNavigateBack }) => {\n  const { user, isAuthenticated } = useAuthStore();\n  const { address, isConnected } = useAccount();\n  const [, setLocation] = useLocation();\n  \n  // On-chain balance hooks\n  const { balance: walletBalance, isLoading: loadingWalletBalance, refetch: refetchWallet } = useUSDCBalance();\n  const { \n    availableUSD, \n    reservedUSD, \n    totalUSD, \n    isLoading: loadingEscrow,\n    refetch: refetchEscrow,\n    isCorrectChain \n  } = useEscrowBalance();\n  \n  // Transaction history from database\n  const { data: activityData, isLoading: loadingActivity } = useWalletActivity(user?.id, 10);\n  const activities = activityData?.items || [];\n  \n  // Modal states\n  const [showDepositModal, setShowDepositModal] = useState(false);\n  const [showWithdrawModal, setShowWithdrawModal] = useState(false);\n  const [showConnectWallet, setShowConnectWallet] = useState(false);\n\n  const isLoading = loadingWalletBalance || loadingEscrow;\n\n  const handleRefresh = async () => {\n    await Promise.all([refetchWallet(), refetchEscrow()]);\n  };\n\n  const handleDeposit = () => {\n    if (!isConnected) {\n      setShowConnectWallet(true);\n    } else {\n      setShowDepositModal(true);\n    }\n  };\n\n  const handleWithdraw = () => {\n    if (!isConnected) {\n      setShowConnectWallet(true);\n    } else {\n      setShowWithdrawModal(true);\n    }\n  };\n\n  const handleBackClick = () => {\n    if (onNavigateBack) {\n      onNavigateBack();\n    } else {\n      setLocation('/');\n    }\n  };\n\n  const getActivityIcon = (kind: string) => {\n    switch (kind) {\n      case 'deposit':\n        return { Icon: Plus, color: 'green' };\n      case 'withdraw':\n        return { Icon: ArrowDownToLine, color: 'blue' };\n      case 'lock':\n      case 'bet_placed':\n        return { Icon: Lock, color: 'orange' };\n      case 'unlock':\n      case 'bet_refund':\n        return { Icon: RefreshCw, color: 'purple' };\n      case 'payout':\n        return { Icon: DollarSign, color: 'green' };\n      case 'creator_fee':\n        return { Icon: DollarSign, color: 'emerald' };\n      case 'platform_fee':\n        return { Icon: DollarSign, color: 'indigo' };\n      default:\n        return { Icon: DollarSign, color: 'gray' };\n    }\n  };\n\n  const getActivityLabel = (kind: string) => {\n    switch (kind) {\n      case 'deposit':\n        return 'Deposit';\n      case 'withdraw':\n        return 'Withdrawal';\n      case 'bet_placed':\n        return 'Stake Placed';\n        return 'Bet Placed';\n      case 'bet_refund':\n        return 'Bet Refunded';\n      case 'payout':\n        return 'Payout';\n      case 'creator_fee':\n        return 'Creator Earnings';\n      case 'platform_fee':\n        return 'Platform Fee';\n      case 'unlock':\n        return 'Funds Released';\n      case 'lock':\n        return 'Funds Reserved';\n      default:\n        return kind.replace(/_/g, ' ');\n    }\n  };\n\n  // Handle authentication required\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gray-50\">\n        <AppHeader title=\"Wallet\" />\n        <div className=\"mx-auto w-full max-w-[720px] lg:max-w-[960px] px-4 py-4\">\n          <div className=\"flex flex-col items-center justify-center text-center py-12 px-4\">\n            <div className=\"mb-4 text-gray-300\">\n              <DollarSign className=\"w-8 h-8\" />\n            </div>\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">Sign in to view your wallet</h3>\n            <p className=\"text-sm text-gray-600 mb-6 max-w-sm\">Manage your funds and view transactions.</p>\n            <button\n              onClick={async () => {\n                try {\n                  await openAuthGate({ intent: 'view_wallet' });\n                } catch (error) {\n                  console.error('Auth gate error:', error);\n                }\n              }}\n              className=\"px-6 py-2 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors\"\n            >\n              Sign In\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <AppHeader \n        title=\"Wallet\"\n        action={\n          isConnected && (\n            <button\n              onClick={handleRefresh}\n              disabled={isLoading}\n              className=\"p-2 text-gray-600 hover:text-gray-900 transition-colors\"\n              aria-label=\"Refresh balances\"\n            >\n              <RefreshCw className={`w-5 h-5 ${isLoading ? 'animate-spin' : ''}`} />\n            </button>\n          )\n        }\n      />\n      \n      <div className=\"mx-auto w-full max-w-[720px] lg:max-w-[960px] px-4 py-4\">\n        <div className=\"space-y-4\">\n          {!isConnected ? (\n            <div className=\"bg-white rounded-2xl border border-black/[0.06] p-6\">\n              <div className=\"text-center py-8\">\n                <Wallet className=\"w-12 h-12 mx-auto mb-4 text-gray-400\" />\n                <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\n                  Connect Your Wallet\n                </h3>\n                <p className=\"text-sm text-gray-600 mb-4\">\n                  Connect your crypto wallet to view balances and manage funds\n                </p>\n                <button\n                  onClick={() => setShowConnectWallet(true)}\n                  className=\"px-6 py-3 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors\"\n                >\n                  Connect Wallet\n                </button>\n              </div>\n            </div>\n          ) : isLoading ? (\n            <>\n              <div className=\"grid grid-cols-3 gap-3\">\n                {[1, 2, 3].map((i) => (\n                  <div key={i} className=\"bg-white rounded-2xl border border-black/[0.06] p-4 min-h-[88px] animate-pulse\">\n                    <div className=\"h-4 bg-gray-200 rounded mb-2 w-2/3\"></div>\n                    <div className=\"h-6 bg-gray-200 rounded w-3/4\"></div>\n                  </div>\n                ))}\n              </div>\n            </>\n          ) : (\n            <>\n              {/* Chain Warning */}\n              {!isCorrectChain && (\n                <div className=\"bg-amber-50 border border-amber-200 rounded-xl p-4\">\n                  <p className=\"text-sm text-amber-800\">\n                    ⚠️ Please switch to Base Sepolia network\n                  </p>\n                </div>\n              )}\n\n              {/* Balance Stats */}\n              <div className=\"grid grid-cols-3 gap-3\">\n                <div className=\"bg-white rounded-2xl border border-black/[0.06] p-4 min-h-[88px] flex flex-col justify-center\">\n                  <div className=\"flex items-center space-x-1 mb-2\">\n                    <Wallet className=\"w-4 h-4 text-gray-500\" />\n                    <div className=\"text-xs text-gray-600 font-medium\">Wallet</div>\n                  </div>\n                  <div className=\"text-xl font-semibold text-gray-900 font-mono\">\n                    {formatCurrency(walletBalance || 0, 'USD', true)}\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">USDC on Base</div>\n                </div>\n                <div className=\"bg-white rounded-2xl border border-black/[0.06] p-4 min-h-[88px] flex flex-col justify-center\">\n                  <div className=\"flex items-center space-x-1 mb-2\">\n                    <DollarSign className=\"w-4 h-4 text-gray-500\" />\n                    <div className=\"text-xs text-gray-600 font-medium\">Available</div>\n                  </div>\n                  <div className=\"text-xl font-semibold text-gray-900 font-mono\">\n                    {formatCurrency(availableUSD, 'USD', true)}\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">Ready to stake</div>\n                </div>\n                <div className=\"bg-white rounded-2xl border border-black/[0.06] p-4 min-h-[88px] flex flex-col justify-center\">\n                  <div className=\"flex items-center space-x-1 mb-2\">\n                    <Lock className=\"w-4 h-4 text-gray-500\" />\n                    <div className=\"text-xs text-gray-600 font-medium\">In Bets</div>\n                  </div>\n                  <div className=\"text-xl font-semibold text-gray-900 font-mono\">\n                    {formatCurrency(reservedUSD, 'USD', true)}\n                  </div>\n                  <div className=\"text-xs text-gray-500 mt-1\">Currently locked</div>\n                </div>\n              </div>\n\n              {/* Quick Actions */}\n              <div className=\"bg-white rounded-2xl border border-black/[0.06] p-4\">\n                <h3 className=\"text-sm font-semibold text-gray-900 mb-4\">Quick Actions</h3>\n                <div className=\"flex space-x-3\">\n                  <button\n                    onClick={handleDeposit}\n                    className=\"flex-1 flex items-center justify-center space-x-2 py-3 px-4 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors\"\n                  >\n                    <Plus className=\"w-4 h-4\" />\n                    <span>Deposit</span>\n                  </button>\n                  <button\n                    onClick={handleWithdraw}\n                    disabled={totalUSD <= 0}\n                    className=\"flex-1 flex items-center justify-center space-x-2 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg font-medium hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    <ArrowDownToLine className=\"w-4 h-4\" />\n                    <span>Withdraw</span>\n                  </button>\n                </div>\n              </div>\n\n              {/* Recent Activity */}\n              <div className=\"bg-white rounded-2xl border border-black/[0.06] p-4\">\n                <h3 className=\"text-sm font-semibold text-gray-900 mb-4\">Recent Activity</h3>\n                {loadingActivity ? (\n                  <div className=\"text-center py-6\">\n                    <RefreshCw className=\"w-6 h-6 animate-spin mx-auto mb-2 text-gray-400\" />\n                    <p className=\"text-sm text-gray-600\">Loading activity...</p>\n                  </div>\n                ) : activities.length > 0 ? (\n                  <div className=\"space-y-3\">\n                    {activities.map((activity: WalletActivityItem) => {\n                      const { Icon, color } = getActivityIcon(activity.kind);\n                      const isPositive =\n                        activity.kind === 'deposit' ||\n                        activity.kind === 'unlock' ||\n                        activity.kind === 'bet_refund' ||\n                        activity.kind === 'payout' ||\n                        activity.kind === 'creator_fee' ||\n                        activity.kind === 'platform_fee';\n                      \n                      return (\n                        <div key={activity.id} className=\"flex items-center justify-between py-2\">\n                          <div className=\"flex items-center space-x-3\">\n                            <div className={`w-8 h-8 rounded-full flex items-center justify-center bg-${color}-100`}>\n                              <Icon className={`w-4 h-4 text-${color}-600`} />\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <p className=\"text-sm font-medium text-gray-900\">\n                                {getActivityLabel(activity.kind)}\n                              </p>\n                              <p className=\"text-xs text-gray-500\">\n                                {new Date(activity.createdAt).toLocaleDateString('en-US', {\n                                  month: 'short',\n                                  day: 'numeric',\n                                  hour: 'numeric',\n                                  minute: '2-digit'\n                                })}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"text-right\">\n                            <div className={`text-sm font-medium ${\n                              isPositive ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                              {isPositive ? '+' : '-'}{formatCurrency(activity.amountUSD ?? 0, 'USD', true)}\n                            </div>\n                            {activity.txHash && (\n                              <a\n                                href={`https://sepolia.basescan.org/tx/${activity.txHash}`}\n                                target=\"_blank\"\n                                rel=\"noopener noreferrer\"\n                                className=\"text-xs text-blue-600 hover:underline\"\n                              >\n                                View tx\n                              </a>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })}\n                  </div>\n                ) : (\n                  <div className=\"text-center py-8 text-gray-500\">\n                    <p>No transactions yet</p>\n                    <p className=\"text-sm mb-4\">Your transaction history will appear here.</p>\n                    <button\n                      onClick={handleDeposit}\n                      className=\"px-4 py-2 bg-emerald-600 text-white rounded-lg font-medium hover:bg-emerald-700 transition-colors\"\n                    >\n                      Make Your First Deposit\n                    </button>\n                  </div>\n                )}\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Modals */}\n      {showDepositModal && (\n        <DepositUSDCModal\n          open={showDepositModal}\n          onClose={() => setShowDepositModal(false)}\n          onSuccess={() => {\n            setShowDepositModal(false);\n            handleRefresh();\n          }}\n        />\n      )}\n      \n      {showWithdrawModal && (\n        <WithdrawUSDCModal\n          open={showWithdrawModal}\n          onClose={() => setShowWithdrawModal(false)}\n          onSuccess={() => {\n            setShowWithdrawModal(false);\n            handleRefresh();\n          }}\n          availableUSDC={availableUSD}\n        />\n      )}\n      \n      {showConnectWallet && (\n        <ConnectWalletSheet\n          isOpen={showConnectWallet}\n          onClose={() => setShowConnectWallet(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default WalletPage;\n"],"names":["WalletPage","onNavigateBack","user","isAuthenticated","useAuthStore","address","isConnected","useAccount","useLocation","walletBalance","loadingWalletBalance","refetchWallet","useUSDCBalance","availableUSD","reservedUSD","totalUSD","loadingEscrow","refetchEscrow","isCorrectChain","useEscrowBalance","activityData","loadingActivity","useWalletActivity","activities","showDepositModal","setShowDepositModal","useState","showWithdrawModal","setShowWithdrawModal","showConnectWallet","setShowConnectWallet","isLoading","handleRefresh","handleDeposit","handleWithdraw","getActivityIcon","kind","Plus","ArrowDownToLine","Lock","RefreshCw","DollarSign","getActivityLabel","jsxs","jsx","AppHeader","i","Fragment","Wallet","activity","Icon","color","isPositive","formatCurrency","DepositUSDCModal","WithdrawUSDCModal","ConnectWalletSheet","openAuthGate"],"mappings":"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"}